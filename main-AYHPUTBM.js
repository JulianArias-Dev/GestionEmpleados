import{A as k0,B as ji,C as hn,a as K,b as xe,c as D0,d as ik,e as C0,f as jm,g as L,h as T0,i as ch,j as A0,k as S0,l as x0,m as Bm,n as M0,o as Du,p as Um,q as uh,r as R0,s as N0,t as $m,u as tt,v as Go,w as yr,x as lh,y as Cu,z as P0}from"./chunk-ZLYEE6JJ.js";var __=ik((Pr,w_)=>{"use strict";(function(t,e){typeof Pr=="object"&&typeof w_<"u"?w_.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Pr,function(){"use strict";function t(v,d){(d==null||d>v.length)&&(d=v.length);for(var f=0,y=Array(d);f<d;f++)y[f]=v[f];return y}function e(v){if(Array.isArray(v))return v}function n(v){if(Array.isArray(v))return t(v)}function r(v,d,f){if(typeof v=="function"?v===d:v.has(d))return arguments.length<3?d:f;throw new TypeError("Private element is not present on this object")}function i(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function o(v,d,f){return d=N(d),T(v,W()?Reflect.construct(d,f||[],N(v).constructor):d.apply(v,f))}function s(v,d){if(d.has(v))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")}function c(v,d){return v.get(r(v,d))}function l(v,d,f){s(v,d),d.set(v,f)}function h(v,d,f){return v.set(r(v,d),f),f}function g(v,d,f){if(W())return Reflect.construct.apply(null,arguments);var y=[null];y.push.apply(y,d);var b=new(v.bind.apply(v,y));return b}function w(v,d){for(var f=0;f<d.length;f++){var y=d[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,D(y.key),y)}}function E(v,d,f){return d&&w(v.prototype,d),Object.defineProperty(v,"prototype",{writable:!1}),v}function S(v,d){var f=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!f){if(Array.isArray(v)||(f=qr(v))||d){f&&(v=f);var y=0,b=function(){};return{s:b,n:function(){return y>=v.length?{done:!0}:{done:!1,value:v[y++]}},e:function(fe){throw fe},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j,J=!0,me=!1;return{s:function(){f=f.call(v)},n:function(){var fe=f.next();return J=fe.done,fe},e:function(fe){me=!0,j=fe},f:function(){try{J||f.return==null||f.return()}finally{if(me)throw j}}}}function P(){return P=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(v,d,f){var y=A(v,d);if(y){var b=Object.getOwnPropertyDescriptor(y,d);return b.get?b.get.call(arguments.length<3?v:f):b.value}},P.apply(null,arguments)}function N(v){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},N(v)}function H(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(d&&d.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),d&&I(v,d)}function W(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W=function(){return!!v})()}function U(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function X(v,d){var f=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(f!=null){var y,b,j,J,me=[],fe=!0,st=!1;try{if(j=(f=f.call(v)).next,d!==0)for(;!(fe=(y=j.call(f)).done)&&(me.push(y.value),me.length!==d);fe=!0);}catch(Iu){st=!0,b=Iu}finally{try{if(!fe&&f.return!=null&&(J=f.return(),Object(J)!==J))return}finally{if(st)throw b}}return me}}function ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(v,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(v)}function I(v,d){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,y){return f.__proto__=y,f},I(v,d)}function C(v,d){return e(v)||X(v,d)||qr(v,d)||ie()}function A(v,d){for(;!{}.hasOwnProperty.call(v,d)&&(v=N(v))!==null;);return v}function x(v){return n(v)||U(v)||qr(v)||oe()}function R(v,d){if(typeof v!="object"||!v)return v;var f=v[Symbol.toPrimitive];if(f!==void 0){var y=f.call(v,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function D(v){var d=R(v,"string");return typeof d=="symbol"?d:d+""}function $e(v){"@babel/helpers - typeof";return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},$e(v)}function qr(v,d){if(v){if(typeof v=="string")return t(v,d);var f={}.toString.call(v).slice(8,-1);return f==="Object"&&v.constructor&&(f=v.constructor.name),f==="Map"||f==="Set"?Array.from(v):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?t(v,d):void 0}}var wm=100,le={},Ao=function(){le.previousActiveElement instanceof HTMLElement?(le.previousActiveElement.focus(),le.previousActiveElement=null):document.body&&document.body.focus()},Jc=function(d){return new Promise(function(f){if(!d)return f();var y=window.scrollX,b=window.scrollY;le.restoreFocusTimeout=setTimeout(function(){Ao(),f()},wm),window.scrollTo(y,b)})},Xc="swal2-",_m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],O=_m.reduce(function(v,d){return v[d]=Xc+d,v},{}),Nt=["success","warning","info","question","error"],qs=Nt.reduce(function(v,d){return v[d]=Xc+d,v},{}),Ti="SweetAlert2:",eu=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},vt=function(d){console.warn("".concat(Ti," ").concat($e(d)==="object"?d.join(" "):d))},zr=function(d){console.error("".concat(Ti," ").concat(d))},Id=[],zs=function(d){Id.includes(d)||(Id.push(d),vt(d))},So=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zs('"'.concat(d,'" is deprecated and will be removed in the next major release.').concat(f?' Use "'.concat(f,'" instead.'):""))},Ai=function(d){return typeof d=="function"?d():d},xo=function(d){return d&&typeof d.toPromise=="function"},Gr=function(d){return xo(d)?d.toPromise():Promise.resolve(d)},Mo=function(d){return d&&Promise.resolve(d)===d},Vt=function(){return document.body.querySelector(".".concat(O.container))},Si=function(d){var f=Vt();return f?f.querySelector(d):null},Xt=function(d){return Si(".".concat(d))},Fe=function(){return Xt(O.popup)},xi=function(){return Xt(O.icon)},tu=function(){return Xt(O["icon-content"])},nu=function(){return Xt(O.title)},ru=function(){return Xt(O["html-container"])},Gs=function(){return Xt(O.image)},Ro=function(){return Xt(O["progress-steps"])},Mi=function(){return Xt(O["validation-message"])},He=function(){return Si(".".concat(O.actions," .").concat(O.confirm))},it=function(){return Si(".".concat(O.actions," .").concat(O.cancel))},Nn=function(){return Si(".".concat(O.actions," .").concat(O.deny))},Dd=function(){return Xt(O["input-label"])},Wr=function(){return Si(".".concat(O.loader))},No=function(){return Xt(O.actions)},Ri=function(){return Xt(O.footer)},Po=function(){return Xt(O["timer-progress-bar"])},Ws=function(){return Xt(O.close)},iu=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ou=function(){var d=Fe();if(!d)return[];var f=d.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(f).sort(function(J,me){var fe=parseInt(J.getAttribute("tabindex")||"0"),st=parseInt(me.getAttribute("tabindex")||"0");return fe>st?1:fe<st?-1:0}),b=d.querySelectorAll(iu),j=Array.from(b).filter(function(J){return J.getAttribute("tabindex")!=="-1"});return x(new Set(y.concat(j))).filter(function(J){return ht(J)})},su=function(){return en(document.body,O.shown)&&!en(document.body,O["toast-shown"])&&!en(document.body,O["no-backdrop"])},Ni=function(){var d=Fe();return d?en(d,O.toast):!1},Cd=function(){var d=Fe();return d?d.hasAttribute("data-loading"):!1},Ht=function(d,f){if(d.textContent="",f){var y=new DOMParser,b=y.parseFromString(f,"text/html"),j=b.querySelector("head");j&&Array.from(j.childNodes).forEach(function(me){d.appendChild(me)});var J=b.querySelector("body");J&&Array.from(J.childNodes).forEach(function(me){me instanceof HTMLVideoElement||me instanceof HTMLAudioElement?d.appendChild(me.cloneNode(!0)):d.appendChild(me)})}},en=function(d,f){if(!f)return!1;for(var y=f.split(/\s+/),b=0;b<y.length;b++)if(!d.classList.contains(y[b]))return!1;return!0},au=function(d,f){Array.from(d.classList).forEach(function(y){!Object.values(O).includes(y)&&!Object.values(qs).includes(y)&&!Object.values(f.showClass||{}).includes(y)&&d.classList.remove(y)})},qt=function(d,f,y){if(au(d,f),!!f.customClass){var b=f.customClass[y];if(b){if(typeof b!="string"&&!b.forEach){vt("Invalid type of customClass.".concat(y,'! Expected string or iterable object, got "').concat($e(b),'"'));return}Ae(d,b)}}},Pn=function(d,f){if(!f)return null;switch(f){case"select":case"textarea":case"file":return d.querySelector(".".concat(O.popup," > .").concat(O[f]));case"checkbox":return d.querySelector(".".concat(O.popup," > .").concat(O.checkbox," input"));case"radio":return d.querySelector(".".concat(O.popup," > .").concat(O.radio," input:checked"))||d.querySelector(".".concat(O.popup," > .").concat(O.radio," input:first-child"));case"range":return d.querySelector(".".concat(O.popup," > .").concat(O.range," input"));default:return d.querySelector(".".concat(O.popup," > .").concat(O.input))}},cu=function(d){if(d.focus(),d.type!=="file"){var f=d.value;d.value="",d.value=f}},ko=function(d,f,y){!d||!f||(typeof f=="string"&&(f=f.split(/\s+/).filter(Boolean)),f.forEach(function(b){Array.isArray(d)?d.forEach(function(j){y?j.classList.add(b):j.classList.remove(b)}):y?d.classList.add(b):d.classList.remove(b)}))},Ae=function(d,f){ko(d,f,!0)},zt=function(d,f){ko(d,f,!1)},Gn=function(d,f){for(var y=Array.from(d.children),b=0;b<y.length;b++){var j=y[b];if(j instanceof HTMLElement&&en(j,f))return j}},et=function(d,f,y){y==="".concat(parseInt(y))&&(y=parseInt(y)),y||parseInt(y)===0?d.style.setProperty(f,typeof y=="number"?"".concat(y,"px"):y):d.style.removeProperty(f)},dt=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";d&&(d.style.display=f)},ot=function(d){d&&(d.style.display="none")},Kr=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";d&&new MutationObserver(function(){Oo(d,d.innerHTML,f)}).observe(d,{childList:!0,subtree:!0})},Td=function(d,f,y,b){var j=d.querySelector(f);j&&j.style.setProperty(y,b)},Oo=function(d,f){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";f?dt(d,y):ot(d)},ht=function(d){return!!(d&&(d.offsetWidth||d.offsetHeight||d.getClientRects().length))},Em=function(){return!ht(He())&&!ht(Nn())&&!ht(it())},Ad=function(d){return d.scrollHeight>d.clientHeight},Fo=function(d){var f=window.getComputedStyle(d),y=parseFloat(f.getPropertyValue("animation-duration")||"0"),b=parseFloat(f.getPropertyValue("transition-duration")||"0");return y>0||b>0},Ks=function(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Po();y&&ht(y)&&(f&&(y.style.transition="none",y.style.width="100%"),setTimeout(function(){y.style.transition="width ".concat(d/1e3,"s linear"),y.style.width="0%"},10))},uu=function(){var d=Po();if(d){var f=parseInt(window.getComputedStyle(d).width);d.style.removeProperty("transition"),d.style.width="100%";var y=parseInt(window.getComputedStyle(d).width),b=f/y*100;d.style.width="".concat(b,"%")}},Vo=function(){return typeof window>"u"||typeof document>"u"},lr=`
 <div aria-labelledby="`.concat(O.title,'" aria-describedby="').concat(O["html-container"],'" class="').concat(O.popup,`" tabindex="-1">
   <button type="button" class="`).concat(O.close,`"></button>
   <ul class="`).concat(O["progress-steps"],`"></ul>
   <div class="`).concat(O.icon,`"></div>
   <img class="`).concat(O.image,`" />
   <h2 class="`).concat(O.title,'" id="').concat(O.title,`"></h2>
   <div class="`).concat(O["html-container"],'" id="').concat(O["html-container"],`"></div>
   <input class="`).concat(O.input,'" id="').concat(O.input,`" />
   <input type="file" class="`).concat(O.file,`" />
   <div class="`).concat(O.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(O.select,'" id="').concat(O.select,`"></select>
   <div class="`).concat(O.radio,`"></div>
   <label class="`).concat(O.checkbox,`">
     <input type="checkbox" id="`).concat(O.checkbox,`" />
     <span class="`).concat(O.label,`"></span>
   </label>
   <textarea class="`).concat(O.textarea,'" id="').concat(O.textarea,`"></textarea>
   <div class="`).concat(O["validation-message"],'" id="').concat(O["validation-message"],`"></div>
   <div class="`).concat(O.actions,`">
     <div class="`).concat(O.loader,`"></div>
     <button type="button" class="`).concat(O.confirm,`"></button>
     <button type="button" class="`).concat(O.deny,`"></button>
     <button type="button" class="`).concat(O.cancel,`"></button>
   </div>
   <div class="`).concat(O.footer,`"></div>
   <div class="`).concat(O["timer-progress-bar-container"],`">
     <div class="`).concat(O["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Sd=function(){var d=Vt();return d?(d.remove(),zt([document.documentElement,document.body],[O["no-backdrop"],O["toast-shown"],O["has-column"]]),!0):!1},dr=function(){le.currentInstance.resetValidationMessage()},lu=function(){var d=Fe(),f=Gn(d,O.input),y=Gn(d,O.file),b=d.querySelector(".".concat(O.range," input")),j=d.querySelector(".".concat(O.range," output")),J=Gn(d,O.select),me=d.querySelector(".".concat(O.checkbox," input")),fe=Gn(d,O.textarea);f.oninput=dr,y.onchange=dr,J.onchange=dr,me.onchange=dr,fe.oninput=dr,b.oninput=function(){dr(),j.value=b.value},b.onchange=function(){dr(),j.value=b.value}},du=function(d){return typeof d=="string"?document.querySelector(d):d},xd=function(d){var f=Fe();f.setAttribute("role",d.toast?"alert":"dialog"),f.setAttribute("aria-live",d.toast?"polite":"assertive"),d.toast||f.setAttribute("aria-modal","true")},Md=function(d){window.getComputedStyle(d).direction==="rtl"&&Ae(Vt(),O.rtl)},bm=function(d){var f=Sd();if(Vo()){zr("SweetAlert2 requires document to initialize");return}var y=document.createElement("div");y.className=O.container,f&&Ae(y,O["no-transition"]),Ht(y,lr);var b=du(d.target);b.appendChild(y),xd(d),Md(b),lu()},Pi=function(d,f){d instanceof HTMLElement?f.appendChild(d):$e(d)==="object"?Rd(d,f):d&&Ht(f,d)},Rd=function(d,f){d.jquery?hu(f,d):Ht(f,d.toString())},hu=function(d,f){if(d.textContent="",0 in f)for(var y=0;y in f;y++)d.appendChild(f[y].cloneNode(!0));else d.appendChild(f.cloneNode(!0))},En=function(){if(Vo())return!1;var v=document.createElement("div");return typeof v.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof v.style.animation<"u"?"animationend":!1}(),Qr=function(d,f){var y=No(),b=Wr();!y||!b||(!f.showConfirmButton&&!f.showDenyButton&&!f.showCancelButton?ot(y):dt(y),qt(y,f,"actions"),fu(y,b,f),Ht(b,f.loaderHtml||""),qt(b,f,"loader"))};function fu(v,d,f){var y=He(),b=Nn(),j=it();!y||!b||!j||(Qs(y,"confirm",f),Qs(b,"deny",f),Qs(j,"cancel",f),Im(y,b,j,f),f.reverseButtons&&(f.toast?(v.insertBefore(j,y),v.insertBefore(b,y)):(v.insertBefore(j,d),v.insertBefore(b,d),v.insertBefore(y,d))))}function Im(v,d,f,y){if(!y.buttonsStyling){zt([v,d,f],O.styled);return}Ae([v,d,f],O.styled),y.confirmButtonColor&&(v.style.backgroundColor=y.confirmButtonColor,Ae(v,O["default-outline"])),y.denyButtonColor&&(d.style.backgroundColor=y.denyButtonColor,Ae(d,O["default-outline"])),y.cancelButtonColor&&(f.style.backgroundColor=y.cancelButtonColor,Ae(f,O["default-outline"]))}function Qs(v,d,f){var y=eu(d);Oo(v,f["show".concat(y,"Button")],"inline-block"),Ht(v,f["".concat(d,"ButtonText")]||""),v.setAttribute("aria-label",f["".concat(d,"ButtonAriaLabel")]||""),v.className=O[d],qt(v,f,"".concat(d,"Button"))}var Nd=function(d,f){var y=Ws();y&&(Ht(y,f.closeButtonHtml||""),qt(y,f,"closeButton"),Oo(y,f.showCloseButton),y.setAttribute("aria-label",f.closeButtonAriaLabel||""))},Pd=function(d,f){var y=Vt();y&&(pu(y,f.backdrop),gu(y,f.position),kd(y,f.grow),qt(y,f,"container"))};function pu(v,d){typeof d=="string"?v.style.background=d:d||Ae([document.documentElement,document.body],O["no-backdrop"])}function gu(v,d){d&&(d in O?Ae(v,O[d]):(vt('The "position" parameter is not valid, defaulting to "center"'),Ae(v,O.center)))}function kd(v,d){d&&Ae(v,O["grow-".concat(d)])}var je={innerParams:new WeakMap,domCache:new WeakMap},Dm=["input","file","range","select","radio","checkbox","textarea"],Cm=function(d,f){var y=Fe();if(y){var b=je.innerParams.get(d),j=!b||f.input!==b.input;Dm.forEach(function(J){var me=Gn(y,O[J]);me&&(Tm(J,f.inputAttributes),me.className=O[J],j&&ot(me))}),f.input&&(j&&Od(f),Yr(f))}},Od=function(d){if(d.input){if(!ue[d.input]){zr("Unexpected type of input! Expected ".concat(Object.keys(ue).join(" | "),', got "').concat(d.input,'"'));return}var f=Lo(d.input),y=ue[d.input](f,d);dt(f),d.inputAutoFocus&&setTimeout(function(){cu(y)})}},Fd=function(d){for(var f=0;f<d.attributes.length;f++){var y=d.attributes[f].name;["id","type","value","style"].includes(y)||d.removeAttribute(y)}},Tm=function(d,f){var y=Pn(Fe(),d);if(y){Fd(y);for(var b in f)y.setAttribute(b,f[b])}},Yr=function(d){var f=Lo(d.input);$e(d.customClass)==="object"&&Ae(f,d.customClass.input)},bn=function(d,f){(!d.placeholder||f.inputPlaceholder)&&(d.placeholder=f.inputPlaceholder)},hr=function(d,f,y){if(y.inputLabel){var b=document.createElement("label"),j=O["input-label"];b.setAttribute("for",d.id),b.className=j,$e(y.customClass)==="object"&&Ae(b,y.customClass.inputLabel),b.innerText=y.inputLabel,f.insertAdjacentElement("beforebegin",b)}},Lo=function(d){return Gn(Fe(),O[d]||O.input)},jo=function(d,f){["string","number"].includes($e(f))?d.value="".concat(f):Mo(f)||vt('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat($e(f),'"'))},ue={};ue.text=ue.email=ue.password=ue.number=ue.tel=ue.url=ue.search=ue.date=ue["datetime-local"]=ue.time=ue.week=ue.month=function(v,d){return jo(v,d.inputValue),hr(v,v,d),bn(v,d),v.type=d.input,v},ue.file=function(v,d){return hr(v,v,d),bn(v,d),v},ue.range=function(v,d){var f=v.querySelector("input"),y=v.querySelector("output");return jo(f,d.inputValue),f.type=d.input,jo(y,d.inputValue),hr(f,v,d),v},ue.select=function(v,d){if(v.textContent="",d.inputPlaceholder){var f=document.createElement("option");Ht(f,d.inputPlaceholder),f.value="",f.disabled=!0,f.selected=!0,v.appendChild(f)}return hr(v,v,d),v},ue.radio=function(v){return v.textContent="",v},ue.checkbox=function(v,d){var f=Pn(Fe(),"checkbox");f.value="1",f.checked=!!d.inputValue;var y=v.querySelector("span");return Ht(y,d.inputPlaceholder),f},ue.textarea=function(v,d){jo(v,d.inputValue),bn(v,d),hr(v,v,d);var f=function(b){return parseInt(window.getComputedStyle(b).marginLeft)+parseInt(window.getComputedStyle(b).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var y=parseInt(window.getComputedStyle(Fe()).width),b=function(){if(document.body.contains(v)){var J=v.offsetWidth+f(v);J>y?Fe().style.width="".concat(J,"px"):et(Fe(),"width",d.width)}};new MutationObserver(b).observe(v,{attributes:!0,attributeFilter:["style"]})}}),v};var Ys=function(d,f){var y=ru();y&&(Kr(y),qt(y,f,"htmlContainer"),f.html?(Pi(f.html,y),dt(y,"block")):f.text?(y.textContent=f.text,dt(y,"block")):ot(y),Cm(d,f))},Bo=function(d,f){var y=Ri();y&&(Kr(y),Oo(y,f.footer,"block"),f.footer&&Pi(f.footer,y),qt(y,f,"footer"))},Uo=function(d,f){var y=je.innerParams.get(d),b=xi();if(b){if(y&&f.icon===y.icon){jd(b,f),Vd(b,f);return}if(!f.icon&&!f.iconHtml){ot(b);return}if(f.icon&&Object.keys(qs).indexOf(f.icon)===-1){zr('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(f.icon,'"')),ot(b);return}dt(b),jd(b,f),Vd(b,f),Ae(b,f.showClass&&f.showClass.icon)}},Vd=function(d,f){for(var y=0,b=Object.entries(qs);y<b.length;y++){var j=C(b[y],2),J=j[0],me=j[1];f.icon!==J&&zt(d,me)}Ae(d,f.icon&&qs[f.icon]),xm(d,f),Ld(),qt(d,f,"icon")},Ld=function(){var d=Fe();if(d)for(var f=window.getComputedStyle(d).getPropertyValue("background-color"),y=d.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),b=0;b<y.length;b++)y[b].style.backgroundColor=f},Am=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Sm=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,jd=function(d,f){if(!(!f.icon&&!f.iconHtml)){var y=d.innerHTML,b="";if(f.iconHtml)b=ki(f.iconHtml);else if(f.icon==="success")b=Am,y=y.replace(/ style=".*?"/g,"");else if(f.icon==="error")b=Sm;else if(f.icon){var j={question:"?",warning:"!",info:"i"};b=ki(j[f.icon])}y.trim()!==b.trim()&&Ht(d,b)}},xm=function(d,f){if(f.iconColor){d.style.color=f.iconColor,d.style.borderColor=f.iconColor;for(var y=0,b=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];y<b.length;y++){var j=b[y];Td(d,j,"background-color",f.iconColor)}Td(d,".swal2-success-ring","border-color",f.iconColor)}},ki=function(d){return'<div class="'.concat(O["icon-content"],'">').concat(d,"</div>")},fr=function(d,f){var y=Gs();if(y){if(!f.imageUrl){ot(y);return}dt(y,""),y.setAttribute("src",f.imageUrl),y.setAttribute("alt",f.imageAlt||""),et(y,"width",f.imageWidth),et(y,"height",f.imageHeight),y.className=O.image,qt(y,f,"image")}},Bd=function(d,f){var y=Vt(),b=Fe();if(!(!y||!b)){if(f.toast){et(y,"width",f.width),b.style.width="100%";var j=Wr();j&&b.insertBefore(j,xi())}else et(b,"width",f.width);et(b,"padding",f.padding),f.color&&(b.style.color=f.color),f.background&&(b.style.background=f.background),ot(Mi()),Ud(b,f)}},Ud=function(d,f){var y=f.showClass||{};d.className="".concat(O.popup," ").concat(ht(d)?y.popup:""),f.toast?(Ae([document.documentElement,document.body],O["toast-shown"]),Ae(d,O.toast)):Ae(d,O.modal),qt(d,f,"popup"),typeof f.customClass=="string"&&Ae(d,f.customClass),f.icon&&Ae(d,O["icon-".concat(f.icon)])},$d=function(d,f){var y=Ro();if(y){var b=f.progressSteps,j=f.currentProgressStep;if(!b||b.length===0||j===void 0){ot(y);return}dt(y),y.textContent="",j>=b.length&&vt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),b.forEach(function(J,me){var fe=Oi(J);if(y.appendChild(fe),me===j&&Ae(fe,O["active-progress-step"]),me!==b.length-1){var st=Mm(f);y.appendChild(st)}})}},Oi=function(d){var f=document.createElement("li");return Ae(f,O["progress-step"]),Ht(f,d),f},Mm=function(d){var f=document.createElement("li");return Ae(f,O["progress-step-line"]),d.progressStepsDistance&&et(f,"width",d.progressStepsDistance),f},Rm=function(d,f){var y=nu();y&&(Kr(y),Oo(y,f.title||f.titleText,"block"),f.title&&Pi(f.title,y),f.titleText&&(y.innerText=f.titleText),qt(y,f,"title"))},Hd=function(d,f){Bd(d,f),Pd(d,f),$d(d,f),Uo(d,f),fr(d,f),Rm(d,f),Nd(d,f),Ys(d,f),Qr(d,f),Bo(d,f);var y=Fe();typeof f.didRender=="function"&&y&&f.didRender(y)},pr=function(){return ht(Fe())},qd=function(){var d;return(d=He())===null||d===void 0?void 0:d.click()},Nm=function(){var d;return(d=Nn())===null||d===void 0?void 0:d.click()},$o=function(){var d;return(d=it())===null||d===void 0?void 0:d.click()},Wn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),mu=function(d){d.keydownTarget&&d.keydownHandlerAdded&&(d.keydownTarget.removeEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!1)},Ho=function(d,f,y){mu(d),f.toast||(d.keydownHandler=function(b){return Ze(f,b,y)},d.keydownTarget=f.keydownListenerCapture?window:Fe(),d.keydownListenerCapture=f.keydownListenerCapture,d.keydownTarget.addEventListener("keydown",d.keydownHandler,{capture:d.keydownListenerCapture}),d.keydownHandlerAdded=!0)},Zr=function(d,f){var y,b=ou();if(b.length){d=d+f,d===b.length?d=0:d===-1&&(d=b.length-1),b[d].focus();return}(y=Fe())===null||y===void 0||y.focus()},yu=["ArrowRight","ArrowDown"],vu=["ArrowLeft","ArrowUp"],Ze=function(d,f,y){d&&(f.isComposing||f.keyCode===229||(d.stopKeydownPropagation&&f.stopPropagation(),f.key==="Enter"?Pm(f,d):f.key==="Tab"?km(f):[].concat(yu,vu).includes(f.key)?zd(f.key):f.key==="Escape"&&Gd(f,d,y)))},Pm=function(d,f){if(Ai(f.allowEnterKey)){var y=Pn(Fe(),f.input);if(d.target&&y&&d.target instanceof HTMLElement&&d.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(f.input))return;qd(),d.preventDefault()}}},km=function(d){for(var f=d.target,y=ou(),b=-1,j=0;j<y.length;j++)if(f===y[j]){b=j;break}d.shiftKey?Zr(b,-1):Zr(b,1),d.stopPropagation(),d.preventDefault()},zd=function(d){var f=No(),y=He(),b=Nn(),j=it();if(!(!f||!y||!b||!j)){var J=[y,b,j];if(!(document.activeElement instanceof HTMLElement&&!J.includes(document.activeElement))){var me=yu.includes(d)?"nextElementSibling":"previousElementSibling",fe=document.activeElement;if(fe){for(var st=0;st<f.children.length;st++){if(fe=fe[me],!fe)return;if(fe instanceof HTMLButtonElement&&ht(fe))break}fe instanceof HTMLButtonElement&&fe.focus()}}}},Gd=function(d,f,y){Ai(f.allowEscapeKey)&&(d.preventDefault(),y(Wn.esc))},Jr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Zs=function(){var d=Vt(),f=Array.from(document.body.children);f.forEach(function(y){y.contains(d)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},wu=function(){var d=Array.from(document.body.children);d.forEach(function(f){f.hasAttribute("data-previous-aria-hidden")?(f.setAttribute("aria-hidden",f.getAttribute("data-previous-aria-hidden")||""),f.removeAttribute("data-previous-aria-hidden")):f.removeAttribute("aria-hidden")})},kn=typeof window<"u"&&!!window.GestureEvent,Wd=function(){if(kn&&!en(document.body,O.iosfix)){var d=document.body.scrollTop;document.body.style.top="".concat(d*-1,"px"),Ae(document.body,O.iosfix),Om()}},Om=function(){var d=Vt();if(d){var f;d.ontouchstart=function(y){f=qo(y)},d.ontouchmove=function(y){f&&(y.preventDefault(),y.stopPropagation())}}},qo=function(d){var f=d.target,y=Vt(),b=ru();return!y||!b||Kd(d)||_u(d)?!1:f===y||!Ad(y)&&f instanceof HTMLElement&&f.tagName!=="INPUT"&&f.tagName!=="TEXTAREA"&&!(Ad(b)&&b.contains(f))},Kd=function(d){return d.touches&&d.touches.length&&d.touches[0].touchType==="stylus"},_u=function(d){return d.touches&&d.touches.length>1},Js=function(){if(en(document.body,O.iosfix)){var d=parseInt(document.body.style.top,10);zt(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=d*-1}},Qd=function(){var d=document.createElement("div");d.className=O["scrollbar-measure"],document.body.appendChild(d);var f=d.getBoundingClientRect().width-d.clientWidth;return document.body.removeChild(d),f},Kn=null,Fm=function(d){Kn===null&&(document.body.scrollHeight>window.innerHeight||d==="scroll")&&(Kn=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Kn+Qd(),"px"))},Yd=function(){Kn!==null&&(document.body.style.paddingRight="".concat(Kn,"px"),Kn=null)};function Fi(v,d,f,y){Ni()?gr(v,y):(Jc(f).then(function(){return gr(v,y)}),mu(le)),kn?(d.setAttribute("style","display:none !important"),d.removeAttribute("class"),d.innerHTML=""):d.remove(),su()&&(Yd(),Js(),wu()),Zd()}function Zd(){zt([document.documentElement,document.body],[O.shown,O["height-auto"],O["no-backdrop"],O["toast-shown"]])}function Qn(v){v=ea(v);var d=Jr.swalPromiseResolve.get(this),f=Eu(this);this.isAwaitingPromise?v.isDismissed||(Vi(this),d(v)):f&&d(v)}var Eu=function(d){var f=Fe();if(!f)return!1;var y=je.innerParams.get(d);if(!y||en(f,y.hideClass.popup))return!1;zt(f,y.showClass.popup),Ae(f,y.hideClass.popup);var b=Vt();return zt(b,y.showClass.backdrop),Ae(b,y.hideClass.backdrop),Jd(d,f,y),!0};function Xs(v){var d=Jr.swalPromiseReject.get(this);Vi(this),d&&d(v)}var Vi=function(d){d.isAwaitingPromise&&(delete d.isAwaitingPromise,je.innerParams.get(d)||d._destroy())},ea=function(d){return typeof d>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},d)},Jd=function(d,f,y){var b=Vt(),j=En&&Fo(f);typeof y.willClose=="function"&&y.willClose(f),j?Xd(d,f,b,y.returnFocus,y.didClose):Fi(d,b,y.returnFocus,y.didClose)},Xd=function(d,f,y,b,j){En&&(le.swalCloseEventFinishedCallback=Fi.bind(null,d,y,b,j),f.addEventListener(En,function(J){J.target===f&&(le.swalCloseEventFinishedCallback(),delete le.swalCloseEventFinishedCallback)}))},gr=function(d,f){setTimeout(function(){typeof f=="function"&&f.bind(d.params)(),d._destroy&&d._destroy()})},Xr=function(d){var f=Fe();if(f||new ah,f=Fe(),!!f){var y=Wr();Ni()?ot(xi()):eh(f,d),dt(y),f.setAttribute("data-loading","true"),f.setAttribute("aria-busy","true"),f.focus()}},eh=function(d,f){var y=No(),b=Wr();!y||!b||(!f&&ht(He())&&(f=He()),dt(y),f&&(ot(f),b.setAttribute("data-button-to-replace",f.className),y.insertBefore(b,f)),Ae([d,y],O.loading))},th=function(d,f){f.input==="select"||f.input==="radio"?ih(d,f):["text","email","number","tel","textarea"].some(function(y){return y===f.input})&&(xo(f.inputValue)||Mo(f.inputValue))&&(Xr(He()),Li(d,f))},nh=function(d,f){var y=d.getInput();if(!y)return null;switch(f.input){case"checkbox":return ta(y);case"radio":return tn(y);case"file":return rh(y);default:return f.inputAutoTrim?y.value.trim():y.value}},ta=function(d){return d.checked?1:0},tn=function(d){return d.checked?d.value:null},rh=function(d){return d.files&&d.files.length?d.getAttribute("multiple")!==null?d.files:d.files[0]:null},ih=function(d,f){var y=Fe();if(y){var b=function(J){f.input==="select"?u(y,m(J),f):f.input==="radio"&&p(y,m(J),f)};xo(f.inputOptions)||Mo(f.inputOptions)?(Xr(He()),Gr(f.inputOptions).then(function(j){d.hideLoading(),b(j)})):$e(f.inputOptions)==="object"?b(f.inputOptions):zr("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat($e(f.inputOptions)))}},Li=function(d,f){var y=d.getInput();y&&(ot(y),Gr(f.inputValue).then(function(b){y.value=f.input==="number"?"".concat(parseFloat(b)||0):"".concat(b),dt(y),y.focus(),d.hideLoading()}).catch(function(b){zr("Error in inputValue promise: ".concat(b)),y.value="",dt(y),y.focus(),d.hideLoading()}))};function u(v,d,f){var y=Gn(v,O.select);if(y){var b=function(J,me,fe){var st=document.createElement("option");st.value=fe,Ht(st,me),st.selected=_(fe,f.inputValue),J.appendChild(st)};d.forEach(function(j){var J=j[0],me=j[1];if(Array.isArray(me)){var fe=document.createElement("optgroup");fe.label=J,fe.disabled=!1,y.appendChild(fe),me.forEach(function(st){return b(fe,st[1],st[0])})}else b(y,me,J)}),y.focus()}}function p(v,d,f){var y=Gn(v,O.radio);if(y){d.forEach(function(j){var J=j[0],me=j[1],fe=document.createElement("input"),st=document.createElement("label");fe.type="radio",fe.name=O.radio,fe.value=J,_(J,f.inputValue)&&(fe.checked=!0);var Iu=document.createElement("span");Ht(Iu,me),Iu.className=O.label,st.appendChild(fe),st.appendChild(Iu),y.appendChild(st)});var b=y.querySelectorAll("input");b.length&&b[0].focus()}}var m=function v(d){var f=[];return d instanceof Map?d.forEach(function(y,b){var j=y;$e(j)==="object"&&(j=v(j)),f.push([b,j])}):Object.keys(d).forEach(function(y){var b=d[y];$e(b)==="object"&&(b=v(b)),f.push([y,b])}),f},_=function(d,f){return!!f&&f.toString()===d.toString()},M=void 0,F=function(d){var f=je.innerParams.get(d);d.disableButtons(),f.input?wt(d,"confirm"):nn(d,!0)},G=function(d){var f=je.innerParams.get(d);d.disableButtons(),f.returnInputValueOnDeny?wt(d,"deny"):_t(d,!1)},Be=function(d,f){d.disableButtons(),f(Wn.cancel)},wt=function(d,f){var y=je.innerParams.get(d);if(!y.input){zr('The "input" parameter is needed to be set when using returnInputValueOn'.concat(eu(f)));return}var b=d.getInput(),j=nh(d,y);y.inputValidator?Re(d,j,f):b&&!b.checkValidity()?(d.enableButtons(),d.showValidationMessage(y.validationMessage||b.validationMessage)):f==="deny"?_t(d,j):nn(d,j)},Re=function(d,f,y){var b=je.innerParams.get(d);d.disableInput();var j=Promise.resolve().then(function(){return Gr(b.inputValidator(f,b.validationMessage))});j.then(function(J){d.enableButtons(),d.enableInput(),J?d.showValidationMessage(J):y==="deny"?_t(d,f):nn(d,f)})},_t=function(d,f){var y=je.innerParams.get(d||M);if(y.showLoaderOnDeny&&Xr(Nn()),y.preDeny){d.isAwaitingPromise=!0;var b=Promise.resolve().then(function(){return Gr(y.preDeny(f,y.validationMessage))});b.then(function(j){j===!1?(d.hideLoading(),Vi(d)):d.close({isDenied:!0,value:typeof j>"u"?f:j})}).catch(function(j){return ei(d||M,j)})}else d.close({isDenied:!0,value:f})},St=function(d,f){d.close({isConfirmed:!0,value:f})},ei=function(d,f){d.rejectPromise(f)},nn=function(d,f){var y=je.innerParams.get(d||M);if(y.showLoaderOnConfirm&&Xr(),y.preConfirm){d.resetValidationMessage(),d.isAwaitingPromise=!0;var b=Promise.resolve().then(function(){return Gr(y.preConfirm(f,y.validationMessage))});b.then(function(j){ht(Mi())||j===!1?(d.hideLoading(),Vi(d)):St(d,typeof j>"u"?f:j)}).catch(function(j){return ei(d||M,j)})}else St(d,f)};function ti(){var v=je.innerParams.get(this);if(v){var d=je.domCache.get(this);ot(d.loader),Ni()?v.icon&&dt(xi()):bu(d),zt([d.popup,d.actions],O.loading),d.popup.removeAttribute("aria-busy"),d.popup.removeAttribute("data-loading"),d.confirmButton.disabled=!1,d.denyButton.disabled=!1,d.cancelButton.disabled=!1}}var bu=function(d){var f=d.popup.getElementsByClassName(d.loader.getAttribute("data-button-to-replace"));f.length?dt(f[0],"inline-block"):Em()&&ot(d.actions)};function e0(){var v=je.innerParams.get(this),d=je.domCache.get(this);return d?Pn(d.popup,v.input):null}function t0(v,d,f){var y=je.domCache.get(v);d.forEach(function(b){y[b].disabled=f})}function n0(v,d){var f=Fe();if(!(!f||!v))if(v.type==="radio")for(var y=f.querySelectorAll('[name="'.concat(O.radio,'"]')),b=0;b<y.length;b++)y[b].disabled=d;else v.disabled=d}function r0(){t0(this,["confirmButton","denyButton","cancelButton"],!1)}function i0(){t0(this,["confirmButton","denyButton","cancelButton"],!0)}function o0(){n0(this.getInput(),!1)}function s0(){n0(this.getInput(),!0)}function a0(v){var d=je.domCache.get(this),f=je.innerParams.get(this);Ht(d.validationMessage,v),d.validationMessage.className=O["validation-message"],f.customClass&&f.customClass.validationMessage&&Ae(d.validationMessage,f.customClass.validationMessage),dt(d.validationMessage);var y=this.getInput();y&&(y.setAttribute("aria-invalid","true"),y.setAttribute("aria-describedby",O["validation-message"]),cu(y),Ae(y,O.inputerror))}function c0(){var v=je.domCache.get(this);v.validationMessage&&ot(v.validationMessage);var d=this.getInput();d&&(d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby"),zt(d,O.inputerror))}var na={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},o1=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],s1={allowEnterKey:void 0},a1=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],u0=function(d){return Object.prototype.hasOwnProperty.call(na,d)},l0=function(d){return o1.indexOf(d)!==-1},d0=function(d){return s1[d]},c1=function(d){u0(d)||vt('Unknown parameter "'.concat(d,'"'))},u1=function(d){a1.includes(d)&&vt('The parameter "'.concat(d,'" is incompatible with toasts'))},l1=function(d){var f=d0(d);f&&So(d,f)},d1=function(d){d.backdrop===!1&&d.allowOutsideClick&&vt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var f in d)c1(f),d.toast&&u1(f),l1(f)};function h0(v){var d=Fe(),f=je.innerParams.get(this);if(!d||en(d,f.hideClass.popup)){vt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var y=h1(v),b=Object.assign({},f,y);Hd(this,b),je.innerParams.set(this,b),Object.defineProperties(this,{params:{value:Object.assign({},this.params,v),writable:!1,enumerable:!0}})}var h1=function(d){var f={};return Object.keys(d).forEach(function(y){l0(y)?f[y]=d[y]:vt("Invalid parameter to update: ".concat(y))}),f};function f0(){var v=je.domCache.get(this),d=je.innerParams.get(this);if(!d){p0(this);return}v.popup&&le.swalCloseEventFinishedCallback&&(le.swalCloseEventFinishedCallback(),delete le.swalCloseEventFinishedCallback),typeof d.didDestroy=="function"&&d.didDestroy(),f1(this)}var f1=function(d){p0(d),delete d.params,delete le.keydownHandler,delete le.keydownTarget,delete le.currentInstance},p0=function(d){d.isAwaitingPromise?(Vm(je,d),d.isAwaitingPromise=!0):(Vm(Jr,d),Vm(je,d),delete d.isAwaitingPromise,delete d.disableButtons,delete d.enableButtons,delete d.getInput,delete d.disableInput,delete d.enableInput,delete d.hideLoading,delete d.disableLoading,delete d.showValidationMessage,delete d.resetValidationMessage,delete d.close,delete d.closePopup,delete d.closeModal,delete d.closeToast,delete d.rejectPromise,delete d.update,delete d._destroy)},Vm=function(d,f){for(var y in d)d[y].delete(f)},p1=Object.freeze({__proto__:null,_destroy:f0,close:Qn,closeModal:Qn,closePopup:Qn,closeToast:Qn,disableButtons:i0,disableInput:s0,disableLoading:ti,enableButtons:r0,enableInput:o0,getInput:e0,handleAwaitingPromise:Vi,hideLoading:ti,rejectPromise:Xs,resetValidationMessage:c0,showValidationMessage:a0,update:h0}),g1=function(d,f,y){d.toast?m1(d,f,y):(v1(f),w1(f),_1(d,f,y))},m1=function(d,f,y){f.popup.onclick=function(){d&&(y1(d)||d.timer||d.input)||y(Wn.close)}},y1=function(d){return!!(d.showConfirmButton||d.showDenyButton||d.showCancelButton||d.showCloseButton)},oh=!1,v1=function(d){d.popup.onmousedown=function(){d.container.onmouseup=function(f){d.container.onmouseup=function(){},f.target===d.container&&(oh=!0)}}},w1=function(d){d.container.onmousedown=function(f){f.target===d.container&&f.preventDefault(),d.popup.onmouseup=function(y){d.popup.onmouseup=function(){},(y.target===d.popup||y.target instanceof HTMLElement&&d.popup.contains(y.target))&&(oh=!0)}}},_1=function(d,f,y){f.container.onclick=function(b){if(oh){oh=!1;return}b.target===f.container&&Ai(d.allowOutsideClick)&&y(Wn.backdrop)}},E1=function(d){return $e(d)==="object"&&d.jquery},g0=function(d){return d instanceof Element||E1(d)},b1=function(d){var f={};return $e(d[0])==="object"&&!g0(d[0])?Object.assign(f,d[0]):["title","html","icon"].forEach(function(y,b){var j=d[b];typeof j=="string"||g0(j)?f[y]=j:j!==void 0&&zr("Unexpected type of ".concat(y,'! Expected "string" or "Element", got ').concat($e(j)))}),f};function I1(){for(var v=this,d=arguments.length,f=new Array(d),y=0;y<d;y++)f[y]=arguments[y];return g(v,f)}function D1(v){var d=function(f){function y(){return a(this,y),o(this,y,arguments)}return H(y,f),E(y,[{key:"_main",value:function(j,J){return P(N(y.prototype),"_main",this).call(this,j,Object.assign({},v,J))}}])}(this);return d}var C1=function(){return le.timeout&&le.timeout.getTimerLeft()},m0=function(){if(le.timeout)return uu(),le.timeout.stop()},y0=function(){if(le.timeout){var d=le.timeout.start();return Ks(d),d}},T1=function(){var d=le.timeout;return d&&(d.running?m0():y0())},A1=function(d){if(le.timeout){var f=le.timeout.increase(d);return Ks(f,!0),f}},S1=function(){return!!(le.timeout&&le.timeout.isRunning())},v0=!1,Lm={};function x1(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Lm[v]=this,v0||(document.body.addEventListener("click",M1),v0=!0)}var M1=function(d){for(var f=d.target;f&&f!==document;f=f.parentNode)for(var y in Lm){var b=f.getAttribute(y);if(b){Lm[y].fire({template:b});return}}},R1=Object.freeze({__proto__:null,argsToParams:b1,bindClickHandler:x1,clickCancel:$o,clickConfirm:qd,clickDeny:Nm,enableLoading:Xr,fire:I1,getActions:No,getCancelButton:it,getCloseButton:Ws,getConfirmButton:He,getContainer:Vt,getDenyButton:Nn,getFocusableElements:ou,getFooter:Ri,getHtmlContainer:ru,getIcon:xi,getIconContent:tu,getImage:Gs,getInputLabel:Dd,getLoader:Wr,getPopup:Fe,getProgressSteps:Ro,getTimerLeft:C1,getTimerProgressBar:Po,getTitle:nu,getValidationMessage:Mi,increaseTimer:A1,isDeprecatedParameter:d0,isLoading:Cd,isTimerRunning:S1,isUpdatableParameter:l0,isValidParameter:u0,isVisible:pr,mixin:D1,resumeTimer:y0,showLoading:Xr,stopTimer:m0,toggleTimer:T1}),N1=function(){function v(d,f){a(this,v),this.callback=d,this.remaining=f,this.running=!1,this.start()}return E(v,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(f){var y=this.running;return y&&this.stop(),this.remaining+=f,y&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),w0=["swal-title","swal-html","swal-footer"],P1=function(d){var f=typeof d.template=="string"?document.querySelector(d.template):d.template;if(!f)return{};var y=f.content;U1(y);var b=Object.assign(k1(y),O1(y),F1(y),V1(y),L1(y),j1(y),B1(y,w0));return b},k1=function(d){var f={},y=Array.from(d.querySelectorAll("swal-param"));return y.forEach(function(b){zo(b,["name","value"]);var j=b.getAttribute("name"),J=b.getAttribute("value");typeof na[j]=="boolean"?f[j]=J!=="false":$e(na[j])==="object"?f[j]=JSON.parse(J):f[j]=J}),f},O1=function(d){var f={},y=Array.from(d.querySelectorAll("swal-function-param"));return y.forEach(function(b){var j=b.getAttribute("name"),J=b.getAttribute("value");f[j]=new Function("return ".concat(J))()}),f},F1=function(d){var f={},y=Array.from(d.querySelectorAll("swal-button"));return y.forEach(function(b){zo(b,["type","color","aria-label"]);var j=b.getAttribute("type");f["".concat(j,"ButtonText")]=b.innerHTML,f["show".concat(eu(j),"Button")]=!0,b.hasAttribute("color")&&(f["".concat(j,"ButtonColor")]=b.getAttribute("color")),b.hasAttribute("aria-label")&&(f["".concat(j,"ButtonAriaLabel")]=b.getAttribute("aria-label"))}),f},V1=function(d){var f={},y=d.querySelector("swal-image");return y&&(zo(y,["src","width","height","alt"]),y.hasAttribute("src")&&(f.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(f.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(f.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(f.imageAlt=y.getAttribute("alt")||void 0)),f},L1=function(d){var f={},y=d.querySelector("swal-icon");return y&&(zo(y,["type","color"]),y.hasAttribute("type")&&(f.icon=y.getAttribute("type")),y.hasAttribute("color")&&(f.iconColor=y.getAttribute("color")),f.iconHtml=y.innerHTML),f},j1=function(d){var f={},y=d.querySelector("swal-input");y&&(zo(y,["type","label","placeholder","value"]),f.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(f.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(f.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(f.inputValue=y.getAttribute("value")));var b=Array.from(d.querySelectorAll("swal-input-option"));return b.length&&(f.inputOptions={},b.forEach(function(j){zo(j,["value"]);var J=j.getAttribute("value"),me=j.innerHTML;f.inputOptions[J]=me})),f},B1=function(d,f){var y={};for(var b in f){var j=f[b],J=d.querySelector(j);J&&(zo(J,[]),y[j.replace(/^swal-/,"")]=J.innerHTML.trim())}return y},U1=function(d){var f=w0.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(d.children).forEach(function(y){var b=y.tagName.toLowerCase();f.includes(b)||vt("Unrecognized element <".concat(b,">"))})},zo=function(d,f){Array.from(d.attributes).forEach(function(y){f.indexOf(y.name)===-1&&vt(['Unrecognized attribute "'.concat(y.name,'" on <').concat(d.tagName.toLowerCase(),">."),"".concat(f.length?"Allowed attributes are: ".concat(f.join(", ")):"To set the value, use HTML within the element.")])})},_0=10,$1=function(d){var f=Vt(),y=Fe();typeof d.willOpen=="function"&&d.willOpen(y);var b=window.getComputedStyle(document.body),j=b.overflowY;G1(f,y,d),setTimeout(function(){q1(f,y)},_0),su()&&(z1(f,d.scrollbarPadding,j),Zs()),!Ni()&&!le.previousActiveElement&&(le.previousActiveElement=document.activeElement),typeof d.didOpen=="function"&&setTimeout(function(){return d.didOpen(y)}),zt(f,O["no-transition"])},H1=function v(d){var f=Fe();if(!(d.target!==f||!En)){var y=Vt();f.removeEventListener(En,v),y.style.overflowY="auto"}},q1=function(d,f){En&&Fo(f)?(d.style.overflowY="hidden",f.addEventListener(En,H1)):d.style.overflowY="auto"},z1=function(d,f,y){Wd(),f&&y!=="hidden"&&Fm(y),setTimeout(function(){d.scrollTop=0})},G1=function(d,f,y){Ae(d,y.showClass.backdrop),y.animation?(f.style.setProperty("opacity","0","important"),dt(f,"grid"),setTimeout(function(){Ae(f,y.showClass.popup),f.style.removeProperty("opacity")},_0)):dt(f,"grid"),Ae([document.documentElement,document.body],O.shown),y.heightAuto&&y.backdrop&&!y.toast&&Ae([document.documentElement,document.body],O["height-auto"])},E0={email:function(d,f){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(d)?Promise.resolve():Promise.resolve(f||"Invalid email address")},url:function(d,f){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(d)?Promise.resolve():Promise.resolve(f||"Invalid URL")}};function W1(v){v.inputValidator||(v.input==="email"&&(v.inputValidator=E0.email),v.input==="url"&&(v.inputValidator=E0.url))}function K1(v){(!v.target||typeof v.target=="string"&&!document.querySelector(v.target)||typeof v.target!="string"&&!v.target.appendChild)&&(vt('Target parameter is not valid, defaulting to "body"'),v.target="body")}function Q1(v){W1(v),v.showLoaderOnConfirm&&!v.preConfirm&&vt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),K1(v),typeof v.title=="string"&&(v.title=v.title.split(`
`).join("<br />")),bm(v)}var mr,sh=new WeakMap,ft=function(){function v(){if(a(this,v),l(this,sh,void 0),!(typeof window>"u")){mr=this;for(var d=arguments.length,f=new Array(d),y=0;y<d;y++)f[y]=arguments[y];var b=Object.freeze(this.constructor.argsToParams(f));this.params=b,this.isAwaitingPromise=!1,h(sh,this,this._main(mr.params))}}return E(v,[{key:"_main",value:function(f){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(d1(Object.assign({},y,f)),le.currentInstance){var b=Jr.swalPromiseResolve.get(le.currentInstance),j=le.currentInstance.isAwaitingPromise;le.currentInstance._destroy(),j||b({isDismissed:!0}),su()&&wu()}le.currentInstance=mr;var J=Z1(f,y);Q1(J),Object.freeze(J),le.timeout&&(le.timeout.stop(),delete le.timeout),clearTimeout(le.restoreFocusTimeout);var me=J1(mr);return Hd(mr,J),je.innerParams.set(mr,J),Y1(mr,me,J)}},{key:"then",value:function(f){return c(sh,this).then(f)}},{key:"finally",value:function(f){return c(sh,this).finally(f)}}])}(),Y1=function(d,f,y){return new Promise(function(b,j){var J=function(fe){d.close({isDismissed:!0,dismiss:fe})};Jr.swalPromiseResolve.set(d,b),Jr.swalPromiseReject.set(d,j),f.confirmButton.onclick=function(){F(d)},f.denyButton.onclick=function(){G(d)},f.cancelButton.onclick=function(){Be(d,J)},f.closeButton.onclick=function(){J(Wn.close)},g1(y,f,J),Ho(le,y,J),th(d,y),$1(y),X1(le,y,J),ek(f,y),setTimeout(function(){f.container.scrollTop=0})})},Z1=function(d,f){var y=P1(d),b=Object.assign({},na,f,y,d);return b.showClass=Object.assign({},na.showClass,b.showClass),b.hideClass=Object.assign({},na.hideClass,b.hideClass),b.animation===!1&&(b.showClass={backdrop:"swal2-noanimation"},b.hideClass={}),b},J1=function(d){var f={popup:Fe(),container:Vt(),actions:No(),confirmButton:He(),denyButton:Nn(),cancelButton:it(),loader:Wr(),closeButton:Ws(),validationMessage:Mi(),progressSteps:Ro()};return je.domCache.set(d,f),f},X1=function(d,f,y){var b=Po();ot(b),f.timer&&(d.timeout=new N1(function(){y("timer"),delete d.timeout},f.timer),f.timerProgressBar&&(dt(b),qt(b,f,"timerProgressBar"),setTimeout(function(){d.timeout&&d.timeout.running&&Ks(f.timer)})))},ek=function(d,f){if(!f.toast){if(!Ai(f.allowEnterKey)){So("allowEnterKey"),rk();return}tk(d)||nk(d,f)||Zr(-1,1)}},tk=function(d){var f=d.popup.querySelectorAll("[autofocus]"),y=S(f),b;try{for(y.s();!(b=y.n()).done;){var j=b.value;if(j instanceof HTMLElement&&ht(j))return j.focus(),!0}}catch(J){y.e(J)}finally{y.f()}return!1},nk=function(d,f){return f.focusDeny&&ht(d.denyButton)?(d.denyButton.focus(),!0):f.focusCancel&&ht(d.cancelButton)?(d.cancelButton.focus(),!0):f.focusConfirm&&ht(d.confirmButton)?(d.confirmButton.focus(),!0):!1},rk=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var b0=new Date,I0=localStorage.getItem("swal-initiation");I0?(b0.getTime()-Date.parse(I0))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var v=document.createElement("audio");v.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",v.loop=!0,document.body.appendChild(v),setTimeout(function(){v.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(b0))}ft.prototype.disableButtons=i0,ft.prototype.enableButtons=r0,ft.prototype.getInput=e0,ft.prototype.disableInput=s0,ft.prototype.enableInput=o0,ft.prototype.hideLoading=ti,ft.prototype.disableLoading=ti,ft.prototype.showValidationMessage=a0,ft.prototype.resetValidationMessage=c0,ft.prototype.close=Qn,ft.prototype.closePopup=Qn,ft.prototype.closeModal=Qn,ft.prototype.closeToast=Qn,ft.prototype.rejectPromise=Xs,ft.prototype.update=h0,ft.prototype._destroy=f0,Object.assign(ft,R1),Object.keys(p1).forEach(function(v){ft[v]=function(){if(mr&&mr[v]){var d;return(d=mr)[v].apply(d,arguments)}return null}}),ft.DismissReason=Wn,ft.version="11.12.1";var ah=ft;return ah.default=ah,ah});typeof Pr<"u"&&Pr.Sweetalert2&&(Pr.swal=Pr.sweetAlert=Pr.Swal=Pr.SweetAlert=Pr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var qm=null;var Hm=1,O0=Symbol("SIGNAL");function Ve(t){let e=qm;return qm=t,e}function F0(){return qm}var zm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ok(t){if(!(Ym(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hm)){if(!t.producerMustRecompute(t)&&!Wm(t)){t.dirty=!1,t.lastCleanEpoch=Hm;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Hm}}function Gm(t){return t&&(t.nextProducerIndex=0),Ve(t)}function V0(t,e){if(Ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ym(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Qm(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Wm(t){Zm(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ok(n),r!==n.version))return!0}return!1}function Km(t){if(Zm(t),Ym(t))for(let e=0;e<t.producerNode.length;e++)Qm(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Qm(t,e){if(sk(t),t.liveConsumerNode.length===1&&ak(t))for(let r=0;r<t.producerNode.length;r++)Qm(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Zm(i),i.producerIndexOfThis[r]=e}}function Ym(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Zm(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function sk(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ak(t){return t.producerNode!==void 0}function ck(){throw new Error}var uk=ck;function L0(t){uk=t}function de(t){return typeof t=="function"}function ra(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var dh=ra(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var at=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof dh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{j0(o)}catch(s){e=e??[],s instanceof dh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new dh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)j0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wo(n,e)}remove(e){let{_finalizers:n}=this;n&&Wo(n,e),e instanceof t&&e._removeParent(this)}};at.EMPTY=(()=>{let t=new at;return t.closed=!0,t})();var Jm=at.EMPTY;function hh(t){return t instanceof at||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function j0(t){de(t)?t():t.unsubscribe()}var Yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ia={setTimeout(t,e,...n){let{delegate:r}=ia;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ia;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fh(t){ia.setTimeout(()=>{let{onUnhandledError:e}=Yn;if(e)e(t);else throw t})}function Tu(){}var B0=Xm("C",void 0,void 0);function U0(t){return Xm("E",void 0,t)}function $0(t){return Xm("N",t,void 0)}function Xm(t,e,n){return{kind:t,value:e,error:n}}var Ko=null;function oa(t){if(Yn.useDeprecatedSynchronousErrorHandling){let e=!Ko;if(e&&(Ko={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ko;if(Ko=null,n)throw r}}else t()}function H0(t){Yn.useDeprecatedSynchronousErrorHandling&&Ko&&(Ko.errorThrown=!0,Ko.error=t)}var Qo=class extends at{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hh(e)&&e.add(this)):this.destination=hk}static create(e,n,r){return new ni(e,n,r)}next(e){this.isStopped?ty($0(e),this):this._next(e)}error(e){this.isStopped?ty(U0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ty(B0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lk=Function.prototype.bind;function ey(t,e){return lk.call(t,e)}var ny=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ph(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ph(r)}else ph(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ph(n)}}},ni=class extends Qo{constructor(e,n,r){super();let i;if(de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Yn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ey(e.next,o),error:e.error&&ey(e.error,o),complete:e.complete&&ey(e.complete,o)}):i=e}this.destination=new ny(i)}};function ph(t){Yn.useDeprecatedSynchronousErrorHandling?H0(t):fh(t)}function dk(t){throw t}function ty(t,e){let{onStoppedNotification:n}=Yn;n&&ia.setTimeout(()=>n(t,e))}var hk={closed:!0,next:Tu,error:dk,complete:Tu};var sa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(t){return t}function ry(...t){return iy(t)}function iy(t){return t.length===0?rn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=pk(n)?n:new ni(n,r,i);return oa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=q0(r),new r((i,o)=>{let s=new ni({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[sa](){return this}pipe(...n){return iy(n)(this)}toPromise(n){return n=q0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function q0(t){var e;return(e=t??Yn.Promise)!==null&&e!==void 0?e:Promise}function fk(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}function pk(t){return t&&t instanceof Qo||fk(t)&&hh(t)}function oy(t){return de(t?.lift)}function we(t){return e=>{if(oy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,e,n,r,i){return new sy(t,e,n,r,i)}var sy=class extends Qo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function aa(){return we((t,e)=>{let n=null;t._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ca=class extends Ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,oy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new at;let n=this.getSubject();e.add(this.source.subscribe(_e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=at.EMPTY)}return e}refCount(){return aa()(this)}};var z0=ra(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class t extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new z0}next(n){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Jm:(this.currentObservers=null,o.push(n),new at(()=>{this.currentObservers=null,Wo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ie;return n.source=this,n}}return t.create=(e,n)=>new gh(e,n),t})(),gh=class extends Je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Jm}};var Lt=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Au={now(){return(Au.delegate||Date).now()},delegate:void 0};var mh=class extends Je{constructor(e=1/0,n=1/0,r=Au){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var yh=class extends at{constructor(e,n){super()}schedule(e,n=0){return this}};var Su={setInterval(t,e,...n){let{delegate:r}=Su;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Su;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ua=class extends yh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Su.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Su.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var la=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};la.now=Au.now;var da=class extends la{constructor(e,n=la.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var xu=new da(ua);var vh=class extends ua{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var wh=class extends da{};var ay=new wh(vh);var on=new Ie(t=>t.complete());function G0(t){return t&&de(t.schedule)}function cy(t){return t[t.length-1]}function _h(t){return de(cy(t))?t.pop():void 0}function vr(t){return G0(cy(t))?t.pop():void 0}function W0(t,e){return typeof cy(t)=="number"?t.pop():e}var Eh=t=>t&&typeof t.length=="number"&&typeof t!="function";function bh(t){return de(t?.then)}function Ih(t){return de(t[sa])}function Dh(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function Ch(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Th=gk();function Ah(t){return de(t?.[Th])}function Sh(t){return A0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ch(n.read());if(i)return yield ch(void 0);yield yield ch(r)}}finally{n.releaseLock()}})}function xh(t){return de(t?.getReader)}function Qe(t){if(t instanceof Ie)return t;if(t!=null){if(Ih(t))return mk(t);if(Eh(t))return yk(t);if(bh(t))return vk(t);if(Dh(t))return K0(t);if(Ah(t))return wk(t);if(xh(t))return _k(t)}throw Ch(t)}function mk(t){return new Ie(e=>{let n=t[sa]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yk(t){return new Ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function vk(t){return new Ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fh)})}function wk(t){return new Ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function K0(t){return new Ie(e=>{Ek(t,e).catch(n=>e.error(n))})}function _k(t){return K0(Sh(t))}function Ek(t,e){var n,r,i,o;return T0(this,void 0,void 0,function*(){try{for(n=S0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function fn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function On(t,e=0){return we((n,r)=>{n.subscribe(_e(r,i=>fn(r,t,()=>r.next(i),e),()=>fn(r,t,()=>r.complete(),e),i=>fn(r,t,()=>r.error(i),e)))})}function Zn(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Q0(t,e){return Qe(t).pipe(Zn(e),On(e))}function Y0(t,e){return Qe(t).pipe(Zn(e),On(e))}function Z0(t,e){return new Ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function J0(t,e){return new Ie(n=>{let r;return fn(n,e,()=>{r=t[Th](),fn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function Mh(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ie(n=>{fn(n,e,()=>{let r=t[Symbol.asyncIterator]();fn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function X0(t,e){return Mh(Sh(t),e)}function eD(t,e){if(t!=null){if(Ih(t))return Q0(t,e);if(Eh(t))return Z0(t,e);if(bh(t))return Y0(t,e);if(Dh(t))return Mh(t,e);if(Ah(t))return J0(t,e);if(xh(t))return X0(t,e)}throw Ch(t)}function Ne(t,e){return e?eD(t,e):Qe(t)}function se(...t){let e=vr(t);return Ne(t,e)}function ha(t,e){let n=de(t)?t:()=>t,r=i=>i.error(n());return new Ie(e?i=>e.schedule(r,0,i):r)}function uy(t){return!!t&&(t instanceof Ie||de(t.lift)&&de(t.subscribe))}var ri=ra(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(t,e){return we((n,r)=>{let i=0;n.subscribe(_e(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:bk}=Array;function Ik(t,e){return bk(e)?t(...e):t(e)}function Rh(t){return ce(e=>Ik(t,e))}var{isArray:Dk}=Array,{getPrototypeOf:Ck,prototype:Tk,keys:Ak}=Object;function Nh(t){if(t.length===1){let e=t[0];if(Dk(e))return{args:e,keys:null};if(Sk(e)){let n=Ak(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Sk(t){return t&&typeof t=="object"&&Ck(t)===Tk}function Ph(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Mu(...t){let e=vr(t),n=_h(t),{args:r,keys:i}=Nh(t);if(r.length===0)return Ne([],e);let o=new Ie(xk(r,e,i?s=>Ph(i,s):rn));return n?o.pipe(Rh(n)):o}function xk(t,e,n=rn){return r=>{tD(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)tD(e,()=>{let l=Ne(t[c],e),h=!1;l.subscribe(_e(r,g=>{o[c]=g,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function tD(t,e,n){t?fn(n,t,e):e()}function nD(t,e,n,r,i,o,s,a){let c=[],l=0,h=0,g=!1,w=()=>{g&&!c.length&&!l&&e.complete()},E=P=>l<r?S(P):c.push(P),S=P=>{o&&e.next(P),l++;let N=!1;Qe(n(P,h++)).subscribe(_e(e,H=>{i?.(H),o?E(H):e.next(H)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;c.length&&l<r;){let H=c.shift();s?fn(e,s,()=>S(H)):S(H)}w()}catch(H){e.error(H)}}))};return t.subscribe(_e(e,E,()=>{g=!0,w()})),()=>{a?.()}}function Et(t,e,n=1/0){return de(e)?Et((r,i)=>ce((o,s)=>e(r,o,i,s))(Qe(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>nD(r,i,t,n)))}function Bi(t=1/0){return Et(rn,t)}function rD(){return Bi(1)}function fa(...t){return rD()(Ne(t,vr(t)))}function kh(t){return new Ie(e=>{Qe(t()).subscribe(e)})}function ly(...t){let e=_h(t),{args:n,keys:r}=Nh(t),i=new Ie(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let g=!1;Qe(n[h]).subscribe(_e(o,w=>{g||(g=!0,l--),a[h]=w},()=>c--,void 0,()=>{(!c||!g)&&(l||o.next(r?Ph(r,a):a),o.complete())}))}});return e?i.pipe(Rh(e)):i}function dy(...t){let e=vr(t),n=W0(t,1/0),r=t;return r.length?r.length===1?Qe(r[0]):Bi(n)(Ne(r,e)):on}function Pt(t,e){return we((n,r)=>{let i=0;n.subscribe(_e(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ui(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(_e(n,void 0,void 0,s=>{o=Qe(t(s,Ui(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function iD(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(_e(s,h=>{let g=l++;c=a?t(c,h,g):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function $i(t,e){return de(e)?Et(t,e,1):Et(t,1)}function Hi(t){return we((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ii(t){return t<=0?()=>on:we((e,n)=>{let r=0;e.subscribe(_e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function hy(t){return ce(()=>t)}function fy(t,e=rn){return t=t??Mk,we((n,r)=>{let i,o=!0;n.subscribe(_e(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Mk(t,e){return t===e}function Oh(t=Rk){return we((e,n)=>{let r=!1;e.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Rk(){return new ri}function pa(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function In(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Pt((i,o)=>t(i,o,r)):rn,ii(1),n?Hi(e):Oh(()=>new ri))}function ga(t){return t<=0?()=>on:we((e,n)=>{let r=[];e.subscribe(_e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function py(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Pt((i,o)=>t(i,o,r)):rn,ga(1),n?Hi(e):Oh(()=>new ri))}function Ru(){return we((t,e)=>{let n,r=!1;t.subscribe(_e(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function Yo(t,e){return we(iD(t,e,arguments.length>=2,!0))}function oD(t={}){let{connector:e=()=>new Je,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,h=!1,g=!1,w=()=>{a?.unsubscribe(),a=void 0},E=()=>{w(),s=c=void 0,h=g=!1},S=()=>{let P=s;E(),P?.unsubscribe()};return we((P,N)=>{l++,!g&&!h&&w();let H=c=c??e();N.add(()=>{l--,l===0&&!g&&!h&&(a=gy(S,i))}),H.subscribe(N),!s&&l>0&&(s=new ni({next:W=>H.next(W),error:W=>{g=!0,w(),a=gy(E,n,W),H.error(W)},complete:()=>{h=!0,w(),a=gy(E,r),H.complete()}}),Qe(P).subscribe(s))})(o)}}function gy(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new ni({next:()=>{r.unsubscribe(),t()}});return Qe(e(...n)).subscribe(r)}function Fh(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,oD({connector:()=>new mh(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Zo(...t){let e=vr(t);return we((n,r)=>{(e?fa(t,n,e):fa(t,n)).subscribe(r)})}function nt(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(_e(r,c=>{i?.unsubscribe();let l=0,h=o++;Qe(t(c,h)).subscribe(i=_e(r,g=>r.next(e?e(c,g,h,l++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Vh(t,e){return de(e)?nt(()=>t,e):nt(()=>t)}function my(t){return we((e,n)=>{Qe(t).subscribe(_e(n,()=>n.complete(),Tu)),!n.closed&&e.subscribe(n)})}function pt(t,e,n){let r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(_e(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rn}var KD="https://g.co/ng/security#xss",te=class extends Error{constructor(e,n){super(Tf(e,n)),this.code=e}};function Tf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Hu(t){return{toString:t}.toString()}var Lh="__parameters__";function Nk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function QD(t,e,n){return Hu(()=>{let r=Nk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let g=c.hasOwnProperty(Lh)?c[Lh]:Object.defineProperty(c,Lh,{value:[]})[Lh];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var jt=globalThis;function qe(t){for(let e in t)if(t[e]===qe)return e;throw Error("Could not find renamed property on target object.")}function Pk(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function an(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(an).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function sD(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var kk=qe({__forward_ref__:qe});function us(t){return t.__forward_ref__=us,t.toString=function(){return an(this())},t}function sn(t){return YD(t)?t():t}function YD(t){return typeof t=="function"&&t.hasOwnProperty(kk)&&t.__forward_ref__===us}function ne(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Af(t){return aD(t,JD)||aD(t,XD)}function ZD(t){return Af(t)!==null}function aD(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ok(t){let e=t&&(t[JD]||t[XD]);return e||null}function cD(t){return t&&(t.hasOwnProperty(uD)||t.hasOwnProperty(Fk))?t[uD]:null}var JD=qe({\u0275prov:qe}),uD=qe({\u0275inj:qe}),XD=qe({ngInjectableDef:qe}),Fk=qe({ngInjectorDef:qe}),Y=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function eC(t){return t&&!!t.\u0275providers}var Vk=qe({\u0275cmp:qe}),Lk=qe({\u0275dir:qe}),jk=qe({\u0275pipe:qe}),Bk=qe({\u0275mod:qe}),Yh=qe({\u0275fac:qe}),Pu=qe({__NG_ELEMENT_ID__:qe}),lD=qe({__NG_ENV_ID__:qe});function Sf(t){return typeof t=="string"?t:t==null?"":String(t)}function Uk(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Sf(t)}function $k(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new te(-200,t)}function _v(t,e){throw new te(-201,!1)}var Ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ee||{}),Py;function tC(){return Py}function pn(t){let e=Py;return Py=t,e}function nC(t,e,n){let r=Af(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ee.Optional)return null;if(e!==void 0)return e;_v(t,"Injector")}var Hk={},Ou=Hk,ky="__NG_DI_FLAG__",Zh="ngTempTokenPath",qk="ngTokenPath",zk=/\n/gm,Gk="\u0275",dD="__source",wa;function Wk(){return wa}function qi(t){let e=wa;return wa=t,e}function Kk(t,e=Ee.Default){if(wa===void 0)throw new te(-203,!1);return wa===null?nC(t,void 0,e):wa.get(t,e&Ee.Optional?null:void 0,e)}function z(t,e=Ee.Default){return(tC()||Kk)(sn(t),e)}function q(t,e=Ee.Default){return z(t,xf(e))}function xf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Oy(t){let e=[];for(let n=0;n<t.length;n++){let r=sn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new te(900,!1);let i,o=Ee.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Qk(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function rC(t,e){return t[ky]=e,t.prototype[ky]=e,t}function Qk(t){return t[ky]}function Yk(t,e,n,r){let i=t[Zh];throw e[dD]&&i.unshift(e[dD]),t.message=Zk(`
`+t.message,i,n,r),t[qk]=i,t[Zh]=null,t}function Zk(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Gk?t.slice(2):t;let i=an(e);if(Array.isArray(e))i=e.map(an).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):an(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zk,`
  `)}`}var Pa=rC(QD("Optional"),8);var Ev=rC(QD("SkipSelf"),4);function ts(t,e){let n=t.hasOwnProperty(Yh);return n?t[Yh]:null}function bv(t,e){t.forEach(n=>Array.isArray(n)?bv(n,e):e(n))}function iC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Jk(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Xk(t,e,n){let r=qu(t,e);return r>=0?t[r|1]=n:(r=~r,Jk(t,r,e,n)),r}function yy(t,e){let n=qu(t,e);if(n>=0)return t[n|1]}function qu(t,e){return eO(t,e,1)}function eO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ea={},Dn=[],ns=new Y(""),oC=new Y("",-1),sC=new Y(""),Xh=class{get(e,n=Ou){if(n===Ou){let r=new Error(`NullInjectorError: No provider for ${an(e)}!`);throw r.name="NullInjectorError",r}return n}},aC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(aC||{}),br=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(br||{}),ba=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ba||{});function tO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Fy(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];nO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function cC(t){return t===3||t===4||t===6}function nO(t){return t.charCodeAt(0)===64}function Fu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?hD(t,n,i,null,e[++r]):hD(t,n,i,null,null))}}return t}function hD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var uC="ng-template";function rO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&tO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Iv(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Iv(t){return t.type===4&&t.value!==uC}function iO(t,e,n){let r=t.type===4&&!n?uC:t.value;return e===r}function oO(t,e,n){let r=4,i=t.attrs,o=i!==null?cO(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Jn(r)&&!Jn(c))return!1;if(s&&Jn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!iO(t,c,n)||c===""&&e.length===1){if(Jn(r))return!1;s=!0}}else if(r&8){if(i===null||!rO(t,i,c,n)){if(Jn(r))return!1;s=!0}}else{let l=e[++a],h=sO(c,i,Iv(t),n);if(h===-1){if(Jn(r))return!1;s=!0;continue}if(l!==""){let g;if(h>o?g="":g=i[h+1].toLowerCase(),r&2&&l!==g){if(Jn(r))return!1;s=!0}}}}return Jn(r)||s}function Jn(t){return(t&1)===0}function sO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return uO(e,t)}function aO(t,e,n=!1){for(let r=0;r<e.length;r++)if(oO(t,e[r],n))return!0;return!1}function cO(t){for(let e=0;e<t.length;e++){let n=t[e];if(cC(n))return e}return t.length}function uO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function fD(t,e){return t?":not("+e.trim()+")":e}function lO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jn(s)&&(e+=fD(o,i),i=""),r=s,o=o||!Jn(r);n++}return i!==""&&(e+=fD(o,i)),e}function dO(t){return t.map(lO).join(",")}function hO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Jn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ln(t){return Hu(()=>{let e=gC(t),n=xe(K({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===aC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||br.Emulated,styles:t.styles||Dn,_:null,schemas:t.schemas||null,tView:null,id:""});mC(n);let r=t.dependencies;return n.directiveDefs=gD(r,!1),n.pipeDefs=gD(r,!0),n.id=gO(n),n})}function fO(t){return Wi(t)||dC(t)}function pO(t){return t!==null}function Mt(t){return Hu(()=>({type:t.type,bootstrap:t.bootstrap||Dn,declarations:t.declarations||Dn,imports:t.imports||Dn,exports:t.exports||Dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pD(t,e){if(t==null)return Ea;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ba.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ba.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Kt(t){return Hu(()=>{let e=gC(t);return mC(e),e})}function lC(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wi(t){return t[Vk]||null}function dC(t){return t[Lk]||null}function hC(t){return t[jk]||null}function fC(t){let e=Wi(t)||dC(t)||hC(t);return e!==null?e.standalone:!1}function pC(t,e){let n=t[Bk]||null;if(!n&&e===!0)throw new Error(`Type ${an(t)} does not have '\u0275mod' property.`);return n}function gC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ea,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pD(t.inputs,e),outputs:pD(t.outputs),debugInfo:null}}function mC(t){t.features?.forEach(e=>e(t))}function gD(t,e){if(!t)return null;let n=e?hC:fO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(pO)}function gO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function zu(t){return{\u0275providers:t}}function mO(...t){return{\u0275providers:yC(!0,t),\u0275fromNgModule:!0}}function yC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return bv(e,s=>{let a=s;Vy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&vC(i,o),n}function vC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Dv(i,o=>{e(o,r)})}}function Vy(t,e,n,r){if(t=sn(t),!t)return!1;let i=null,o=cD(t),s=!o&&Wi(t);if(!o&&!s){let c=t.ngModule;if(o=cD(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Vy(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{bv(o.imports,h=>{Vy(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&vC(l,e)}if(!a){let l=ts(i)||(()=>new i);e({provide:i,useFactory:l,deps:Dn},i),e({provide:sC,useValue:i,multi:!0},i),e({provide:ns,useValue:()=>z(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Dv(c,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Dv(t,e){for(let n of t)eC(n)&&(n=n.\u0275providers),Array.isArray(n)?Dv(n,e):e(n)}var yO=qe({provide:String,useValue:qe});function wC(t){return t!==null&&typeof t=="object"&&yO in t}function vO(t){return!!(t&&t.useExisting)}function wO(t){return!!(t&&t.useFactory)}function Ia(t){return typeof t=="function"}function _O(t){return!!t.useClass}var Mf=new Y(""),zh={},EO={},vy;function Cv(){return vy===void 0&&(vy=new Xh),vy}var gn=class{},Vu=class extends gn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jy(e,s=>this.processProvider(s)),this.records.set(oC,ma(void 0,this)),i.has("environment")&&this.records.set(gn,ma(void 0,this));let o=this.records.get(Mf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(sC,Dn,Ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=qi(this),r=pn(void 0),i;try{return e()}finally{qi(n),pn(r)}}get(e,n=Ou,r=Ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lD))return e[lD](this);r=xf(r);let i,o=qi(this),s=pn(void 0);try{if(!(r&Ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=TO(e)&&Af(e);l&&this.injectableDefInScope(l)?c=ma(Ly(e),zh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ee.Self?Cv():this.parent;return n=r&Ee.Optional&&n===Ou?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Zh]=a[Zh]||[]).unshift(an(e)),o)throw a;return Yk(a,e,"R3InjectorError",this.source)}else throw a}finally{pn(s),qi(o)}}resolveInjectorInitializers(){let e=Ve(null),n=qi(this),r=pn(void 0),i;try{let o=this.get(ns,Dn,Ee.Self);for(let s of o)s()}finally{qi(n),pn(r),Ve(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(an(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){e=sn(e);let n=Ia(e)?e:sn(e&&e.provide),r=IO(e);if(!Ia(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ma(void 0,zh,!0),i.factory=()=>Oy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ve(null);try{return n.value===zh&&(n.value=EO,n.value=n.factory()),typeof n.value=="object"&&n.value&&CO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=sn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ly(t){let e=Af(t),n=e!==null?e.factory:ts(t);if(n!==null)return n;if(t instanceof Y)throw new te(204,!1);if(t instanceof Function)return bO(t);throw new te(204,!1)}function bO(t){if(t.length>0)throw new te(204,!1);let n=Ok(t);return n!==null?()=>n.factory(t):()=>new t}function IO(t){if(wC(t))return ma(void 0,t.useValue);{let e=_C(t);return ma(e,zh)}}function _C(t,e,n){let r;if(Ia(t)){let i=sn(t);return ts(i)||Ly(i)}else if(wC(t))r=()=>sn(t.useValue);else if(wO(t))r=()=>t.useFactory(...Oy(t.deps||[]));else if(vO(t))r=()=>z(sn(t.useExisting));else{let i=sn(t&&(t.useClass||t.provide));if(DO(t))r=()=>new i(...Oy(t.deps));else return ts(i)||Ly(i)}return r}function ma(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function DO(t){return!!t.deps}function CO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function TO(t){return typeof t=="function"||typeof t=="object"&&t instanceof Y}function jy(t,e){for(let n of t)Array.isArray(n)?jy(n,e):n&&eC(n)?jy(n.\u0275providers,e):e(n)}function jn(t,e){t instanceof Vu&&t.assertNotDestroyed();let n,r=qi(t),i=pn(void 0);try{return e()}finally{qi(r),pn(i)}}function EC(){return tC()!==void 0||Wk()!=null}function AO(t){if(!EC())throw new te(-203,!1)}function SO(t){let e=jt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function xO(t){return typeof t=="function"}var Tn=0,be=1,he=2,Gt=3,Xn=4,nr=5,Ir=6,ef=7,er=8,Da=9,Dr=10,ct=11,Lu=12,mD=13,ka=14,Vn=15,Ca=16,ya=17,Ta=18,Rf=19,bC=20,Gi=21,wy=22,Fn=23,Wt=25,IC=1,ju=6,oi=7,tf=8,nf=9,Cn=10,rf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rf||{});function Er(t){return Array.isArray(t)&&typeof t[IC]=="object"}function Tr(t){return Array.isArray(t)&&t[IC]===!0}function DC(t){return(t.flags&4)!==0}function Gu(t){return t.componentOffset>-1}function Tv(t){return(t.flags&1)===1}function Ki(t){return!!t.template}function of(t){return(t[he]&512)!==0}var By=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function CC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Yi(){return TC}function TC(t){return t.type.prototype.ngOnChanges&&(t.setInput=RO),MO}Yi.ngInherit=!0;function MO(){let t=SC(this),e=t?.current;if(e){let n=t.previous;if(n===Ea)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function RO(t,e,n,r,i){let o=this.declaredInputs[r],s=SC(t)||NO(t,{previous:Ea,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new By(l&&l.currentValue,n,c===Ea),CC(t,e,i,n)}var AC="__ngSimpleChanges__";function SC(t){return t[AC]||null}function NO(t,e){return t[AC]=e}var yD=null;var wr=function(t,e,n){yD?.(t,e,n)},PO="svg",kO="math";function tr(t){for(;Array.isArray(t);)t=t[Tn];return t}function xC(t,e){return tr(e[t])}function An(t,e){return tr(e[t.index])}function MC(t,e){return t.data[e]}function OO(t,e){return t[e]}function Zi(t,e){let n=e[t];return Er(n)?n:n[Tn]}function Av(t){return(t[he]&128)===128}function FO(t){return Tr(t[Gt])}function sf(t,e){return e==null?null:t[e]}function RC(t){t[ya]=0}function NC(t){t[he]&1024||(t[he]|=1024,Av(t)&&Nf(t))}function VO(t,e){for(;t>0;)e=e[ka],t--;return e}function Bu(t){return!!(t[he]&9216||t[Fn]?.dirty)}function Uy(t){t[Dr].changeDetectionScheduler?.notify(7),t[he]&64&&(t[he]|=1024),Bu(t)&&Nf(t)}function Nf(t){t[Dr].changeDetectionScheduler?.notify(0);let e=rs(t);for(;e!==null&&!(e[he]&8192||(e[he]|=8192,!Av(e)));)e=rs(e)}function PC(t,e){if((t[he]&256)===256)throw new te(911,!1);t[Gi]===null&&(t[Gi]=[]),t[Gi].push(e)}function LO(t,e){if(t[Gi]===null)return;let n=t[Gi].indexOf(e);n!==-1&&t[Gi].splice(n,1)}function rs(t){let e=t[Gt];return Tr(e)?e[Gt]:e}var De={lFrame:zC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var kC=!1;function jO(){return De.lFrame.elementDepthCount}function BO(){De.lFrame.elementDepthCount++}function UO(){De.lFrame.elementDepthCount--}function OC(){return De.bindingsEnabled}function Wu(){return De.skipHydrationRootTNode!==null}function $O(t){return De.skipHydrationRootTNode===t}function HO(t){De.skipHydrationRootTNode=t}function qO(){De.skipHydrationRootTNode=null}function We(){return De.lFrame.lView}function Bn(){return De.lFrame.tView}function FC(t){return De.lFrame.contextLView=t,t[er]}function VC(t){return De.lFrame.contextLView=null,t}function yn(){let t=LC();for(;t!==null&&t.type===64;)t=t.parent;return t}function LC(){return De.lFrame.currentTNode}function zO(){let t=De.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ku(t,e){let n=De.lFrame;n.currentTNode=t,n.isParent=e}function jC(){return De.lFrame.isParent}function GO(){De.lFrame.isParent=!1}function BC(){return kC}function vD(t){kC=t}function UC(){let t=De.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function WO(t){return De.lFrame.bindingIndex=t}function Sv(){return De.lFrame.bindingIndex++}function KO(t){let e=De.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function QO(){return De.lFrame.inI18n}function YO(t,e){let n=De.lFrame;n.bindingIndex=n.bindingRootIndex=t,$y(e)}function ZO(){return De.lFrame.currentDirectiveIndex}function $y(t){De.lFrame.currentDirectiveIndex=t}function JO(t){let e=De.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $C(t){De.lFrame.currentQueryIndex=t}function XO(t){let e=t[be];return e.type===2?e.declTNode:e.type===1?t[nr]:null}function HC(t,e,n){if(n&Ee.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Ee.Host);)if(i=XO(o),i===null||(o=o[ka],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=De.lFrame=qC();return r.currentTNode=e,r.lView=t,!0}function xv(t){let e=qC(),n=t[be];De.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qC(){let t=De.lFrame,e=t===null?null:t.child;return e===null?zC(t):e}function zC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function GC(){let t=De.lFrame;return De.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var WC=GC;function Mv(){let t=GC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eF(t){return(De.lFrame.contextLView=VO(t,De.lFrame.contextLView))[er]}function Oa(){return De.lFrame.selectedIndex}function is(t){De.lFrame.selectedIndex=t}function KC(){let t=De.lFrame;return MC(t.tView,t.selectedIndex)}function QC(){return De.lFrame.currentNamespace}var YC=!0;function Rv(){return YC}function Ji(t){YC=t}function tF(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=TC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Nv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Gh(t,e,n){ZC(t,e,3,n)}function Wh(t,e,n,r){(t[he]&3)===n&&ZC(t,e,n,r)}function _y(t,e){let n=t[he];(n&3)===e&&(n&=16383,n+=1,t[he]=n)}function ZC(t,e,n,r){let i=r!==void 0?t[ya]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ya]+=65536),(a<o||o==-1)&&(nF(t,n,e,c),t[ya]=(t[ya]&4294901760)+c+2),c++}function wD(t,e){wr(4,t,e);let n=Ve(null);try{e.call(t)}finally{Ve(n),wr(5,t,e)}}function nF(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[he]>>14<t[ya]>>16&&(t[he]&3)===e&&(t[he]+=16384,wD(a,o)):wD(a,o)}var _a=-1,os=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function rF(t){return t instanceof os}function iF(t){return(t.flags&8)!==0}function oF(t){return(t.flags&16)!==0}var Ey={},Hy=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xf(r);let i=this.injector.get(e,Ey,r);return i!==Ey||n===Ey?i:this.parentInjector.get(e,n,r)}};function JC(t){return t!==_a}function af(t){return t&32767}function sF(t){return t>>16}function cf(t,e){let n=sF(t),r=e;for(;n>0;)r=r[ka],n--;return r}var qy=!0;function uf(t){let e=qy;return qy=t,e}var aF=256,XC=aF-1,eT=5,cF=0,_r={};function uF(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pu)&&(r=n[Pu]),r==null&&(r=n[Pu]=cF++);let i=r&XC,o=1<<i;e.data[t+(i>>eT)]|=o}function lf(t,e){let n=tT(t,e);if(n!==-1)return n;let r=e[be];r.firstCreatePass&&(t.injectorIndex=e.length,by(r.data,t),by(e,null),by(r.blueprint,null));let i=Pv(t,e),o=t.injectorIndex;if(JC(i)){let s=af(i),a=cf(i,e),c=a[be].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function by(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Pv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=sT(i),r===null)return _a;if(n++,i=i[ka],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _a}function zy(t,e,n){uF(t,e,n)}function lF(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(cC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function nT(t,e,n){if(n&Ee.Optional||t!==void 0)return t;_v(e,"NodeInjector")}function rT(t,e,n,r){if(n&Ee.Optional&&r===void 0&&(r=null),!(n&(Ee.Self|Ee.Host))){let i=t[Da],o=pn(void 0);try{return i?i.get(e,r,n&Ee.Optional):nC(e,r,n&Ee.Optional)}finally{pn(o)}}return nT(r,e,n)}function iT(t,e,n,r=Ee.Default,i){if(t!==null){if(e[he]&2048&&!(r&Ee.Self)){let s=gF(t,e,n,r,_r);if(s!==_r)return s}let o=oT(t,e,n,r,_r);if(o!==_r)return o}return rT(e,n,r,i)}function oT(t,e,n,r,i){let o=fF(n);if(typeof o=="function"){if(!HC(e,t,r))return r&Ee.Host?nT(i,n,r):rT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Ee.Optional))_v(n);else return s}finally{WC()}}else if(typeof o=="number"){let s=null,a=tT(t,e),c=_a,l=r&Ee.Host?e[Vn][nr]:null;for((a===-1||r&Ee.SkipSelf)&&(c=a===-1?Pv(t,e):e[a+8],c===_a||!ED(r,!1)?a=-1:(s=e[be],a=af(c),e=cf(c,e)));a!==-1;){let h=e[be];if(_D(o,a,h.data)){let g=dF(a,e,n,s,r,l);if(g!==_r)return g}c=e[a+8],c!==_a&&ED(r,e[be].data[a+8]===l)&&_D(o,a,e)?(s=h,a=af(c),e=cf(c,e)):a=-1}}return i}function dF(t,e,n,r,i,o){let s=e[be],a=s.data[t+8],c=r==null?Gu(a)&&qy:r!=s&&(a.type&3)!==0,l=i&Ee.Host&&o===a,h=hF(a,s,n,c,l);return h!==null?Aa(e,s,h,a):_r}function hF(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,h=o>>20,g=r?a:a+h,w=i?a+h:l;for(let E=g;E<w;E++){let S=s[E];if(E<c&&n===S||E>=c&&S.type===n)return E}if(i){let E=s[c];if(E&&Ki(E)&&E.type===n)return c}return null}function Aa(t,e,n,r){let i=t[n],o=e.data;if(rF(i)){let s=i;s.resolving&&$k(Uk(o[n]));let a=uf(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?pn(s.injectImpl):null,h=HC(t,r,Ee.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&tF(n,o[n],e)}finally{l!==null&&pn(l),uf(a),s.resolving=!1,WC()}}return i}function fF(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pu)?t[Pu]:void 0;return typeof e=="number"?e>=0?e&XC:pF:e}function _D(t,e,n){let r=1<<t;return!!(n[e+(t>>eT)]&r)}function ED(t,e){return!(t&Ee.Self)&&!(t&Ee.Host&&e)}var es=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iT(this._tNode,this._lView,e,xf(r),n)}};function pF(){return new es(yn(),We())}function Fa(t){return Hu(()=>{let e=t.prototype.constructor,n=e[Yh]||Gy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Yh]||Gy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gy(t){return YD(t)?()=>{let e=Gy(sn(t));return e&&e()}:ts(t)}function gF(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[he]&2048&&!(s[he]&512);){let a=oT(o,s,n,r|Ee.Self,_r);if(a!==_r)return a;let c=o.parent;if(!c){let l=s[bC];if(l){let h=l.get(n,_r,r);if(h!==_r)return h}c=sT(s),s=s[ka]}o=c}return i}function sT(t){let e=t[be],n=e.type;return n===2?e.declTNode:n===1?t[nr]:null}function kv(t){return lF(yn(),t)}function bD(t,e=null,n=null,r){let i=aT(t,e,n,r);return i.resolveInjectorInitializers(),i}function aT(t,e=null,n=null,r,i=new Set){let o=[n||Dn,mO(t)];return r=r||(typeof t=="object"?void 0:an(t)),new Vu(o,e||Cv(),r||null,i)}var Xo=class Xo{static create(e,n){if(Array.isArray(e))return bD({name:""},n,e,"");{let r=e.name??"";return bD({name:r},e.parent,e.providers,r)}}};Xo.THROW_IF_NOT_FOUND=Ou,Xo.NULL=new Xh,Xo.\u0275prov=ne({token:Xo,providedIn:"any",factory:()=>z(oC)}),Xo.__NG_ELEMENT_ID__=-1;var mn=Xo;var mF=new Y("");mF.__NG_ELEMENT_ID__=t=>{let e=yn();if(e===null)throw new te(204,!1);if(e.type&2)return e.value;if(t&Ee.Optional)return null;throw new te(204,!1)};var yF="ngOriginalError";function Iy(t){return t[yF]}var Cr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Iy(e);for(;n&&Iy(n);)n=Iy(n);return n||null}},cT=new Y("",{providedIn:"root",factory:()=>q(Cr).handleError.bind(void 0)}),Ov=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vF,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Wy=class extends Ov{constructor(e){super(),this._lView=e}onDestroy(e){return PC(this._lView,e),()=>LO(this._lView,e)}};function vF(){return new Wy(We())}function wF(){return Pf(yn(),We())}function Pf(t,e){return new Xi(An(t,e))}var Xi=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=wF;let t=e;return t})();var ls=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Ky=class extends Je{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,EC()&&(this.destroyRef=q(Ov,{optional:!0})??void 0,this.pendingTasks=q(ls,{optional:!0})??void 0)}emit(e){let n=Ve(null);try{super.next(e)}finally{Ve(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof at&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},bt=Ky;var _F="ngSkipHydration",EF="ngskiphydration";function uT(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===EF)return!0}return!1}function lT(t){return t.hasAttribute(_F)}function df(t){return(t.flags&128)===128}function bF(t){if(df(t))return!0;let e=t.parent;for(;e;){if(df(t)||uT(e))return!0;e=e.parent}return!1}var dT=new Map,IF=0;function DF(){return IF++}function CF(t){dT.set(t[Rf],t)}function TF(t){dT.delete(t[Rf])}var ID="__ngContext__";function ss(t,e){Er(e)?(t[ID]=e[Rf],CF(e)):t[ID]=e}function hT(t){return pT(t[Lu])}function fT(t){return pT(t[Xn])}function pT(t){for(;t!==null&&!Tr(t);)t=t[Xn];return t}var Qy;function gT(t){Qy=t}function kf(){if(Qy!==void 0)return Qy;if(typeof document<"u")return document;throw new te(210,!1)}var Qu=new Y("",{providedIn:"root",factory:()=>AF}),AF="ng",Fv=new Y(""),Bt=new Y("",{providedIn:"platform",factory:()=>"unknown"});var Vv=new Y("",{providedIn:"root",factory:()=>kf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function SF(){let t=new Va;return q(Bt)==="browser"&&(t.store=xF(kf(),q(Qu))),t}var Va=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=ne({token:e,providedIn:"root",factory:SF});let t=e;return t})();function xF(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var mT="h",yT="b",Yy=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Yy||{}),MF="e",RF="t",Lv="c",vT="x",hf="r",NF="i",PF="n",wT="d";var kF="__nghData__",_T=kF,Dy="ngh",OF="nghm",ET=()=>null;function FF(t,e,n=!1){let r=t.getAttribute(Dy);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let h=e.get(Va,null,{optional:!0});h!==null&&(c=h.get(_T,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Of(l,0,t.nextSibling)),a?t.setAttribute(Dy,a):t.removeAttribute(Dy),l}function VF(){ET=FF}function jv(t,e,n=!1){return ET(t,e,n)}function LF(t){let e=t._lView;return e[be].type===2?null:(of(e)&&(e=e[Wt]),e)}function jF(t){return t.textContent?.replace(/\s/gm,"")}function BF(t){let e=kf(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=jF(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Of(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Zy(t,e){return t.segmentHeads?.[e]??null}function UF(t,e){let n=t.data,r=n[MF]?.[e]??null;return r===null&&n[Lv]?.[e]&&(r=Bv(t,e)),r}function bT(t,e){return t.data[Lv]?.[e]??null}function Bv(t,e){let n=bT(t,e)??[],r=0;for(let i of n)r+=i[hf]*(i[vT]??1);return r}function $F(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[wT];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Ff(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[wT];t.disconnectedNodes=n?new Set(n):null}return!!$F(t)?.has(e)}var jh=new Y(""),IT=!1,DT=new Y("",{providedIn:"root",factory:()=>IT});var Bh;function HF(){if(Bh===void 0&&(Bh=null,jt.trustedTypes))try{Bh=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bh}function DD(t){return HF()?.createScriptURL(t)||t}var ff=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${KD})`}};function Yu(t){return t instanceof ff?t.changingThisBreaksApplicationSecurity:t}function Uv(t,e){let n=qF(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${KD})`)}return n===e}function qF(t){return t instanceof ff&&t.getTypeName()||null}var zF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function CT(t){return t=String(t),t.match(zF)?t:"unsafe:"+t}var Vf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vf||{});function GF(t){let e=AT();return e?e.sanitize(Vf.URL,t)||"":Uv(t,"URL")?Yu(t):CT(Sf(t))}function WF(t){let e=AT();if(e)return DD(e.sanitize(Vf.RESOURCE_URL,t)||"");if(Uv(t,"ResourceURL"))return DD(Yu(t));throw new te(904,!1)}function KF(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?WF:GF}function TT(t,e,n){return KF(e,n)(t)}function AT(){let t=We();return t&&t[Dr].sanitizer}var QF=/^>|^->|<!--|-->|--!>|<!-$/g,YF=/(<|>)/g,ZF="\u200B$1\u200B";function JF(t){return t.replace(QF,e=>e.replace(YF,ZF))}function ST(t){return t.ownerDocument.defaultView}function XF(t){return t.ownerDocument.body}function xT(t){return t instanceof Function?t():t}function Nu(t){return(t??q(mn)).get(Bt)==="browser"}var si=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(si||{}),eV;function $v(t,e){return eV(t,e)}function va(t,e,n,r,i){if(r!=null){let o,s=!1;Tr(r)?o=r:Er(r)&&(s=!0,r=r[Tn]);let a=tr(r);t===0&&n!==null?i==null?OT(e,n,a):pf(e,n,a,i||null,!0):t===1&&n!==null?pf(e,n,a,i||null,!0):t===2?Wv(e,a,s):t===3&&e.destroyNode(a),o!=null&&mV(e,t,o,n,i)}}function MT(t,e){return t.createText(e)}function tV(t,e,n){t.setValue(e,n)}function RT(t,e){return t.createComment(JF(e))}function Hv(t,e,n){return t.createElement(e,n)}function nV(t,e){NT(t,e),e[Tn]=null,e[nr]=null}function rV(t,e,n,r,i,o){r[Tn]=i,r[nr]=e,Lf(t,r,n,1,i,o)}function NT(t,e){e[Dr].changeDetectionScheduler?.notify(8),Lf(t,e,e[ct],2,null,null)}function iV(t){let e=t[Lu];if(!e)return Cy(t[be],t);for(;e;){let n=null;if(Er(e))n=e[Lu];else{let r=e[Cn];r&&(n=r)}if(!n){for(;e&&!e[Xn]&&e!==t;)Er(e)&&Cy(e[be],e),e=e[Gt];e===null&&(e=t),Er(e)&&Cy(e[be],e),n=e&&e[Xn]}e=n}}function oV(t,e,n,r){let i=Cn+r,o=n.length;r>0&&(n[i-1][Xn]=e),r<o-Cn?(e[Xn]=n[i],iC(n,Cn+r,e)):(n.push(e),e[Xn]=null),e[Gt]=n;let s=e[Ca];s!==null&&n!==s&&PT(s,e);let a=e[Ta];a!==null&&a.insertView(t),Uy(e),e[he]|=128}function PT(t,e){let n=t[nf],r=e[Gt];if(Er(r))t[he]|=rf.HasTransplantedViews;else{let i=r[Gt][Vn];e[Vn]!==i&&(t[he]|=rf.HasTransplantedViews)}n===null?t[nf]=[e]:n.push(e)}function qv(t,e){let n=t[nf],r=n.indexOf(e);n.splice(r,1)}function Jy(t,e){if(t.length<=Cn)return;let n=Cn+e,r=t[n];if(r){let i=r[Ca];i!==null&&i!==t&&qv(i,r),e>0&&(t[n-1][Xn]=r[Xn]);let o=Jh(t,Cn+e);nV(r[be],r);let s=o[Ta];s!==null&&s.detachView(o[be]),r[Gt]=null,r[Xn]=null,r[he]&=-129}return r}function kT(t,e){if(!(e[he]&256)){let n=e[ct];n.destroyNode&&Lf(t,e,n,3,null,null),iV(e)}}function Cy(t,e){if(e[he]&256)return;let n=Ve(null);try{e[he]&=-129,e[he]|=256,e[Fn]&&Km(e[Fn]),aV(t,e),sV(t,e),e[be].type===1&&e[ct].destroy();let r=e[Ca];if(r!==null&&Tr(e[Gt])){r!==e[Gt]&&qv(r,e);let i=e[Ta];i!==null&&i.detachView(t)}TF(e)}finally{Ve(n)}}function sV(t,e){let n=t.cleanup,r=e[ef];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ef]=null);let i=e[Gi];if(i!==null){e[Gi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function aV(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof os)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];wr(4,a,c);try{c.call(a)}finally{wr(5,a,c)}}else{wr(4,i,o);try{o.call(i)}finally{wr(5,i,o)}}}}}function cV(t,e,n){return uV(t,e.parent,n)}function uV(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Tn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===br.None||o===br.Emulated)return null}return An(r,n)}}function pf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function OT(t,e,n){t.appendChild(e,n)}function CD(t,e,n,r,i){r!==null?pf(t,e,n,r,i):OT(t,e,n)}function lV(t,e,n,r){t.removeChild(e,n,r)}function zv(t,e){return t.parentNode(e)}function dV(t,e){return t.nextSibling(e)}function hV(t,e,n){return pV(t,e,n)}function fV(t,e,n){return t.type&40?An(t,n):null}var pV=fV,TD;function Gv(t,e,n,r){let i=cV(t,r,e),o=e[ct],s=r.parent||e[nr],a=hV(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)CD(o,i,n[c],a,!1);else CD(o,i,n,a,!1);TD!==void 0&&TD(o,r,e,n,i)}function Kh(t,e){if(e!==null){let n=e.type;if(n&3)return An(e,t);if(n&4)return Xy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Kh(t,r);{let i=t[e.index];return Tr(i)?Xy(-1,i):tr(i)}}else{if(n&32)return $v(e,t)()||tr(t[e.index]);{let r=FT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=rs(t[Vn]);return Kh(i,r)}else return Kh(t,e.next)}}}return null}function FT(t,e){if(e!==null){let r=t[Vn][nr],i=e.projection;return r.projection[i]}return null}function Xy(t,e){let n=Cn+t+1;if(n<e.length){let r=e[n],i=r[be].firstChild;if(i!==null)return Kh(r,i)}return e[oi]}function Wv(t,e,n){let r=zv(t,e);r&&lV(t,r,e,n)}function VT(t){t.textContent=""}function Kv(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&ss(tr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Kv(t,e,n.child,r,i,o,!1),va(e,t,i,a,o);else if(c&32){let l=$v(n,r),h;for(;h=l();)va(e,t,i,h,o);va(e,t,i,a,o)}else c&16?gV(t,e,r,n,i,o):va(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Lf(t,e,n,r,i,o){Kv(n,r,t.firstChild,e,i,o,!1)}function gV(t,e,n,r,i,o){let s=n[Vn],c=s[nr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];va(e,t,i,h,o)}else{let l=c,h=s[Gt];df(r)&&(l.flags|=128),Kv(t,e,l,h,i,o,!0)}}function mV(t,e,n,r,i){let o=n[oi],s=tr(n);o!==s&&va(e,t,r,o,i);for(let a=Cn;a<n.length;a++){let c=n[a];Lf(c[be],c,t,e,r,o)}}function yV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:si.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=si.Important),t.setStyle(n,r,i,o))}}function vV(t,e,n){t.setAttribute(e,"style",n)}function LT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Fy(t,e,r),i!==null&&LT(t,e,i),o!==null&&vV(t,e,o)}var ds={};function cn(t=1){BT(Bn(),We(),Oa()+t,!1)}function BT(t,e,n,r){if(!r)if((e[he]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Gh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Wh(e,o,0,n)}is(n)}function ye(t,e=Ee.Default){let n=We();if(n===null)return z(t,e);let r=yn();return iT(r,n,sn(t),e)}function UT(){let t="invalid";throw new Error(t)}function $T(t,e,n,r,i,o){let s=Ve(null);try{let a=null;i&ba.SignalBased&&(a=e[r][O0]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ba.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):CC(e,a,r,o)}finally{Ve(s)}}function wV(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)is(~i);else{let o=i,s=n[++r],a=n[++r];YO(s,o);let c=e[o];a(2,c)}}}finally{is(-1)}}function jf(t,e,n,r,i,o,s,a,c,l,h){let g=e.blueprint.slice();return g[Tn]=i,g[he]=r|4|128|8|64,(l!==null||t&&t[he]&2048)&&(g[he]|=2048),RC(g),g[Gt]=g[ka]=t,g[er]=n,g[Dr]=s||t&&t[Dr],g[ct]=a||t&&t[ct],g[Da]=c||t&&t[Da]||null,g[nr]=o,g[Rf]=DF(),g[Ir]=h,g[bC]=l,g[Vn]=e.type==2?t[Vn]:g,g}function Bf(t,e,n,r,i){let o=t.data[e];if(o===null)o=_V(t,e,n,r,i),QO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=zO();o.injectorIndex=s===null?-1:s.injectorIndex}return Ku(o,!0),o}function _V(t,e,n,r,i){let o=LC(),s=jC(),a=s?o:o&&o.parent,c=t.data[e]=TV(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function HT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qT(t,e,n,r,i){let o=Oa(),s=r&2;try{is(-1),s&&e.length>Wt&&BT(t,e,Wt,!1),wr(s?2:0,i),n(r,i)}finally{is(o),wr(s?3:1,i)}}function zT(t,e,n){if(DC(e)){let r=Ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Ve(r)}}}function GT(t,e,n){OC()&&(PV(t,e,n,An(n,e)),(n.flags&64)===64&&JT(t,e,n))}function WT(t,e,n=An){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function KT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Qv(t,e,n,r,i,o,s,a,c,l,h){let g=Wt+r,w=g+i,E=EV(g,w),S=typeof l=="function"?l():l;return E[be]={type:t,blueprint:E,template:n,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1,ssrId:h}}function EV(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ds);return n}function bV(t,e,n,r){let o=r.get(DT,IT)||n===br.ShadowDom,s=t.selectRootElement(e,o);return IV(s),s}function IV(t){QT(t)}var QT=()=>null;function DV(t){lT(t)?VT(t):BF(t)}function CV(){QT=DV}function TV(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Wu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function AD(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ba.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?SD(r,n,l,a,c):SD(r,n,l,a)}return r}function SD(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function AV(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let h=r;h<i;h++){let g=o[h],w=n?n.get(g):null,E=w?w.inputs:null,S=w?w.outputs:null;c=AD(0,g.inputs,h,c,E),l=AD(1,g.outputs,h,l,S);let P=c!==null&&s!==null&&!Iv(e)?qV(c,h,s):null;a.push(P)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function SV(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function xV(t,e,n,r,i,o,s,a){let c=An(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Yv(t,n,h,r,i),Gu(e)&&MV(n,e.index)):e.type&3?(r=SV(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function MV(t,e){let n=Zi(e,t);n[he]&16||(n[he]|=64)}function YT(t,e,n,r){if(OC()){let i=r===null?null:{"":-1},o=OV(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&ZT(t,e,n,s,i,a),i&&FV(n,r,i)}n.mergedAttrs=Fu(n.mergedAttrs,n.attrs)}function ZT(t,e,n,r,i,o){for(let l=0;l<r.length;l++)zy(lf(n,e),t,r[l].type);LV(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=HT(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Fu(n.mergedAttrs,h.hostAttrs),jV(t,n,e,c,h),VV(c,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}AV(t,n,o)}function RV(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;NV(s)!=a&&s.push(a),s.push(n,r,o)}}function NV(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function PV(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Gu(n)&&BV(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||lf(n,e),ss(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Aa(e,t,a,n);if(ss(l,e),s!==null&&HV(e,a-i,l,c,n,s),Ki(c)){let h=Zi(n.index,e);h[er]=Aa(e,t,a,n)}}}function JT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ZO();try{is(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];$y(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&kV(c,l)}}finally{is(-1),$y(s)}}function kV(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function OV(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(aO(e,s.selectors,!1))if(r||(r=[]),Ki(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;ev(t,e,c)}else r.unshift(s),ev(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ev(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function FV(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new te(-301,!1);r.push(e[i],o)}}}function VV(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ki(e)&&(n[""]=t)}}function LV(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function jV(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ts(i.type,!0)),s=new os(o,Ki(i),ye);t.blueprint[r]=s,n[r]=s,RV(t,e,r,HT(t,n,i.hostVars,ds),i)}function BV(t,e,n){let r=An(e,t),i=KT(n),o=t[Dr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Uf(t,jf(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function UV(t,e,n,r,i,o){let s=An(t,e);$V(e[ct],s,o,t.value,n,r,i)}function $V(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Sf(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function HV(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],h=s[a++],g=s[a++];$T(r,n,c,l,h,g)}}function qV(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function XT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function eA(t,e){let n=t.contentQueries;if(n!==null){let r=Ve(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];$C(o),a.contentQueries(2,e[s],s)}}}finally{Ve(r)}}}function Uf(t,e){return t[Lu]?t[mD][Xn]=e:t[Lu]=e,t[mD]=e,e}function tv(t,e,n){$C(0);let r=Ve(null);try{e(t,n)}finally{Ve(r)}}function zV(t){return t[ef]??=[]}function GV(t){return t.cleanup??=[]}function tA(t,e){let n=t[Da],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function Yv(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],h=t.data[s];$T(h,l,r,a,c,i)}}function WV(t,e,n){let r=xC(e,t);tV(t[ct],r,n)}function KV(t,e){let n=Zi(e,t),r=n[be];QV(r,n);let i=n[Tn];i!==null&&n[Ir]===null&&(n[Ir]=jv(i,n[Da])),Zv(r,n,n[er])}function QV(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Zv(t,e,n){xv(e);try{let r=t.viewQuery;r!==null&&tv(1,r,n);let i=t.template;i!==null&&qT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ta]?.finishViewCreation(t),t.staticContentQueries&&eA(t,e),t.staticViewQueries&&tv(2,t.viewQuery,n);let o=t.components;o!==null&&YV(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[he]&=-5,Mv()}}function YV(t,e){for(let n=0;n<e.length;n++)KV(t,e[n])}function ZV(t,e,n,r){let i=Ve(null);try{let o=e.tView,a=t[he]&4096?4096:16,c=jf(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ca]=l;let h=t[Ta];return h!==null&&(c[Ta]=h.createEmbeddedView(o)),Zv(o,c,n),c}finally{Ve(i)}}function xD(t,e){return!e||e.firstChild===null||df(t)}function JV(t,e,n,r=!0){let i=e[be];if(oV(i,e,t,n),r){let s=Xy(n,t),a=e[ct],c=zv(a,t[oi]);c!==null&&rV(i,t[nr],a,e,c,s)}let o=e[Ir];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gf(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(tr(o)),Tr(o)&&XV(o,r);let s=n.type;if(s&8)gf(t,e,n.child,r);else if(s&32){let a=$v(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=FT(e,n);if(Array.isArray(a))r.push(...a);else{let c=rs(e[Vn]);gf(c[be],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function XV(t,e){for(let n=Cn;n<t.length;n++){let r=t[n],i=r[be].firstChild;i!==null&&gf(r[be],r,i,e)}t[oi]!==t[Tn]&&e.push(t[oi])}var nA=[];function e2(t){return t[Fn]??t2(t)}function t2(t){let e=nA.pop()??Object.create(r2);return e.lView=t,e}function n2(t){t.lView[Fn]!==t&&(t.lView=null,nA.push(t))}var r2=xe(K({},zm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Nf(t.lView)},consumerOnSignalRead(){this.lView[Fn]=this}});function i2(t){let e=t[Fn]??Object.create(o2);return e.lView=t,e}var o2=xe(K({},zm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=rs(t.lView);for(;e&&!rA(e[be]);)e=rs(e);e&&NC(e)},consumerOnSignalRead(){this.lView[Fn]=this}});function rA(t){return t.type!==2}var s2=100;function iA(t,e=!0,n=0){let r=t[Dr],i=r.rendererFactory,o=!1;o||i.begin?.();try{a2(t,n)}catch(s){throw e&&tA(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function a2(t,e){let n=BC();try{vD(!0),nv(t,e);let r=0;for(;Bu(t);){if(r===s2)throw new te(103,!1);r++,nv(t,1)}}finally{vD(n)}}function c2(t,e,n,r){let i=e[he];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Dr].inlineEffectRunner?.flush(),xv(e);let a=!0,c=null,l=null;o||(rA(t)?(l=e2(e),c=Gm(l)):F0()===null?(a=!1,l=i2(e),c=Gm(l)):e[Fn]&&(Km(e[Fn]),e[Fn]=null));try{RC(e),WO(t.bindingStartIndex),n!==null&&qT(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let E=t.preOrderCheckHooks;E!==null&&Gh(e,E,null)}else{let E=t.preOrderHooks;E!==null&&Wh(e,E,0,null),_y(e,0)}if(s||u2(e),oA(e,0),t.contentQueries!==null&&eA(t,e),!o)if(h){let E=t.contentCheckHooks;E!==null&&Gh(e,E)}else{let E=t.contentHooks;E!==null&&Wh(e,E,1),_y(e,1)}wV(t,e);let g=t.components;g!==null&&aA(e,g,0);let w=t.viewQuery;if(w!==null&&tv(2,w,r),!o)if(h){let E=t.viewCheckHooks;E!==null&&Gh(e,E)}else{let E=t.viewHooks;E!==null&&Wh(e,E,2),_y(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[wy]){for(let E of e[wy])E();e[wy]=null}o||(e[he]&=-73)}catch(h){throw o||Nf(e),h}finally{l!==null&&(V0(l,c),a&&n2(l)),Mv()}}function oA(t,e){for(let n=hT(t);n!==null;n=fT(n))for(let r=Cn;r<n.length;r++){let i=n[r];sA(i,e)}}function u2(t){for(let e=hT(t);e!==null;e=fT(e)){if(!(e[he]&rf.HasTransplantedViews))continue;let n=e[nf];for(let r=0;r<n.length;r++){let i=n[r];NC(i)}}}function l2(t,e,n){let r=Zi(e,t);sA(r,n)}function sA(t,e){Av(t)&&nv(t,e)}function nv(t,e){let r=t[be],i=t[he],o=t[Fn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Wm(o)),s||=!1,o&&(o.dirty=!1),t[he]&=-9217,s)c2(r,t,r.template,t[er]);else if(i&8192){oA(t,1);let a=r.components;a!==null&&aA(t,a,1)}}function aA(t,e,n){for(let r=0;r<e.length;r++)l2(t,e[r],n)}function Jv(t,e){let n=BC()?64:1088;for(t[Dr].changeDetectionScheduler?.notify(e);t;){t[he]|=n;let r=rs(t);if(of(t)&&!r)return t;t=r}return null}var as=class{get rootNodes(){let e=this._lView,n=e[be];return gf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[er]}set context(e){this._lView[er]=e}get destroyed(){return(this._lView[he]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Gt];if(Tr(e)){let n=e[tf],r=n?n.indexOf(this):-1;r>-1&&(Jy(e,r),Jh(n,r))}this._attachedToViewContainer=!1}kT(this._lView[be],this._lView)}onDestroy(e){PC(this._lView,e)}markForCheck(){Jv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[he]&=-129}reattach(){Uy(this._lView),this._lView[he]|=128}detectChanges(){this._lView[he]|=1024,iA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=of(this._lView),n=this._lView[Ca];n!==null&&!e&&qv(n,this._lView),NT(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e;let n=of(this._lView),r=this._lView[Ca];r!==null&&!n&&PT(r,this._lView),Uy(this._lView)}},$f=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=f2;let t=e;return t})(),d2=$f,h2=class extends d2{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ZV(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new as(i)}};function f2(){return p2(yn(),We())}function p2(t,e){return t.type&4?new h2(e,t,Pf(t,e)):null}var g2=new RegExp(`^(\\d+)*(${yT}|${mT})*(.*)`);function m2(t){let e=t.match(g2),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,h]of o.matchAll(/(f|n)(\d*)/g)){let g=parseInt(h,10)||1;a.push(l,g)}return[s,...a]}function y2(t){return!t.prev&&t.parent?.type===8}function Ty(t){return t.index-Wt}function v2(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Hf(t,e,n,r){let i=Ty(r),o=v2(t,i);if(o===void 0){let s=t.data[PF];if(s?.[i])o=_2(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(y2(r)){let l=Ty(r.parent);o=Zy(t,l)}else{let l=An(c,n);if(a)o=l.firstChild;else{let h=Ty(c),g=Zy(t,h);if(c.type===2&&g){let E=Bv(t,h)+1;o=qf(E,g)}else o=l.nextSibling}}}}return o}function qf(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function w2(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Yy.FirstChild:n=n.firstChild;break;case Yy.NextSibling:n=n.nextSibling;break}}return n}function _2(t,e){let[n,...r]=m2(t),i;if(n===mT)i=e[Vn][Tn];else if(n===yT)i=XF(e[Vn][Tn]);else{let o=Number(n);i=tr(e[o+Wt])}return w2(i,r)}var E2=!1;function b2(t){E2=t}function I2(t){let e=t[Ir];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[ct];for(let o of r.values())D2(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function D2(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Wt);i&&Wv(t,i,!1)}}function cA(t){let e=t[ju]??[],r=t[Gt][ct];for(let i of e)C2(i,r);t[ju]=Dn}function C2(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[hf];for(;n<i;){let o=r.nextSibling;Wv(e,r,!1),r=o,n++}}}function uA(t){cA(t);for(let e=Cn;e<t.length;e++)mf(t[e])}function mf(t){I2(t);let e=t[be];for(let n=Wt;n<e.bindingStartIndex;n++)if(Tr(t[n])){let r=t[n];uA(r)}else Er(t[n])&&mf(t[n])}function T2(t){let e=t._views;for(let n of e){let r=LF(n);if(r!==null&&r[Tn]!==null)if(Er(r))mf(r);else{let i=r[Tn];mf(i),uA(r)}}}function A2(t,e){let n=[];for(let r of e)for(let i=0;i<(r[vT]??1);i++){let o={data:r,firstChild:null};r[hf]>0&&(o.firstChild=t,t=qf(r[hf],t)),n.push(o)}return[t,n]}var lA=()=>null;function S2(t,e){let n=t[ju];return!e||n===null||n.length===0?null:n[0].data[NF]===e?n.shift():(cA(t),null)}function x2(){lA=S2}function MD(t,e){return lA(t,e)}var Sa=class{},dA=new Y("",{providedIn:"root",factory:()=>!1});var hA=new Y(""),rv=class{},yf=class{};function M2(t){let e=Error(`No component factory found for ${an(t)}.`);return e[R2]=t,e}var R2="ngComponent";var iv=class{resolveComponentFactory(e){throw M2(e)}},hw=class hw{};hw.NULL=new iv;var xa=hw,Ma=class{},hs=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>N2();let t=e;return t})();function N2(){let t=We(),e=yn(),n=Zi(e.index,t);return(Er(n)?n:t)[ct]}var P2=(()=>{let e=class e{};e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var RD=new Set;function La(t){RD.has(t)||(RD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fA(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof jt.requestAnimationFrame=="function"&&jt.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function ND(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function PD(...t){}var Me=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bt(!1),this.onMicrotaskEmpty=new bt(!1),this.onStable=new bt(!1),this.onError=new bt(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,F2(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new te(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,k2,PD,PD);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},k2={};function Xv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function O2(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{fA(()=>{t.callbackScheduled=!1,ov(t),t.isCheckStableRunning=!0,Xv(t),t.isCheckStableRunning=!1})}),ov(t))}function F2(t){let e=()=>{O2(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(V2(a))return n.invokeTask(i,o,s,a);try{return kD(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),OD(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return kD(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!L2(a)&&e(),OD(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ov(t),Xv(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ov(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function kD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OD(t){t._nesting--,Xv(t)}var vf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bt,this.onMicrotaskEmpty=new bt,this.onStable=new bt,this.onError=new bt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function V2(t){return pA(t,"__ignore_ng_zone__")}function L2(t){return pA(t,"__scheduler_tick__")}function pA(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}function j2(t="zone.js",e){return t==="noop"?new vf:t==="zone.js"?new Me(e):t}var zi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(zi||{}),B2={destroy(){}};function zf(t,e){!e&&AO(zf);let n=e?.injector??q(mn);if(!Nu(n))return B2;La("NgAfterNextRender");let r=n.get(ew),i=r.handler??=new av,o=e?.phase??zi.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(Ov).onDestroy(s),c=jn(n,()=>new sv(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var sv=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=q(Me),this.errorHandler=q(Cr,{optional:!0}),q(Sa,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},av=class{constructor(){this.executingCallbacks=!1,this.buckets={[zi.EarlyRead]:new Set,[zi.Write]:new Set,[zi.MixedReadWrite]:new Set,[zi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},ew=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function cv(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=sD(i,a);else if(o==2){let c=a,l=e[++s];r=sD(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var wf=class extends xa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Wi(e);return new Ra(n,this.ngModule)}};function FD(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function U2(t){let e=t.toLowerCase();return e==="svg"?PO:e==="math"?kO:null}var Ra=class extends yf{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=FD(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return FD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=dO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ve(null);try{i=i||this.ngModule;let s=i instanceof gn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Hy(e,s):e,c=a.get(Ma,null);if(c===null)throw new te(407,!1);let l=a.get(P2,null),h=a.get(ew,null),g=a.get(Sa,null),w={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:g},E=c.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",P=r?bV(E,r,this.componentDef.encapsulation,a):Hv(E,S,U2(S)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let H=null;P!==null&&(H=jv(P,a,!0));let W=Qv(0,null,null,1,0,null,null,null,null,null,null),U=jf(null,W,null,N,null,null,w,E,a,null,H);xv(U);let X,ie;try{let oe=this.componentDef,T,I=null;oe.findHostDirectiveDefs?(T=[],I=new Map,oe.findHostDirectiveDefs(oe,T,I),T.push(oe)):T=[oe];let C=$2(U,P),A=H2(C,P,oe,T,U,w,E);ie=MC(W,Wt),P&&G2(E,oe,P,r),n!==void 0&&W2(ie,this.ngContentSelectors,n),X=z2(A,oe,T,I,U,[K2]),Zv(W,U,null)}finally{Mv()}return new uv(this.componentType,X,Pf(ie,U),U,ie)}finally{Ve(o)}}},uv=class extends rv{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new as(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Yv(o[be],o,i,e,n),this.previousInputValues.set(e,n);let s=Zi(this._tNode.index,o);Jv(s,1)}}get injector(){return new es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function $2(t,e){let n=t[be],r=Wt;return t[r]=e,Bf(n,r,2,"#host",null)}function H2(t,e,n,r,i,o,s){let a=i[be];q2(r,t,e,s);let c=null;e!==null&&(c=jv(e,i[Da]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let g=jf(i,KT(n),null,h,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&ev(a,t,r.length-1),Uf(i,g),i[t.index]=g}function q2(t,e,n,r){for(let i of t)e.mergedAttrs=Fu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(cv(e,e.mergedAttrs,!0),n!==null&&jT(r,n,e))}function z2(t,e,n,r,i,o){let s=yn(),a=i[be],c=An(s,i);ZT(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let g=s.directiveStart+h,w=Aa(i,a,g,s);ss(w,i)}JT(a,i,s),c&&ss(c,i);let l=Aa(i,a,s.directiveStart+s.componentOffset,s);if(t[er]=i[er]=l,o!==null)for(let h of o)h(l,e);return zT(a,s,i),l}function G2(t,e,n,r){if(r)Fy(t,n,["ng-version","18.0.6"]);else{let{attrs:i,classes:o}=hO(e.selectors[0]);i&&Fy(t,n,i),o&&o.length>0&&LT(t,n,o.join(" "))}}function W2(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function K2(){let t=yn();Nv(We()[be],t)}var ja=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Q2;let t=e;return t})();function Q2(){let t=yn();return Z2(t,We())}var Y2=ja,gA=class extends Y2{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Pf(this._hostTNode,this._hostLView)}get injector(){return new es(this._hostTNode,this._hostLView)}get parentInjector(){let e=Pv(this._hostTNode,this._hostLView);if(JC(e)){let n=cf(e,this._hostLView),r=af(e),i=n[be].data[r+8];return new es(i,n)}else return new es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=VD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Cn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=MD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,xD(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!xO(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let c=s?e:new Ra(Wi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let P=(s?l:this.parentInjector).get(gn,null);P&&(o=P)}let h=Wi(c.componentType??{}),g=MD(this._lContainer,h?.id??null),w=g?.firstChild??null,E=c.create(l,i,w,o);return this.insertImpl(E.hostView,a,xD(this._hostTNode,g)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(FO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Gt],l=new gA(c,c[nr],c[Gt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return JV(s,i,o,r),e.attachToViewContainerRef(),iC(Ay(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=VD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Jy(this._lContainer,n);r&&(Jh(Ay(this._lContainer),n),kT(r[be],r))}detach(e){let n=this._adjustIndex(e,-1),r=Jy(this._lContainer,n);return r&&Jh(Ay(this._lContainer),n)!=null?new as(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function VD(t){return t[tf]}function Ay(t){return t[tf]||(t[tf]=[])}function Z2(t,e){let n,r=e[t.index];return Tr(r)?n=r:(n=XT(r,e,null,t),e[t.index]=n,Uf(e,n)),mA(n,e,t,r),new gA(n,t,e)}function J2(t,e){let n=t[ct],r=n.createComment(""),i=An(e,t),o=zv(n,i);return pf(n,o,r,dV(n,i),!1),r}var mA=yA,tw=()=>!1;function X2(t,e,n){return tw(t,e,n)}function yA(t,e,n,r){if(t[oi])return;let i;n.type&8?i=tr(r):i=J2(e,n),t[oi]=i}function eL(t,e,n){if(t[oi]&&t[ju])return!0;let r=n[Ir],i=e.index-Wt;if(!r||bF(e)||Ff(r,i))return!1;let s=Zy(r,i),a=r.data[Lv]?.[i],[c,l]=A2(s,a);return t[oi]=c,t[ju]=l,!0}function tL(t,e,n,r){tw(t,n,e)||yA(t,e,n,r)}function nL(){mA=tL,tw=eL}function rL(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(aL))}return o}return _f.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,h=i.styleUrls;i.styleUrls.forEach((g,w)=>{a.push(""),s.push(r(g).then(E=>{a[l+w]=E,h.splice(h.indexOf(g),1),h.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>cL(o));e.push(c)}),oL(),Promise.all(e).then(()=>{})}var _f=new Map,iL=new Set;function oL(){let t=_f;return _f=new Map,t}function sL(){return _f.size===0}function aL(t){return typeof t=="string"?t:t.text()}function cL(t){iL.delete(t)}function uL(t){return Object.getPrototypeOf(t.prototype).constructor}function ci(t){let e=uL(t.type),n=!0,r=[t];for(;e;){let i;if(Ki(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Uh(t.inputs),s.inputTransforms=Uh(t.inputTransforms),s.declaredInputs=Uh(t.declaredInputs),s.outputs=Uh(t.outputs);let a=i.hostBindings;a&&pL(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&hL(t,c),l&&fL(t,l),lL(t,i),Pk(t.outputs,i.outputs),Ki(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ci&&(n=!1)}}e=Object.getPrototypeOf(e)}dL(r)}function lL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function dL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fu(i.hostAttrs,n=Fu(n,i.hostAttrs))}}function Uh(t){return t===Ea?{}:t===Dn?[]:t}function hL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function fL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function pL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function nw(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Qi=class{},Uu=class{};var Ef=class extends Qi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wf(this);let i=pC(e);this._bootstrapComponents=xT(i.bootstrap),this._r3Injector=aT(e,n,[{provide:Qi,useValue:this},{provide:xa,useValue:this.componentFactoryResolver},...r],an(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bf=class extends Uu{constructor(e){super(),this.moduleType=e}create(e){return new Ef(this.moduleType,e,[])}};function gL(t,e,n){return new Ef(t,e,n)}var lv=class extends Qi{constructor(e){super(),this.componentFactoryResolver=new wf(this),this.instance=null;let n=new Vu([...e.providers,{provide:Qi,useValue:this},{provide:xa,useValue:this.componentFactoryResolver}],e.parent||Cv(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gf(t,e,n=null){return new lv({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function vA(t){return yL(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function mL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function yL(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function vL(t,e,n){return t[e]=n}function Zu(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ju(t){return(t.flags&32)===32}function wL(t,e,n,r,i,o,s,a,c){let l=e.consts,h=Bf(e,t,4,s||null,a||null);YT(e,n,h,sf(l,c)),Nv(e,h);let g=h.tView=Qv(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}function _L(t,e,n,r,i,o,s,a,c,l){let h=n+Wt,g=e.firstCreatePass?wL(h,e,t,r,i,o,s,a,c):e.data[h];Ku(g,!1);let w=wA(e,t,g,n);Rv()&&Gv(e,t,w,g),ss(w,t);let E=XT(w,t,w,g);return t[h]=E,Uf(t,E),X2(E,g,t),Tv(g)&&GT(e,t,g),c!=null&&WT(t,g,l),g}function Ba(t,e,n,r,i,o,s,a){let c=We(),l=Bn(),h=sf(l.consts,o);return _L(c,l,t,e,n,r,i,h,s,a),Ba}var wA=_A;function _A(t,e,n,r){return Ji(!0),e[ct].createComment("")}function EL(t,e,n,r){let i=e[Ir],o=!i||Wu()||Ju(n)||Ff(i,r);if(Ji(o),o)return _A(t,e,n,r);let s=i.data[RF]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Hf(i,t,e,n);Of(i,r,a);let c=Bv(i,r);return qf(c,a)}function bL(){wA=EL}function Wf(t,e,n,r){let i=We(),o=Sv();if(Zu(i,o,e)){let s=Bn(),a=KC();UV(a,i,t,e,n,r)}return Wf}function IL(t,e,n,r){return Zu(t,Sv(),n)?e+Sf(n)+r:ds}function $h(t,e){return t<<17|e<<2}function cs(t){return t>>17&32767}function DL(t){return(t&2)==2}function CL(t,e){return t&131071|e<<17}function dv(t){return t|2}function Na(t){return(t&131068)>>2}function Sy(t,e){return t&-131069|e<<2}function TL(t){return(t&1)===1}function hv(t){return t|1}function AL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=cs(s),c=Na(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let g=n;h=g[1],(h===null||qu(g,h)>0)&&(l=!0)}else h=n;if(i)if(c!==0){let w=cs(t[a+1]);t[r+1]=$h(w,a),w!==0&&(t[w+1]=Sy(t[w+1],r)),t[a+1]=CL(t[a+1],r)}else t[r+1]=$h(a,0),a!==0&&(t[a+1]=Sy(t[a+1],r)),a=r;else t[r+1]=$h(c,0),a===0?a=r:t[c+1]=Sy(t[c+1],r),c=r;l&&(t[r+1]=dv(t[r+1])),LD(t,h,r,!0),LD(t,h,r,!1),SL(e,h,t,r,o),s=$h(a,c),o?e.classBindings=s:e.styleBindings=s}function SL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&qu(o,e)>=0&&(n[r+1]=hv(n[r+1]))}function LD(t,e,n,r){let i=t[n+1],o=e===null,s=r?cs(i):Na(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];xL(c,e)&&(a=!0,t[s+1]=r?hv(l):dv(l)),s=r?cs(l):Na(l)}a&&(t[n+1]=r?dv(i):hv(i))}function xL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?qu(t,e)>=0:!1}function ui(t,e,n){let r=We(),i=Sv();if(Zu(r,i,e)){let o=Bn(),s=KC();xV(o,s,r,t,e,r[ct],n,!1)}return ui}function jD(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Yv(t,n,o[s],s,r)}function Kf(t,e){return ML(t,e,null,!0),Kf}function ML(t,e,n,r){let i=We(),o=Bn(),s=KO(2);if(o.firstUpdatePass&&NL(o,t,s,r),e!==ds&&Zu(i,s,e)){let a=o.data[Oa()];VL(o,a,i,i[ct],t,i[s+1]=LL(e,n),r,s)}}function RL(t,e){return e>=t.expandoStartIndex}function NL(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Oa()],s=RL(t,n);jL(o,r)&&e===null&&!s&&(e=!1),e=PL(i,o,e,r),AL(i,o,e,n,s,r)}}function PL(t,e,n,r){let i=JO(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=xy(null,t,e,n,r),n=$u(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=xy(i,t,e,n,r),o===null){let c=kL(t,e,r);c!==void 0&&Array.isArray(c)&&(c=xy(null,t,e,c[1],r),c=$u(c,e.attrs,r),OL(t,e,r,c))}else o=FL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function kL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Na(r)!==0)return t[cs(r)]}function OL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[cs(i)]=r}function FL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=$u(r,s,n)}return $u(r,e.attrs,n)}function xy(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=$u(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function $u(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Xk(t,s,n?!0:e[++o]))}return t===void 0?null:t}function VL(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],h=TL(l)?BD(c,e,n,i,Na(l),s):void 0;if(!If(h)){If(o)||DL(l)&&(o=BD(c,null,n,i,a,s));let g=xC(Oa(),n);yV(r,s,g,i,o)}}function BD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),h=l?c[1]:c,g=h===null,w=n[i+1];w===ds&&(w=g?Dn:void 0);let E=g?yy(w,r):h===r?w:void 0;if(l&&!If(E)&&(E=yy(c,r)),If(E)&&(a=E,s))return a;let S=t[i+1];i=s?cs(S):Na(S)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=yy(c,r))}return a}function If(t){return t!==void 0}function LL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=an(Yu(t)))),t}function jL(t,e){return(t.flags&(e?8:16))!==0}function BL(t,e,n,r,i,o){let s=e.consts,a=sf(s,i),c=Bf(e,t,2,r,a);return YT(e,n,c,sf(s,o)),c.attrs!==null&&cv(c,c.attrs,!1),c.mergedAttrs!==null&&cv(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Ce(t,e,n,r){let i=We(),o=Bn(),s=Wt+t,a=i[ct],c=o.firstCreatePass?BL(s,o,i,e,n,r):o.data[s],l=EA(o,i,c,a,e,t);i[s]=l;let h=Tv(c);return Ku(c,!0),jT(a,l,c),!Ju(c)&&Rv()&&Gv(o,i,l,c),jO()===0&&ss(l,i),BO(),h&&(GT(o,i,c),zT(o,c,i)),r!==null&&WT(i,c),Ce}function Te(){let t=yn();jC()?GO():(t=t.parent,Ku(t,!1));let e=t;$O(e)&&qO(),UO();let n=Bn();return n.firstCreatePass&&(Nv(n,t),DC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&iF(e)&&jD(n,e,We(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&oF(e)&&jD(n,e,We(),e.stylesWithoutHost,!1),Te}function Ut(t,e,n,r){return Ce(t,e,n,r),Te(),Ut}var EA=(t,e,n,r,i,o)=>(Ji(!0),Hv(r,i,QC()));function UL(t,e,n,r,i,o){let s=e[Ir],a=!s||Wu()||Ju(n)||Ff(s,o);if(Ji(a),a)return Hv(r,i,QC());let c=Hf(s,t,e,n);return bT(s,o)&&Of(s,o,c.nextSibling),s&&(uT(n)||lT(c))&&Gu(n)&&(HO(n),VT(c)),c}function $L(){EA=UL}var HL=(t,e,n,r)=>(Ji(!0),RT(e[ct],""));function qL(t,e,n,r){let i,o=e[Ir],s=!o||Wu()||Ju(n);if(Ji(s),s)return RT(e[ct],"");let a=Hf(o,t,e,n),c=UF(o,r);return Of(o,r,a),i=qf(c,a),i}function zL(){HL=qL}function bA(){return We()}var Jo=void 0;function GL(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var WL=["en",[["a","p"],["AM","PM"],Jo],[["AM","PM"],Jo,Jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jo,"{1} 'at' {0}",Jo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",GL],My={};function Qf(t){let e=KL(t),n=UD(e);if(n)return n;let r=e.split("-")[0];if(n=UD(r),n)return n;if(r==="en")return WL;throw new te(701,!1)}function UD(t){return t in My||(My[t]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[t]),My[t]}var fs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(fs||{});function KL(t){return t.toLowerCase().replace(/_/g,"-")}var Df="en-US",QL="USD";var YL=Df;function ZL(t){typeof t=="string"&&(YL=t.toLowerCase().replace(/_/g,"-"))}var JL=(t,e,n)=>{};function vn(t,e,n,r){let i=We(),o=Bn(),s=yn();return ej(o,i,i[ct],s,t,e,r),vn}function XL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ef],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function ej(t,e,n,r,i,o,s){let a=Tv(r),l=t.firstCreatePass&&GV(t),h=e[er],g=zV(e),w=!0;if(r.type&3||s){let P=An(r,e),N=s?s(P):P,H=g.length,W=s?X=>s(tr(X[r.index])):r.index,U=null;if(!s&&a&&(U=XL(t,e,i,r.index)),U!==null){let X=U.__ngLastListenerFn__||U;X.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,w=!1}else{o=HD(r,e,h,o),JL(P,i,o);let X=n.listen(N,i,o);g.push(o,X),l&&l.push(i,W,H,H+1)}}else o=HD(r,e,h,o);let E=r.outputs,S;if(w&&E!==null&&(S=E[i])){let P=S.length;if(P)for(let N=0;N<P;N+=2){let H=S[N],W=S[N+1],ie=e[H][W].subscribe(o),oe=g.length;g.push(o,ie),l&&l.push(i,r.index,oe,-(oe+1))}}}function $D(t,e,n,r){let i=Ve(null);try{return wr(6,e,n),n(r)!==!1}catch(o){return tA(t,o),!1}finally{wr(7,e,n),Ve(i)}}function HD(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Zi(t.index,e):e;Jv(s,5);let a=$D(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=$D(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function rw(t=1){return eF(t)}function tj(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ze(t,e=""){let n=We(),r=Bn(),i=t+Wt,o=r.firstCreatePass?Bf(r,i,1,e,null):r.data[i],s=IA(r,n,o,e,t);n[i]=s,Rv()&&Gv(r,n,s,o),Ku(o,!1)}var IA=(t,e,n,r,i)=>(Ji(!0),MT(e[ct],r));function nj(t,e,n,r,i){let o=e[Ir],s=!o||Wu()||Ju(n)||Ff(o,i);return Ji(s),s?MT(e[ct],r):Hf(o,t,e,n)}function rj(){IA=nj}function Ar(t){return DA("",t,""),Ar}function DA(t,e,n){let r=We(),i=IL(r,t,e,n);return i!==ds&&WV(r,Oa(),i),DA}function ij(t,e,n){let r=Bn();if(r.firstCreatePass){let i=Ki(t);fv(n,r.data,r.blueprint,i,!0),fv(e,r.data,r.blueprint,i,!1)}}function fv(t,e,n,r,i){if(t=sn(t),Array.isArray(t))for(let o=0;o<t.length;o++)fv(t[o],e,n,r,i);else{let o=Bn(),s=We(),a=yn(),c=Ia(t)?t:sn(t.provide),l=_C(t),h=a.providerIndexes&1048575,g=a.directiveStart,w=a.providerIndexes>>20;if(Ia(t)||!t.multi){let E=new os(l,i,ye),S=Ny(c,e,i?h:h+w,g);S===-1?(zy(lf(a,s),o,c),Ry(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)):(n[S]=E,s[S]=E)}else{let E=Ny(c,e,h+w,g),S=Ny(c,e,h,h+w),P=E>=0&&n[E],N=S>=0&&n[S];if(i&&!N||!i&&!P){zy(lf(a,s),o,c);let H=aj(i?sj:oj,n.length,i,r,l);!i&&N&&(n[S].providerFactory=H),Ry(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(H),s.push(H)}else{let H=CA(n[i?S:E],l,!i&&r);Ry(o,t,E>-1?E:S,H)}!i&&r&&N&&n[S].componentProviders++}}}function Ry(t,e,n,r){let i=Ia(e),o=_O(e);if(i||o){let c=(o?sn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function CA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ny(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oj(t,e,n,r){return pv(this.multi,[])}function sj(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Aa(n,n[be],this.providerFactory.index,r);o=a.slice(0,s),pv(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],pv(i,o);return o}function pv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function aj(t,e,n,r,i){let o=new os(t,n,ye);return o.multi=[],o.index=e,o.componentProviders=0,CA(o,i,r&&!n),o}function Xu(t,e=[]){return n=>{n.providersResolver=(r,i)=>ij(r,i?i(t):t,e)}}var cj=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=yC(!1,r.type),o=i.length>0?Gf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ne({token:e,providedIn:"environment",factory:()=>new e(z(gn))});let t=e;return t})();function TA(t){La("NgStandalone"),t.getStandaloneInjector=e=>e.get(cj).getOrCreateStandaloneInjector(t)}function AA(t,e,n,r){return SA(We(),UC(),t,e,n,r)}function uj(t,e){let n=t[e];return n===ds?void 0:n}function SA(t,e,n,r,i,o){let s=e+n;return Zu(t,s,i)?vL(t,s+1,o?r.call(o,i):r(i)):uj(t,s+1)}function iw(t,e){let n=Bn(),r,i=t+Wt;n.firstCreatePass?(r=lj(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ts(r.type,!0)),s,a=pn(ye);try{let c=uf(!1),l=o();return uf(c),tj(n,We(),i,l),l}finally{pn(a)}}function lj(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ow(t,e,n){let r=t+Wt,i=We(),o=OO(i,r);return dj(i,r)?SA(i,UC(),e,o.transform,n,o):o.transform(n)}function dj(t,e){return t[be].data[e].pure}var Hh=null;function hj(t){Hh!==null&&(t.defaultEncapsulation!==Hh.defaultEncapsulation||t.preserveWhitespaces!==Hh.preserveWhitespaces)||(Hh=t)}var ai=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xA=new ai("18.0.6");var Yf=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var sw=new Y(""),el=new Y(""),Zf=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,aw||(fj(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(z(Me),z(Jf),z(el))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),Jf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return aw?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function fj(t){aw=t}var aw;function ps(t){return!!t&&typeof t.then=="function"}function MA(t){return!!t&&typeof t.subscribe=="function"}var Xf=new Y(""),RA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=q(Xf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ps(s))r.push(s);else if(MA(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ua=new Y("");function pj(){L0(()=>{throw new te(600,!1)})}function gj(t){return t.isBoundToModule}var mj=10;function yj(t,e,n){try{let r=n();return ps(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function NA(t,e){return Array.isArray(e)?e.reduce(NA,t):K(K({},t),e)}var Sr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(cT),this.afterRenderEffectManager=q(ew),this.zonelessEnabled=q(dA),this.externalTestViews=new Set,this.beforeRender=new Je,this.afterTick=new Je,this.componentTypes=[],this.components=[],this.isStable=q(ls).hasPendingTasks.pipe(ce(r=>!r)),this._injector=q(gn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof yf;if(!this._injector.get(RA).done){let E=!o&&fC(r),S=!1;throw new te(405,S)}let a;o?a=r:a=this._injector.get(xa).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=gj(a)?void 0:this._injector.get(Qi),l=i||a.selector,h=a.create(mn.NULL,[],l,c),g=h.location.nativeElement,w=h.injector.get(sw,null);return w?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),Qh(this.components,h),w?.unregisterApplication(g)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new te(101,!1);let i=Ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Ve(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Ma,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<mj;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:l}of this._views)vj(c,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>Bu(c))&&(s.execute(),!this.allViews.some(({_lView:c})=>Bu(c))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Qh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ua,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Qh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new te(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var qh;function cw(t){qh??=new WeakMap;let e=qh.get(t);if(e)return e;let n=t.isStable.pipe(In(r=>r)).toPromise().then(()=>{});return qh.set(t,n),t.onDestroy(()=>qh?.delete(t)),n}function vj(t,e,n,r){if(!n&&!Bu(t))return;iA(t,e,n&&!r?0:1)}var gv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ep=(()=>{let e=class e{compileModuleSync(r){return new bf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=pC(r),s=xT(o.declarations).reduce((a,c)=>{let l=Wi(c);return l&&a.push(new Ra(l)),a},[]);return new gv(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wj=new Y("");function _j(t,e,n){let r=new bf(n);return Promise.resolve(r)}function qD(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Ej=(()=>{let e=class e{constructor(){this.zone=q(Me),this.changeDetectionScheduler=q(Sa),this.applicationRef=q(Sr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bj({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Me(PA()),[{provide:Me,useFactory:t},{provide:ns,multi:!0,useFactory:()=>{let n=q(Ej,{optional:!0});return()=>n.initialize()}},{provide:ns,multi:!0,useFactory:()=>{let n=q(Dj);return()=>{n.initialize()}}},{provide:cT,useFactory:Ij},e===!0?{provide:hA,useValue:!0}:[]]}function Ij(){let t=q(Me),e=q(Cr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function PA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Dj=(()=>{let e=class e{constructor(){this.subscription=new at,this.initialized=!1,this.zone=q(Me),this.pendingTasks=q(ls)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cj=(()=>{let e=class e{constructor(){this.appRef=q(Sr),this.taskService=q(ls),this.ngZone=q(Me),this.zonelessEnabled=q(dA),this.disableScheduling=q(hA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new at,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?ND:fA;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Me.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ND(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tj(){return typeof $localize<"u"&&$localize.locale||Df}var tp=new Y("",{providedIn:"root",factory:()=>q(tp,Ee.Optional|Ee.SkipSelf)||Tj()}),kA=new Y("",{providedIn:"root",factory:()=>QL});var OA=new Y(""),FA=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=j2(i?.ngZone,PA({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=i?.ignoreChangesOutsideZone,a=gL(r.moduleType,this.injector,[...bj({ngZoneFactory:()=>o,ignoreChangesOutsideZone:s}),{provide:Sa,useExisting:Cj}]),c=a.injector.get(Cr,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:h=>{c.handleError(h)}});a.onDestroy(()=>{Qh(this._modules,a),l.unsubscribe()})}),yj(c,o,()=>{let l=a.injector.get(RA);return l.runInitializers(),l.donePromise.then(()=>{let h=a.injector.get(tp,Df);return ZL(h||Df),this._moduleDoBootstrap(a),a})})})}bootstrapModule(r,i=[]){let o=NA({},i);return _j(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(Sr);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new te(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(OA,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(z(mn))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ku=null,VA=new Y("");function Aj(t){if(ku&&!ku.get(VA,!1))throw new te(400,!1);pj(),ku=t;let e=t.get(FA);return Mj(t),e}function uw(t,e,n=[]){let r=`Platform: ${e}`,i=new Y(r);return(o=[])=>{let s=LA();if(!s||s.injector.get(VA,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):Aj(Sj(a,r))}return xj(i)}}function Sj(t=[],e){return mn.create({name:e,providers:[{provide:Mf,useValue:"platform"},{provide:OA,useValue:new Set([()=>ku=null])},...t]})}function xj(t){let e=LA();if(!e)throw new te(401,!1);return e}function LA(){return ku?.get(FA)??null}function Mj(t){t.get(Fv,null)?.forEach(n=>n())}function lw(){return!1}var $a=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Rj;let t=e;return t})();function Rj(t){return Nj(yn(),We(),(t&16)===16)}function Nj(t,e,n){if(Gu(t)&&!n){let r=Zi(t.index,e);return new as(r,r)}else if(t.type&175){let r=e[Vn];return new as(r,e)}return null}var mv=class{constructor(){}supports(e){return vA(e)}create(e){return new yv(e)}},Pj=(t,e)=>e,yv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Pj}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<zD(r,i,o)?n:r,a=zD(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=c-i;if(l!=h){for(let w=0;w<l;w++){let E=w<o.length?o[w]:o[w]=0,S=E+w;h<=S&&S<l&&(o[w]=E+1)}let g=s.previousIndex;o[g]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!vA(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,mL(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new vv(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Cf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},vv=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},wv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Cf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new wv,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function GD(){return new dw([new mv])}var dw=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||GD()),deps:[[e,new Ev,new Pa]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new te(901,!1)}};e.\u0275prov=ne({token:e,providedIn:"root",factory:GD});let t=e;return t})();var jA=uw(null,"core",[]),BA=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(z(Sr))},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({});let t=e;return t})();var UA=new Y("");var WD=!1;function kj(){WD||(WD=!0,VF(),$L(),rj(),zL(),bL(),nL(),x2(),CV())}function Oj(t,e){return cw(t)}function $A(){return zu([{provide:jh,useFactory:()=>{let t=!0;return Nu()&&(t=!!q(Va,{optional:!0})?.get(_T,null)),t&&La("NgHydration"),t}},{provide:ns,useValue:()=>{b2(!1),Nu()&&q(jh)&&(Fj(),kj())},multi:!0},{provide:DT,useFactory:()=>Nu()&&q(jh)},{provide:Ua,useFactory:()=>{if(Nu()&&q(jh)){let t=q(Sr),e=q(mn);return()=>{Oj(t,e).then(()=>{T2(t)})}}return()=>{}},multi:!0}])}function Fj(){let t=kf(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===OF){e=n;break}if(!e)throw new te(-507,!1)}function Ha(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function HA(t){let e=Wi(t);if(!e)return null;let n=new Ra(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var YA=null;function xr(){return YA}function ZA(t){YA??=t}var np=class{};var Yt=new Y(""),ww=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>q(Vj),providedIn:"platform"});let t=e;return t})(),JA=new Y(""),Vj=(()=>{let e=class e extends ww{constructor(){super(),this._doc=q(Yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xr().getBaseHref(this._doc)}onPopState(r){let i=xr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=xr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function _w(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function qA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function li(t){return t&&t[0]!=="?"?"?"+t:t}var hi=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>q(Ew),providedIn:"root"});let t=e;return t})(),XA=new Y(""),Ew=(()=>{let e=class e extends hi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??q(Yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return _w(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+li(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+li(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+li(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(z(ww),z(XA,8))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eS=(()=>{let e=class e extends hi{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=_w(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+li(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+li(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(z(ww),z(XA,8))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),qa=(()=>{let e=class e{constructor(r){this._subject=new bt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Bj(qA(zA(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+li(i))}normalize(r){return e.stripTrailingSlash(jj(this._basePath,zA(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+li(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+li(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=li,e.joinWithSlash=_w,e.stripTrailingSlash=qA,e.\u0275fac=function(i){return new(i||e)(z(hi))},e.\u0275prov=ne({token:e,factory:()=>Lj(),providedIn:"root"});let t=e;return t})();function Lj(){return new qa(z(hi))}function jj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function zA(t){return t.replace(/\/index.html$/,"")}function Bj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var tS={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},nS=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(nS||{});var di={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function tl(t,e){let n=Qf(t),r=n[fs.NumberSymbols][e];if(typeof r>"u"){if(e===di.CurrencyDecimal)return n[fs.NumberSymbols][di.Decimal];if(e===di.CurrencyGroup)return n[fs.NumberSymbols][di.Group]}return r}function Uj(t,e){return Qf(t)[fs.NumberFormats][e]}function $j(t){return Qf(t)[fs.Currencies]}function Hj(t,e,n="en"){let r=$j(n)[t]||tS[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var qj=2;function zj(t){let e,n=tS[t];return n&&(e=n[2]),typeof e=="number"?e:qj}var Gj=/^(\d+)?\.((\d+)(-(\d+))?)?$/,GA=22,rp=".",nl="0",Wj=";",Kj=",",fw="#",WA="\xA4";function Qj(t,e,n,r,i,o,s=!1){let a="",c=!1;if(!isFinite(t))a=tl(n,di.Infinity);else{let l=Xj(t);s&&(l=Jj(l));let h=e.minInt,g=e.minFrac,w=e.maxFrac;if(o){let W=o.match(Gj);if(W===null)throw new Error(`${o} is not a valid digit info`);let U=W[1],X=W[3],ie=W[5];U!=null&&(h=pw(U)),X!=null&&(g=pw(X)),ie!=null?w=pw(ie):X!=null&&g>w&&(w=g)}eB(l,g,w);let E=l.digits,S=l.integerLen,P=l.exponent,N=[];for(c=E.every(W=>!W);S<h;S++)E.unshift(0);for(;S<0;S++)E.unshift(0);S>0?N=E.splice(S,E.length):(N=E,E=[0]);let H=[];for(E.length>=e.lgSize&&H.unshift(E.splice(-e.lgSize,E.length).join(""));E.length>e.gSize;)H.unshift(E.splice(-e.gSize,E.length).join(""));E.length&&H.unshift(E.join("")),a=H.join(tl(n,r)),N.length&&(a+=tl(n,i)+N.join("")),P&&(a+=tl(n,di.Exponential)+"+"+P)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Yj(t,e,n,r,i){let o=Uj(e,nS.Currency),s=Zj(o,tl(e,di.MinusSign));return s.minFrac=zj(r),s.maxFrac=s.minFrac,Qj(t,s,e,di.CurrencyGroup,di.CurrencyDecimal,i).replace(WA,n).replace(WA,"").trim()}function Zj(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Wj),i=r[0],o=r[1],s=i.indexOf(rp)!==-1?i.split(rp):[i.substring(0,i.lastIndexOf(nl)+1),i.substring(i.lastIndexOf(nl)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(fw));for(let h=0;h<c.length;h++){let g=c.charAt(h);g===nl?n.minFrac=n.maxFrac=h+1:g===fw?n.maxFrac=h+1:n.posSuf+=g}let l=a.split(Kj);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,g=o.indexOf(fw);n.negPre=o.substring(0,g).replace(/'/g,""),n.negSuf=o.slice(g+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Jj(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function Xj(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(rp))>-1&&(e=e.replace(rp,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===nl;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===nl;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>GA&&(r=r.splice(0,GA-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function eB(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let g=s;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let g=1;g<s;g++)r[g]=0}if(a>=5)if(s-1<0){for(let g=0;g>s;g--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+t.integerLen,h=r.reduceRight(function(g,w,E,S){return w=w+g,S[E]=w<10?w:w-10,c&&(S[E]===0&&E>=l?S.pop():c=!1),w>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function pw(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function bw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var gw=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},rS=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new gw(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),KA(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);KA(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ye(ja),ye($f),ye(dw))},e.\u0275dir=Kt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function KA(t,e){t.context.$implicit=e.item}var op=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new mw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){QA("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){QA("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ye(ja),ye($f))},e.\u0275dir=Kt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),mw=class{constructor(){this.$implicit=null,this.ngIf=null}};function QA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${an(e)}'.`)}function tB(t,e){return new te(2100,!1)}var iS=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,o="symbol",s,a){if(!nB(r))return null;a||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let c=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?c=Hj(c,o==="symbol"?"wide":"narrow",a):c=o);try{let l=rB(r);return Yj(l,a,c,i,s)}catch(l){throw tB(e,l.message)}}};e.\u0275fac=function(i){return new(i||e)(ye(tp,16),ye(kA,16))},e.\u0275pipe=lC({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function nB(t){return!(t==null||t===""||t!==t)}function rB(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var oS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({});let t=e;return t})(),Iw="browser",iB="server";function oB(t){return t===Iw}function fi(t){return t===iB}var sS=(()=>{let e=class e{};e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>oB(q(Bt))?new yw(q(Yt),window):new vw});let t=e;return t})(),yw=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=sB(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function sB(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var vw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ip=class{};var ap=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var pS=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(pS||{}),Cw=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new ap,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var cp=class t extends Cw{constructor(e={}){super(e),this.type=pS.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var aB=new Y("");var cB=new Y(""),aS="b",cS="h",uS="s",lS="st",dS="u",hS="rt",sp=new Y(""),uB=["GET","HEAD"];function lB(t,e){let E=q(sp),{isCacheActive:n}=E,r=D0(E,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!uB.includes(o)||!r.includeRequestsWithAuthHeaders&&dB(t)||r.filter?.(t)===!1)return e(t);let s=q(Va),a=q(cB,{optional:!0}),c=fi(q(Bt));if(a&&!c)throw new te(2803,!1);let l=c&&a?gB(t.url,a):t.url,h=fB(t,l),g=s.get(h,null),w=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(w=i.includeHeaders),g){let{[aS]:S,[hS]:P,[cS]:N,[uS]:H,[lS]:W,[dS]:U}=g,X=S;switch(P){case"arraybuffer":X=new TextEncoder().encode(S).buffer;break;case"blob":X=new Blob([S]);break}let ie=new ap(N);return se(new cp({body:X,headers:ie,status:H,statusText:W,url:U}))}return e(t).pipe(pt(S=>{S instanceof cp&&c&&s.set(h,{[aS]:S.body,[cS]:hB(S.headers,w),[uS]:S.status,[lS]:S.statusText,[dS]:l,[hS]:t.responseType})}))}function dB(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function hB(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function fS(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function fB(t,e){let{params:n,method:r,responseType:i}=t,o=fS(n),s=t.serializeBody();s instanceof URLSearchParams?s=fS(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=pB(a);return c}function pB(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function gS(t){return[{provide:sp,useFactory:()=>(La("NgHttpTransferCache"),K({isCacheActive:!0},t))},{provide:aB,useValue:lB,multi:!0,deps:[Va,sp]},{provide:Ua,multi:!0,useFactory:()=>{let e=q(Sr),n=q(sp);return()=>{cw(e).then(()=>{n.isCacheActive=!1})}}}]}function gB(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var Sw=class extends np{constructor(){super(...arguments),this.supportsDOMEvents=!0}},xw=class t extends Sw{static makeCurrent(){ZA(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=mB();return n==null?null:yB(n)}resetBaseElement(){rl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bw(document.cookie,e)}},rl=null;function mB(){return rl=rl||document.querySelector("base"),rl?rl.getAttribute("href"):null}function yB(t){return new URL(t,document.baseURI).pathname}var Mw=class{addToWindow(e){jt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new te(5103,!1);return o},jt.getAllAngularTestabilities=()=>e.getAllTestabilities(),jt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=jt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};jt.frameworkStabilizers||(jt.frameworkStabilizers=[]),jt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?xr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},vB=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),up=new Y(""),wS=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new te(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(z(up),z(Me))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),il=class{constructor(e){this._doc=e}},Tw="ng-app-id",_S=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fi(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Tw}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Tw),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Tw,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(z(Yt),z(Qu),z(Vv,8),z(Bt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),Aw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pw=/%COMP%/g,ES="%COMP%",wB=`_nghost-${ES}`,_B=`_ngcontent-${ES}`,EB=!0,bB=new Y("",{providedIn:"root",factory:()=>EB});function IB(t){return _B.replace(Pw,t)}function DB(t){return wB.replace(Pw,t)}function bS(t,e){return e.map(n=>n.replace(Pw,t))}var mS=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=fi(c),this.defaultRenderer=new ol(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===br.ShadowDom&&(i=xe(K({},i),{encapsulation:br.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof lp?o.applyToHost(r):o instanceof sl&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(i.encapsulation){case br.Emulated:s=new lp(l,h,i,this.appId,g,a,c,w);break;case br.ShadowDom:return new Rw(l,h,r,i,a,c,this.nonce,w);default:s=new sl(l,h,i,g,a,c,w);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(z(wS),z(_S),z(Qu),z(bB),z(Yt),z(Bt),z(Me),z(Vv))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),ol=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Aw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new te(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Aw[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Aw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(si.DashCase|si.Important)?e.style.setProperty(n,r,i&si.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&si.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=xr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function yS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Rw=class extends ol{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=bS(i.id,i.styles);for(let h of l){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sl=class extends ol{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?bS(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},lp=class extends sl{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=IB(l),this.hostAttr=DB(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},CB=(()=>{let e=class e extends il{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(z(Yt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),TB=(()=>{let e=class e extends il{constructor(r){super(r),this.delegate=q(UA,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(z(Yt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),vS=["alt","control","meta","shift"],AB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},xB=(()=>{let e=class e extends il{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),vS.forEach(h=>{let g=i.indexOf(h);g>-1&&(i.splice(g,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=AB[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),vS.forEach(a=>{if(a!==o){let c=SB[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(z(Yt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})();function MB(){xw.makeCurrent()}function RB(){return new Cr}function NB(){return gT(document),document}var PB=[{provide:Bt,useValue:Iw},{provide:Fv,useValue:MB,multi:!0},{provide:Yt,useFactory:NB,deps:[]}],IS=uw(jA,"browser",PB),kB=new Y(""),OB=[{provide:el,useClass:Mw,deps:[]},{provide:sw,useClass:Zf,deps:[Me,Jf,el]},{provide:Zf,useClass:Zf,deps:[Me,Jf,el]}],FB=[{provide:Mf,useValue:"root"},{provide:Cr,useFactory:RB,deps:[]},{provide:up,useClass:CB,multi:!0,deps:[Yt,Me,Bt]},{provide:up,useClass:xB,multi:!0,deps:[Yt]},{provide:up,useClass:TB,multi:!0},mS,_S,wS,{provide:Ma,useExisting:mS},{provide:ip,useClass:vB,deps:[]},[]],DS=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Qu,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(z(kB,12))},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({providers:[...FB,...OB],imports:[oS,BA]});let t=e;return t})();var CS=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(z(Yt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nw=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(Nw||{});function TS(...t){let e=[],n=new Set,r=n.has(Nw.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return zu([[],$A(),n.has(Nw.NoHttpTransferCache)||r?[]:gS({}),e])}var ve="primary",El=Symbol("RouteTitle"),Lw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ya(t){return new Lw(t)}function VB(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function LB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mr(t[n],e[n]))return!1;return!0}function Mr(t,e){let n=t?jw(t):void 0,r=e?jw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!LS(t[i],e[i]))return!1;return!0}function jw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function LS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function jS(t){return t.length>0?t[t.length-1]:null}function no(t){return uy(t)?t:ps(t)?Ne(Promise.resolve(t)):se(t)}var jB={exact:US,subset:$S},BS={exact:BB,subset:UB,ignored:()=>!0};function SS(t,e,n){return jB[n.paths](t.root,e.root,n.matrixParams)&&BS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function BB(t,e){return Mr(t,e)}function US(t,e,n){if(!ms(t.segments,e.segments)||!fp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!US(t.children[r],e.children[r],n))return!1;return!0}function UB(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>LS(t[n],e[n]))}function $S(t,e,n){return HS(t,e,e.segments,n)}function HS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ms(i,n)||e.hasChildren()||!fp(i,n,r))}else if(t.segments.length===n.length){if(!ms(t.segments,n)||!fp(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!$S(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ms(t.segments,i)||!fp(t.segments,i,r)||!t.children[ve]?!1:HS(t.children[ve],e,o,r)}}function fp(t,e,n){return e.every((r,i)=>BS[n](t[i].parameters,r.parameters))}var eo=class{constructor(e=new Le([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ya(this.queryParams),this._queryParamMap}toString(){return qB.serialize(this)}},Le=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pp(this)}},gs=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ya(this.parameters),this._parameterMap}toString(){return zS(this)}};function $B(t,e){return ms(t,e)&&t.every((n,r)=>Mr(n.parameters,e[r].parameters))}function ms(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function HB(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ve&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ve&&(n=n.concat(e(i,r)))}),n}var bl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>new Za,providedIn:"root"});let t=e;return t})(),Za=class{parse(e){let n=new Uw(e);return new eo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${al(e.root,!0)}`,r=WB(e.queryParams),i=typeof e.fragment=="string"?`#${zB(e.fragment)}`:"";return`${n}${r}${i}`}},qB=new Za;function pp(t){return t.segments.map(e=>zS(e)).join("/")}function al(t,e){if(!t.hasChildren())return pp(t);if(e){let n=t.children[ve]?al(t.children[ve],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ve&&r.push(`${i}:${al(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=HB(t,(r,i)=>i===ve?[al(t.children[ve],!1)]:[`${i}:${al(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ve]!=null?`${pp(t)}/${n[0]}`:`${pp(t)}/(${n.join("//")})`}}function qS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dp(t){return qS(t).replace(/%3B/gi,";")}function zB(t){return encodeURI(t)}function Bw(t){return qS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gp(t){return decodeURIComponent(t)}function xS(t){return gp(t.replace(/\+/g,"%20"))}function zS(t){return`${Bw(t.path)}${GB(t.parameters)}`}function GB(t){return Object.entries(t).map(([e,n])=>`;${Bw(e)}=${Bw(n)}`).join("")}function WB(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${dp(n)}=${dp(i)}`).join("&"):`${dp(n)}=${dp(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var KB=/^[^\/()?;#]+/;function kw(t){let e=t.match(KB);return e?e[0]:""}var QB=/^[^\/()?;=#]+/;function YB(t){let e=t.match(QB);return e?e[0]:""}var ZB=/^[^=?&#]+/;function JB(t){let e=t.match(ZB);return e?e[0]:""}var XB=/^[^&#]+/;function eU(t){let e=t.match(XB);return e?e[0]:""}var Uw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ve]=new Le(e,n)),r}parseSegment(){let e=kw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new gs(gp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=YB(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=kw(this.remaining);i&&(r=i,this.capture(r))}e[gp(n)]=gp(r)}parseQueryParam(e){let n=JB(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=eU(this.remaining);s&&(r=s,this.capture(r))}let i=xS(n),o=xS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=kw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ve);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ve]:new Le([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}};function GS(t){return t.segments.length>0?new Le([],{[ve]:t}):t}function WS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=WS(i);if(r===ve&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Le(t.segments,e);return tU(n)}function tU(t){if(t.numberOfChildren===1&&t.children[ve]){let e=t.children[ve];return new Le(t.segments.concat(e.segments),e.children)}return t}function fl(t){return t instanceof eo}function nU(t,e,n=null,r=null){let i=KS(t);return QS(i,e,n,r)}function KS(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Le(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=GS(r);return e??i}function QS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ow(i,i,i,n,r);let o=rU(e);if(o.toRoot())return Ow(i,i,new Le([],{}),n,r);let s=iU(o,i,t),a=s.processChildren?ll(s.segmentGroup,s.index,o.commands):ZS(s.segmentGroup,s.index,o.commands);return Ow(i,s.segmentGroup,a,n,r)}function mp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function pl(t){return typeof t=="object"&&t!=null&&t.outlets}function Ow(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=YS(t,e,n);let a=GS(WS(s));return new eo(a,o,i)}function YS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=YS(o,e,n)}),new Le(t.segments,r)}var yp=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&mp(r[0]))throw new te(4003,!1);let i=r.find(pl);if(i&&i!==jS(r))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yp(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new yp(n,e,r)}var Wa=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function iU(t,e,n){if(t.isAbsolute)return new Wa(e,!0,0);if(!n)return new Wa(e,!1,NaN);if(n.parent===null)return new Wa(n,!0,0);let r=mp(t.commands[0])?0:1,i=n.segments.length-1+r;return oU(n,i,t.numberOfDoubleDots)}function oU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new te(4005,!1);i=r.segments.length}return new Wa(r,!1,i-o)}function sU(t){return pl(t[0])?t[0].outlets:{[ve]:t}}function ZS(t,e,n){if(t??=new Le([],{}),t.segments.length===0&&t.hasChildren())return ll(t,e,n);let r=aU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Le(t.segments.slice(0,r.pathIndex),{});return o.children[ve]=new Le(t.segments.slice(r.pathIndex),t.children),ll(o,0,i)}else return r.match&&i.length===0?new Le(t.segments,{}):r.match&&!t.hasChildren()?$w(t,e,n):r.match?ll(t,0,i):$w(t,e,n)}function ll(t,e,n){if(n.length===0)return new Le(t.segments,{});{let r=sU(n),i={};if(Object.keys(r).some(o=>o!==ve)&&t.children[ve]&&t.numberOfChildren===1&&t.children[ve].segments.length===0){let o=ll(t.children[ve],e,n);return new Le(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ZS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Le(t.segments,i)}}function aU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(pl(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!RS(c,l,s))return o;r+=2}else{if(!RS(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $w(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(pl(o)){let c=cU(o.outlets);return new Le(r,c)}if(i===0&&mp(n[0])){let c=t.segments[e];r.push(new gs(c.path,MS(n[0]))),i++;continue}let s=pl(o)?o.outlets[ve]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&mp(a)?(r.push(new gs(s,MS(a))),i+=2):(r.push(new gs(s,{})),i++)}return new Le(r,{})}function cU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=$w(new Le([],{}),0,r))}),e}function MS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function RS(t,e,n){return t==n.path&&Mr(e,n.parameters)}var dl="imperative",kt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(kt||{}),Un=class{constructor(e,n){this.id=e,this.url=n}},Ja=class extends Un{constructor(e,n,r="imperative",i=null){super(e,n),this.type=kt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rr=class extends Un{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=kt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xn||{}),vp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(vp||{}),pi=class extends Un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=kt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},to=class extends Un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=kt.NavigationSkipped}},gl=class extends Un{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=kt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wp=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=kt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hw=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=kt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qw=class extends Un{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=kt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zw=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=kt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gw=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=kt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ww=class{constructor(e){this.route=e,this.type=kt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kw=class{constructor(e){this.route=e,this.type=kt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qw=class{constructor(e){this.snapshot=e,this.type=kt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yw=class{constructor(e){this.snapshot=e,this.type=kt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zw=class{constructor(e){this.snapshot=e,this.type=kt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jw=class{constructor(e){this.snapshot=e,this.type=kt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_p=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=kt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ml=class{},Xa=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function uU(t,e){return t.providers&&!t._injector&&(t._injector=Gf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function rr(t){return t.outlet||ve}function lU(t,e){let n=t.filter(r=>rr(r)===e);return n.push(...t.filter(r=>rr(r)!==e)),n}function Il(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Xw=class{get injector(){return Il(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Dl(this.rootInjector),this.attachRef=null}},Dl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Xw(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(z(gn))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ep=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=e_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=e_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=t_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return t_(e,this._root).map(n=>n.value)}};function e_(t,e){if(t===e.value)return e;for(let n of e.children){let r=e_(t,n);if(r)return r}return null}function t_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=t_(t,n);if(r.length)return r.unshift(e),r}return[]}var Sn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ga(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var bp=class extends Ep{constructor(e,n){super(e),this.snapshot=n,l_(this,e)}toString(){return this.snapshot.toString()}};function JS(t){let e=dU(t),n=new Lt([new gs("",{})]),r=new Lt({}),i=new Lt({}),o=new Lt({}),s=new Lt(""),a=new gi(n,r,o,s,i,ve,t,e.root);return a.snapshot=e.root,new bp(new Sn(a,[]),e)}function dU(t){let e={},n={},r={},i="",o=new Ka([],e,r,i,n,ve,t,null,{});return new Dp("",new Sn(o,[]))}var gi=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ce(l=>l[El]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>Ya(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>Ya(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ip(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:K(K({},e.params),t.params),data:K(K({},e.data),t.data),resolve:K(K(K(K({},t.data),e.data),i?.data),t._resolvedData)}:r={params:K({},t.params),data:K({},t.data),resolve:K(K({},t.data),t._resolvedData??{})},i&&ex(i)&&(r.resolve[El]=i.title),r}var Ka=class{get title(){return this.data?.[El]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ya(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ya(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Dp=class extends Ep{constructor(e,n){super(n),this.url=e,l_(this,n)}toString(){return XS(this._root)}};function l_(t,e){e.value._routerState=t,e.children.forEach(n=>l_(t,n))}function XS(t){let e=t.children.length>0?` { ${t.children.map(XS).join(", ")} } `:"";return`${t.value}${e}`}function Fw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Mr(e.params,n.params)||t.paramsSubject.next(n.params),LB(e.url,n.url)||t.urlSubject.next(n.url),Mr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function n_(t,e){let n=Mr(t.params,e.params)&&$B(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||n_(t.parent,e.parent))}function ex(t){return typeof t.title=="string"||t.title===null}var d_=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new bt,this.deactivateEvents=new bt,this.attachEvents=new bt,this.detachEvents=new bt,this.parentContexts=q(Dl),this.location=q(ja),this.changeDetector=q($a),this.inputBinder=q(xp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new r_(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Kt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yi]});let t=e;return t})(),r_=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gi?this.route:e===Dl?this.childContexts:this.parent.get(e,n)}},xp=new Y(""),NS=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Mu([i.queryParams,i.params,i.data]).pipe(nt(([s,a,c],l)=>(c=K(K(K({},s),a),c),l===0?se(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=HA(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})();function hU(t,e,n){let r=yl(t,e._root,n?n._root:void 0);return new bp(r,e)}function yl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fU(t,e,n);return new Sn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>yl(t,a)),s}}let r=pU(e.value),i=e.children.map(o=>yl(t,o));return new Sn(r,i)}}function fU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return yl(t,r,i);return yl(t,r)})}function pU(t){return new gi(new Lt(t.url),new Lt(t.params),new Lt(t.queryParams),new Lt(t.fragment),new Lt(t.data),t.outlet,t.component,t)}var vl=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},tx="ngNavigationCancelingError";function Cp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=fl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nx(!1,xn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function nx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[tx]=!0,n.cancellationCode=e,n}function gU(t){return rx(t)&&fl(t.url)}function rx(t){return!!t&&t[tx]}var mU=(t,e,n,r)=>ce(i=>(new i_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),i_=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Fw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ga(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ga(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ga(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ga(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yw(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Fw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Fw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Tp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qa=class{constructor(e,n){this.component=e,this.route=n}};function yU(t,e,n){let r=t._root,i=e?e._root:null;return cl(r,i,n,[r.value])}function vU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function tc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ZD(t)?t:e.get(t):r}function cl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ga(e);return t.children.forEach(s=>{wU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>hl(a,n.getContext(s),i)),i}function wU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=_U(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Tp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?cl(t,e,a?a.children:null,r,i):cl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qa(a.outlet.component,s))}else s&&hl(e,a,i),i.canActivateChecks.push(new Tp(r)),o.component?cl(t,null,a?a.children:null,r,i):cl(t,null,n,r,i);return i}function _U(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ms(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ms(t.url,e.url)||!Mr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!n_(t,e)||!Mr(t.queryParams,e.queryParams);case"paramsChange":default:return!n_(t,e)}}function hl(t,e,n){let r=Ga(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?hl(s,e.children.getContext(o),n):hl(s,null,n):hl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Qa(e.outlet.component,i)):n.canDeactivateChecks.push(new Qa(null,i)):n.canDeactivateChecks.push(new Qa(null,i))}function Cl(t){return typeof t=="function"}function EU(t){return typeof t=="boolean"}function bU(t){return t&&Cl(t.canLoad)}function IU(t){return t&&Cl(t.canActivate)}function DU(t){return t&&Cl(t.canActivateChild)}function CU(t){return t&&Cl(t.canDeactivate)}function TU(t){return t&&Cl(t.canMatch)}function ix(t){return t instanceof ri||t?.name==="EmptyError"}var hp=Symbol("INITIAL_VALUE");function ec(){return nt(t=>Mu(t.map(e=>e.pipe(ii(1),Zo(hp)))).pipe(ce(e=>{for(let n of e)if(n!==!0){if(n===hp)return hp;if(n===!1||AU(n))return n}return!0}),Pt(e=>e!==hp),ii(1)))}function AU(t){return fl(t)||t instanceof vl}function SU(t,e){return Et(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?se(xe(K({},n),{guardsResult:!0})):xU(s,r,i,t).pipe(Et(a=>a&&EU(a)?MU(r,o,t,e):se(a)),ce(a=>xe(K({},n),{guardsResult:a})))})}function xU(t,e,n,r){return Ne(t).pipe(Et(i=>OU(i.component,i.route,n,e,r)),In(i=>i!==!0,!0))}function MU(t,e,n,r){return Ne(e).pipe($i(i=>fa(NU(i.route.parent,r),RU(i.route,r),kU(t,i.path,n),PU(t,i.route,n))),In(i=>i!==!0,!0))}function RU(t,e){return t!==null&&e&&e(new Zw(t)),se(!0)}function NU(t,e){return t!==null&&e&&e(new Qw(t)),se(!0)}function PU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(o=>kh(()=>{let s=Il(e)??n,a=tc(o,s),c=IU(a)?a.canActivate(e,t):jn(s,()=>a(e,t));return no(c).pipe(In())}));return se(i).pipe(ec())}function kU(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>vU(s)).filter(s=>s!==null).map(s=>kh(()=>{let a=s.guards.map(c=>{let l=Il(s.node)??n,h=tc(c,l),g=DU(h)?h.canActivateChild(r,t):jn(l,()=>h(r,t));return no(g).pipe(In())});return se(a).pipe(ec())}));return se(o).pipe(ec())}function OU(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(a=>{let c=Il(e)??i,l=tc(a,c),h=CU(l)?l.canDeactivate(t,e,n,r):jn(c,()=>l(t,e,n,r));return no(h).pipe(In())});return se(s).pipe(ec())}function FU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let a=tc(s,t),c=bU(a)?a.canLoad(e,n):jn(t,()=>a(e,n));return no(c)});return se(o).pipe(ec(),ox(r))}function ox(t){return ry(pt(e=>{if(typeof e!="boolean")throw Cp(t,e)}),ce(e=>e===!0))}function VU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let a=tc(s,t),c=TU(a)?a.canMatch(e,n):jn(t,()=>a(e,n));return no(c)});return se(o).pipe(ec(),ox(r))}var wl=class{constructor(e){this.segmentGroup=e||null}},_l=class extends Error{constructor(e){super(),this.urlTree=e}};function za(t){return ha(new wl(t))}function LU(t){return ha(new te(4e3,!1))}function jU(t){return ha(nx(!1,xn.GuardRejected))}var o_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[ve])return LU(`${e.redirectTo}`);i=i.children[ve]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:h,url:g,outlet:w,params:E,data:S,title:P}=i,N=jn(o,()=>a({params:E,data:S,queryParams:c,fragment:l,routeConfig:h,url:g,outlet:w,title:P}));if(N instanceof eo)throw new _l(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new _l(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new eo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Le(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new te(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},s_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BU(t,e,n,r,i){let o=h_(t,e,n);return o.matched?(r=uU(e,r),VU(r,e,n,i).pipe(ce(s=>s===!0?o:K({},s_)))):se(o)}function h_(t,e,n){if(e.path==="**")return UU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?K({},s_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VB)(n,t,e);if(!i)return K({},s_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?K(K({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function UU(t){return{matched:!0,parameters:t.length>0?jS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function PS(t,e,n,r){return n.length>0&&qU(t,n,r)?{segmentGroup:new Le(e,HU(r,new Le(n,t.children))),slicedSegments:[]}:n.length===0&&zU(t,n,r)?{segmentGroup:new Le(t.segments,$U(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Le(t.segments,t.children),slicedSegments:n}}function $U(t,e,n,r){let i={};for(let o of n)if(Mp(t,e,o)&&!r[rr(o)]){let s=new Le([],{});i[rr(o)]=s}return K(K({},r),i)}function HU(t,e){let n={};n[ve]=e;for(let r of t)if(r.path===""&&rr(r)!==ve){let i=new Le([],{});n[rr(r)]=i}return n}function qU(t,e,n){return n.some(r=>Mp(t,e,r)&&rr(r)!==ve)}function zU(t,e,n){return n.some(r=>Mp(t,e,r))}function Mp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function GU(t,e,n,r){return rr(t)!==r&&(r===ve||!Mp(e,n,t))?!1:h_(e,t,n).matched}function WU(t,e,n){return e.length===0&&!t.children[n]}var a_=class{};function KU(t,e,n,r,i,o,s="emptyOnly"){return new c_(t,e,n,r,i,s,o).recognize()}var QU=31,c_=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new o_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new te(4002,`'${e.segmentGroup}'`)}recognize(){let e=PS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:n,rootSnapshot:r})=>{let i=new Sn(r,n),o=new Dp("",i),s=nU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ka([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ve,n).pipe(ce(r=>({children:r,rootSnapshot:n})),Ui(r=>{if(r instanceof _l)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wl?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof Sn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ne(o).pipe($i(s=>{let a=r.children[s],c=lU(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Yo((s,a)=>(s.push(...a),s)),Hi(null),py(),Et(s=>{if(s===null)return za(r);let a=sx(s);return YU(a),se(a)}))}processSegment(e,n,r,i,o,s,a){return Ne(n).pipe($i(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Ui(l=>{if(l instanceof wl)return se(null);throw l}))),In(c=>!!c),Ui(c=>{if(ix(c))return WU(r,i,o)?se(new a_):za(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return GU(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):za(i):za(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:g,remainingSegments:w}=h_(n,i,o);if(!c)return za(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QU&&(this.allowRedirects=!1));let E=new Ka(o,l,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,kS(i),rr(i),i.component??i._loadedComponent??null,i,OS(i)),S=Ip(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,g,E,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(Et(N=>this.processSegment(e,r,n,N.concat(w),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=BU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(nt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(nt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:g,consumedSegments:w,remainingSegments:E}=c,S=new Ka(w,g,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,kS(r),rr(r),r.component??r._loadedComponent??null,r,OS(r)),P=Ip(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(P.params),S.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:H}=PS(n,w,E,l);if(H.length===0&&N.hasChildren())return this.processChildren(h,l,N,S).pipe(ce(U=>new Sn(S,U)));if(l.length===0&&H.length===0)return se(new Sn(S,[]));let W=rr(r)===o;return this.processSegment(h,l,N,H,W?ve:o,!0,S).pipe(ce(U=>new Sn(S,U instanceof Sn?[U]:[])))}))):za(n)))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?se({routes:n._loadedRoutes,injector:n._loadedInjector}):FU(e,n,r,this.urlSerializer).pipe(Et(i=>i?this.configLoader.loadChildren(e,n).pipe(pt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):jU(n))):se({routes:[],injector:e})}};function YU(t){t.sort((e,n)=>e.value.outlet===ve?-1:n.value.outlet===ve?1:e.value.outlet.localeCompare(n.value.outlet))}function ZU(t){let e=t.value.routeConfig;return e&&e.path===""}function sx(t){let e=[],n=new Set;for(let r of t){if(!ZU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=sx(r.children);e.push(new Sn(r.value,i))}return e.filter(r=>!n.has(r))}function kS(t){return t.data||{}}function OS(t){return t.resolve||{}}function JU(t,e,n,r,i,o){return Et(s=>KU(t,e,n,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:c})=>xe(K({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function XU(t,e){return Et(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of ax(c))s.add(l);let a=0;return Ne(s).pipe($i(c=>o.has(c)?e$(c,r,t,e):(c.data=Ip(c,c.parent,t).resolve,se(void 0))),pt(()=>a++),ga(1),Et(c=>a===s.size?se(n):on))})}function ax(t){let e=t.children.map(n=>ax(n)).flat();return[t,...e]}function e$(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!ex(i)&&(o[El]=i.title),t$(o,t,e,r).pipe(ce(s=>(t._resolvedData=s,t.data=Ip(t,t.parent,n).resolve,null)))}function t$(t,e,n,r){let i=jw(t);if(i.length===0)return se({});let o={};return Ne(i).pipe(Et(s=>n$(t[s],e,n,r).pipe(In(),pt(a=>{if(a instanceof vl)throw Cp(new Za,a);o[s]=a}))),ga(1),hy(o),Ui(s=>ix(s)?on:ha(s)))}function n$(t,e,n,r){let i=Il(e)??r,o=tc(t,i),s=o.resolve?o.resolve(e,n):jn(i,()=>o(e,n));return no(s)}function Vw(t){return nt(e=>{let n=t(e);return n?Ne(n).pipe(ce(()=>e)):se(e)})}var cx=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ve);return i}getResolvedTitleForRoute(r){return r.data[El]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>q(r$),providedIn:"root"});let t=e;return t})(),r$=(()=>{let e=class e extends cx{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(z(CS))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tl=new Y("",{providedIn:"root",factory:()=>({})}),i$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ln({type:e,selectors:[["ng-component"]],standalone:!0,features:[TA],decls:1,vars:0,template:function(i,o){i&1&&Ut(0,"router-outlet")},dependencies:[d_],encapsulation:2});let t=e;return t})();function f_(t){let e=t.children&&t.children.map(f_),n=e?xe(K({},t),{children:e}):K({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ve&&(n.component=i$),n}var Ap=new Y(""),p_=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(ep)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return se(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=no(r.loadComponent()).pipe(ce(ux),pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),pa(()=>{this.componentLoaders.delete(r)})),o=new ca(i,()=>new Je).pipe(aa());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=o$(i,this.compiler,r,this.onLoadEndListener).pipe(pa(()=>{this.childrenLoaders.delete(i)})),a=new ca(s,()=>new Je).pipe(aa());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function o$(t,e,n,r){return no(t.loadChildren()).pipe(ce(ux),Et(i=>i instanceof Uu||Array.isArray(i)?se(i):Ne(e.compileModuleAsync(i))),ce(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ap,[],{optional:!0,self:!0}).flat()),{routes:s.map(f_),injector:o}}))}function s$(t){return t&&typeof t=="object"&&"default"in t}function ux(t){return s$(t)?t.default:t}var g_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>q(a$),providedIn:"root"});let t=e;return t})(),a$=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lx=new Y(""),dx=new Y("");function c$(t,e,n){let r=t.get(dx),i=t.get(Yt);return t.get(Me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),u$(t))),{onViewTransitionCreated:c}=r;return c&&jn(t,()=>c({transition:a,from:e,to:n})),s})}function u$(t){return new Promise(e=>{zf(()=>setTimeout(e),{injector:t,phase:zi.Read})})}var l$=new Y(""),m_=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Je,this.transitionAbortSubject=new Je,this.configLoader=q(p_),this.environmentInjector=q(gn),this.urlSerializer=q(bl),this.rootContexts=q(Dl),this.location=q(qa),this.inputBindingEnabled=q(xp,{optional:!0})!==null,this.titleStrategy=q(cx),this.options=q(Tl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q(g_),this.createViewTransition=q(lx,{optional:!0}),this.navigationErrorHandler=q(l$,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Ww(o)),i=o=>this.events.next(new Kw(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(xe(K(K({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Lt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:dl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pt(s=>s.id!==0),ce(s=>xe(K({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),nt(s=>{let a=!1,c=!1;return se(s).pipe(nt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xn.SupersededByNewNavigation),on;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?xe(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&g!=="reload"){let w="";return this.events.next(new to(l.id,this.urlSerializer.serialize(l.rawUrl),w,vp.IgnoredSameUrlNavigation)),l.resolve(!1),on}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return se(l).pipe(nt(w=>{let E=this.transitions?.getValue();return this.events.next(new Ja(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),E!==this.transitions?.getValue()?on:Promise.resolve(w)}),JU(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(w=>{s.targetSnapshot=w.targetSnapshot,s.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=xe(K({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let E=new wp(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:w,extractedUrl:E,source:S,restoredState:P,extras:N}=l,H=new Ja(w,this.urlSerializer.serialize(E),S,P);this.events.next(H);let W=JS(this.rootComponentType).snapshot;return this.currentTransition=s=xe(K({},l),{targetSnapshot:W,urlAfterRedirects:E,extras:xe(K({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,se(s)}else{let w="";return this.events.next(new to(l.id,this.urlSerializer.serialize(l.extractedUrl),w,vp.IgnoredByUrlHandlingStrategy)),l.resolve(!1),on}}),pt(l=>{let h=new Hw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ce(l=>(this.currentTransition=s=xe(K({},l),{guards:yU(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),SU(this.environmentInjector,l=>this.events.next(l)),pt(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Cp(this.urlSerializer,l.guardsResult);let h=new qw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Pt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",xn.GuardRejected),!1)),Vw(l=>{if(l.guards.canActivateChecks.length)return se(l).pipe(pt(h=>{let g=new zw(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),nt(h=>{let g=!1;return se(h).pipe(XU(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(h,"",xn.NoDataFromResolver)}}))}),pt(h=>{let g=new Gw(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),Vw(l=>{let h=g=>{let w=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(g.routeConfig).pipe(pt(E=>{g.component=E}),ce(()=>{})));for(let E of g.children)w.push(...h(E));return w};return Mu(h(l.targetSnapshot.root)).pipe(Hi(null),ii(1))}),Vw(()=>this.afterPreactivation()),nt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,g=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return g?Ne(g).pipe(ce(()=>s)):se(s)}),ce(l=>{let h=hU(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=xe(K({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),pt(()=>{this.events.next(new ml)}),mU(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ii(1),pt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),my(this.transitionAbortSubject.pipe(pt(l=>{throw l}))),pa(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",xn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ui(l=>{if(c=!0,rx(l))this.events.next(new pi(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),gU(l)?this.events.next(new Xa(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new gl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let g=jn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(g instanceof vl){let{message:w,cancellationCode:E}=Cp(this.urlSerializer,g);this.events.next(new pi(s.id,this.urlSerializer.serialize(s.extractedUrl),w,E)),this.events.next(new Xa(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(h);let w=r.errorHandler(l);s.resolve(!!w)}}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return on}))}))}cancelNavigationTransition(r,i,o){let s=new pi(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function d$(t){return t!==dl}var h$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>q(f$),providedIn:"root"});let t=e;return t})(),u_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},f$=(()=>{let e=class e extends u_{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fa(e)))(o||e)}})(),e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:()=>q(p$),providedIn:"root"});let t=e;return t})(),p$=(()=>{let e=class e extends hx{constructor(){super(...arguments),this.location=q(qa),this.urlSerializer=q(bl),this.options=q(Tl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q(g_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new eo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=JS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ja)this.stateMemento=this.createStateMemento();else if(r instanceof to)this.rawUrlTree=i.initialUrl;else if(r instanceof wp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ml?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof pi&&(r.code===xn.GuardRejected||r.code===xn.NoDataFromResolver)?this.restoreHistory(i):r instanceof gl?this.restoreHistory(i,!0):r instanceof Rr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=K(K({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=K(K({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fa(e)))(o||e)}})(),e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ul=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ul||{});function fx(t,e){t.events.pipe(Pt(n=>n instanceof Rr||n instanceof pi||n instanceof gl||n instanceof to),ce(n=>n instanceof Rr||n instanceof to?ul.COMPLETE:(n instanceof pi?n.code===xn.Redirect||n.code===xn.SupersededByNewNavigation:!1)?ul.REDIRECTING:ul.FAILED),Pt(n=>n!==ul.REDIRECTING),ii(1)).subscribe(()=>{e()})}function g$(t){throw t}var m$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=q(Yf),this.stateManager=q(hx),this.options=q(Tl,{optional:!0})||{},this.pendingTasks=q(ls),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(m_),this.urlSerializer=q(bl),this.location=q(qa),this.urlHandlingStrategy=q(g_),this._events=new Je,this.errorHandler=this.options.errorHandler||g$,this.navigated=!1,this.routeReuseStrategy=q(h$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(Ap,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(xp,{optional:!0}),this.eventsSubscription=new at,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof pi&&i.code!==xn.Redirect&&i.code!==xn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Rr)this.navigated=!0;else if(i instanceof Xa){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=K({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||d$(o.source)},a);this.scheduleNavigation(c,dl,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}w$(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),dl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=K({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(f_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,g=null;switch(c){case"merge":g=K(K({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}g!==null&&(g=this.removeEmptyProps(g));let w;try{let E=o?o.snapshot:this.routerState.snapshot.root;w=KS(E)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),w=this.currentUrlTree.root}return QS(w,r,g,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=fl(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,dl,null,i)}navigate(r,i={skipLocationChange:!1}){return v$(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=K({},m$):i===!1?o=K({},y$):o=i,fl(r))return SS(this.currentUrlTree,r,o);let s=this.parseUrl(r);return SS(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((w,E)=>{c=w,l=E});let g=this.pendingTasks.add();return fx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(w=>Promise.reject(w))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function v$(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new te(4008,!1)}function w$(t){return!(t instanceof ml)&&!(t instanceof Xa)}var nc=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Rr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:TT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ye(Nr),ye(gi),kv("tabindex"),ye(hs),ye(Xi),ye(hi))},e.\u0275dir=Kt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&vn("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Wf("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ha],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ha],replaceUrl:[2,"replaceUrl","replaceUrl",Ha],routerLink:"routerLink"},standalone:!0,features:[nw,Yi]});let t=e;return t})();var Sp=class{};var _$=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Pt(r=>r instanceof Rr),$i(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Gf(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ne(o).pipe(Bi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=se(null);let s=o.pipe(Et(a=>a===null?se(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ne([s,a]).pipe(Bi())}else return s})}};e.\u0275fac=function(i){return new(i||e)(z(Nr),z(ep),z(gn),z(Sp),z(p_))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),px=new Y(""),E$=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=q(gn),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ja?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Rr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof to&&r.code===vp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof _p&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>L(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),zf(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new _p(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){UT()},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})();function b$(t){return t.routerState.root}function Al(t,e){return{\u0275kind:t,\u0275providers:e}}function I$(){let t=q(mn);return e=>{let n=t.get(Sr);if(e!==n.components[0])return;let r=t.get(Nr),i=t.get(gx);t.get(y_)===1&&r.initialNavigation(),t.get(mx,null,Ee.Optional)?.setUpPreloading(),t.get(px,null,Ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gx=new Y("",{factory:()=>new Je}),y_=new Y("",{providedIn:"root",factory:()=>1});function D$(){return Al(2,[{provide:y_,useValue:0},{provide:Xf,multi:!0,deps:[mn],useFactory:e=>{let n=e.get(JA,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Nr),o=e.get(gx);fx(i,()=>{r(!0)}),e.get(m_).afterPreactivation=()=>(r(!0),o.closed?se(void 0):o),i.initialNavigation()}))}}])}function C$(){return Al(3,[{provide:Xf,multi:!0,useFactory:()=>{let e=q(Nr);return()=>{e.setUpLocationChangeListener()}}},{provide:y_,useValue:2}])}var mx=new Y("");function T$(t){return Al(0,[{provide:mx,useExisting:_$},{provide:Sp,useExisting:t}])}function A$(){return Al(8,[NS,{provide:xp,useExisting:NS}])}function S$(t){let e=[{provide:lx,useValue:c$},{provide:dx,useValue:K({skipNextTransition:!!t?.skipInitialTransition},t)}];return Al(9,e)}var FS=new Y("ROUTER_FORROOT_GUARD"),x$=[qa,{provide:bl,useClass:Za},Nr,Dl,{provide:gi,useFactory:b$,deps:[Nr]},p_,[]],v_=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[x$,[],{provide:Ap,multi:!0,useValue:r},{provide:FS,useFactory:P$,deps:[[Nr,new Pa,new Ev]]},{provide:Tl,useValue:i||{}},i?.useHash?R$():N$(),M$(),i?.preloadingStrategy?T$(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?k$(i):[],i?.bindToComponentInputs?A$().\u0275providers:[],i?.enableViewTransitions?S$().\u0275providers:[],O$()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ap,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(z(FS,8))},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({});let t=e;return t})();function M$(){return{provide:px,useFactory:()=>{let t=q(sS),e=q(Me),n=q(Tl),r=q(m_),i=q(bl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new E$(i,r,t,e,n)}}}function R$(){return{provide:hi,useClass:eS}}function N$(){return{provide:hi,useClass:Ew}}function P$(t){return"guarded"}function k$(t){return[t.initialNavigation==="disabled"?C$().\u0275providers:[],t.initialNavigation==="enabledBlocking"?D$().\u0275providers:[]]}var VS=new Y("");function O$(){return[{provide:VS,useFactory:I$},{provide:Ua,multi:!0,useExisting:VS}]}var am=C0(__());var F$="firebase",V$="10.12.3";ji(F$,V$,"app");var rc=new ai("ANGULARFIRE2_VERSION");var L$=(t,e)=>{let n=e?[e]:k0(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ys=class{constructor(){return L$(j$)}},j$="app-check";function E_(){}var Np=class{zone;delegate;constructor(e,n=ay){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},b_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",E_,{},E_,E_)),n.pipe(pt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Pp=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Np(Zone.current)),this.insideAngular=n.run(()=>new Np(Zone.current,xu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(z(Me))};static \u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function B$(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function wn(t){return U$(B$())(t)}function U$(t){return function(n){return n=n.lift(new b_(t.ngZone)),n.pipe(Zn(t.outsideAngular),On(t.insideAngular))}}var q$=new Map,z$={activated:!1,tokenObservers:[]},G$={initialized:!1,enabled:!1};function ir(t){return q$.get(t)||Object.assign({},z$)}function bx(){return G$}var W$="https://content-firebaseappcheck.googleapis.com/v1";var K$="exchangeDebugToken",vx={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},tK=24*60*60*1e3;var D_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return L(this,null,function*(){this.stop();try{this.pending=new Bm,this.pending.promise.catch(n=>{}),yield Q$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Bm,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Q$(t){return new Promise(e=>{setTimeout(e,t)})}var Y$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ro=new N0("appCheck","AppCheck",Y$);function Ix(t){if(!ir(t).activated)throw ro.create("use-before-activation",{appName:t.name})}function Dx(r,i){return L(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let E=yield s.getHeartbeatsHeader();E&&(o["X-Firebase-Client"]=E)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(E){throw ro.create("fetch-network-error",{originalErrorMessage:E?.message})}if(c.status!==200)throw ro.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(E){throw ro.create("fetch-parse-error",{originalErrorMessage:E?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let g=Number(h[1])*1e3,w=Date.now();return{token:l.token,expireTimeMillis:w+g,issuedAtTimeMillis:w}})}function Cx(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${W$}/projects/${n}/apps/${r}:${K$}?key=${i}`,body:{debug_token:e}}}var Z$="firebase-app-check-database",J$=1,C_="firebase-app-check-store";var kp=null;function X$(){return kp||(kp=new Promise((t,e)=>{try{let n=indexedDB.open(Z$,J$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ro.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(C_,{keyPath:"compositeKey"})}}}catch(n){e(ro.create("storage-open",{originalErrorMessage:n?.message}))}}),kp)}function e4(t,e){return t4(n4(t),e)}function t4(t,e){return L(this,null,function*(){let r=(yield X$()).transaction(C_,"readwrite"),o=r.objectStore(C_).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(ro.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function n4(t){return`${t.options.appId}-${t.name}`}var T_=new lh("@firebase/app-check");function I_(t,e){return uh()?e4(t,e).catch(n=>{T_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Tx(){return bx().enabled}function Ax(){return L(this,null,function*(){let t=bx();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var r4={error:"UNKNOWN_ERROR"};function i4(t){return x0.encodeString(JSON.stringify(t),!1)}function A_(t,e=!1){return L(this,null,function*(){let n=t.app;Ix(n);let r=ir(n),i=r.token,o;if(i&&!Sl(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(Sl(c)?i=c:yield I_(n,void 0))}if(!e&&i&&Sl(i))return{token:i.token};let s=!1;if(Tx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Dx(Cx(n,yield Ax()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield I_(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield ir(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?T_.warn(c.message):T_.error(c),o=c}let a;return i?o?Sl(i)?a={token:i.token,internalError:o}:a=_x(o):(a={token:i.token},r.token=i,yield I_(n,i)):a=_x(o),s&&c4(n,a),a})}function o4(t){return L(this,null,function*(){let e=t.app;Ix(e);let{provider:n}=ir(e);if(Tx()){let r=yield Ax(),{token:i}=yield Dx(Cx(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function s4(t,e,n,r){let{app:i}=t,o=ir(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Sl(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),wx(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>wx(t))}function Sx(t,e){let n=ir(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function wx(t){let{app:e}=t,n=ir(e),r=n.tokenRefresher;r||(r=a4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function a4(t){let{app:e}=t;return new D_(()=>L(this,null,function*(){let n=ir(e),r;if(n.token?r=yield A_(t,!0):r=yield A_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=ir(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vx.RETRIAL_MIN_WAIT,vx.RETRIAL_MAX_WAIT)}function c4(t,e){let n=ir(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Sl(t){return t.expireTimeMillis-Date.now()>0}function _x(t){return{token:i4(r4),error:t}}var S_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=ir(this.app);for(let n of e)Sx(this.app,n.next);return Promise.resolve()}};function u4(t,e){return new S_(t,e)}function l4(t){return{getToken:e=>A_(t,e),getLimitedUseToken:()=>o4(t),addTokenListener:e=>s4(t,"INTERNAL",e),removeTokenListener:e=>Sx(t.app,e)}}var d4="@firebase/app-check",h4="0.8.5";var f4="app-check",Ex="app-check-internal";function p4(){Cu(new Go(f4,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return u4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Ex).initialize()})),Cu(new Go(Ex,t=>{let e=t.getProvider("app-check").getImmediate();return l4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ji(d4,h4)}p4();var g4=["localhost","0.0.0.0","127.0.0.1"],fK=typeof window<"u"&&g4.includes(window.location.hostname);var m4="firebase",y4="10.12.3";hn.registerVersion(m4,y4,"app-compat");var v4=["ngOnDestroy"],Rx=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(v4.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{let g=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,g),g})})})});var Op=class{constructor(e){return e}},ic=new Y("angularfire2.app.options"),oc=new Y("angularfire2.app.name");function xl(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=hn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>hn.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;w4("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Op(s)}var w4=(t,...e)=>{lw()&&typeof console<"u"&&console[t](...e)},_4={provide:Op,useFactory:xl,deps:[ic,Me,[new Pa,oc]]},Nx=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:ic,useValue:n},{provide:oc,useValue:r}]}}constructor(n){hn.registerVersion("angularfire",rc.full,"core"),hn.registerVersion("angularfire",rc.full,"app-compat"),hn.registerVersion("angular",xA.full,n.toString())}static \u0275fac=function(r){return new(r||t)(z(Bt))};static \u0275mod=Mt({type:t});static \u0275inj=xt({providers:[_4]})}return t})();function Fp(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return E4(i,s)||(Mx("error",`${e} was already initialized on the ${n} Firebase App with different settings.${b4?" You may need to reload as Firebase is not HMR aware.":""}`),Mx("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function E4(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var b4=typeof module<"u"&&!!module.hot,Mx=(t,...e)=>{lw()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var x_=new Y("angularfire2.auth.use-emulator"),M_=new Y("angularfire2.auth.settings"),R_=new Y("angularfire2.auth.tenant-id"),N_=new Y("angularfire2.auth.langugage-code"),P_=new Y("angularfire2.auth.use-device-language"),k_=new Y("angularfire.auth.persistence"),O_=(t,e,n,r,i,o,s,a)=>Fp(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]),Px=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,c,l,h,g,w,E){let S=new Je,P=se(void 0).pipe(On(s.outsideAngular),nt(()=>o.runOutsideAngular(()=>import("./chunk-ZACDLQGI.js"))),ce(()=>xl(n,o,r)),ce(N=>O_(N,o,a,l,h,g,c,w)),Fh({bufferSize:1,refCount:!1}));if(fi(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=se(null);else{P.pipe(In()).subscribe();let N=P.pipe(nt(U=>U.getRedirectResult().then(X=>X,()=>null)),wn,Fh({bufferSize:1,refCount:!1})),H=P.pipe(nt(U=>new Ie(X=>({unsubscribe:o.runOutsideAngular(()=>U.onAuthStateChanged(ie=>X.next(ie),ie=>X.error(ie),()=>X.complete()))})))),W=P.pipe(nt(U=>new Ie(X=>({unsubscribe:o.runOutsideAngular(()=>U.onIdTokenChanged(ie=>X.next(ie),ie=>X.error(ie),()=>X.complete()))}))));this.authState=N.pipe(Vh(H),Zn(s.outsideAngular),On(s.insideAngular)),this.user=N.pipe(Vh(W),Zn(s.outsideAngular),On(s.insideAngular)),this.idToken=this.user.pipe(nt(U=>U?Ne(U.getIdToken()):se(null))),this.idTokenResult=this.user.pipe(nt(U=>U?Ne(U.getIdTokenResult()):se(null))),this.credential=dy(N,S,this.authState.pipe(Pt(U=>!U))).pipe(ce(U=>U?.user?U:null),Zn(s.outsideAngular),On(s.insideAngular))}return Rx(this,P,o,{spy:{apply:(N,H,W)=>{(N.startsWith("signIn")||N.startsWith("createUser"))&&W.then(U=>S.next(U))}}})}static \u0275fac=function(r){return new(r||t)(z(ic),z(oc,8),z(Bt),z(Me),z(Pp),z(x_,8),z(M_,8),z(R_,8),z(N_,8),z(P_,8),z(k_,8),z(ys,8))};static \u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ox={};var io,F_;(function(){var t;function e(T,I){function C(){}C.prototype=I.prototype,T.D=I.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(A,x,R){for(var D=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)D[$e-2]=arguments[$e];return I.prototype[x].apply(A,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,C){C||(C=0);var A=Array(16);if(typeof I=="string")for(var x=0;16>x;++x)A[x]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(x=0;16>x;++x)A[x]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=T.g[0],C=T.g[1],x=T.g[2];var R=T.g[3],D=I+(R^C&(x^R))+A[0]+3614090360&4294967295;I=C+(D<<7&4294967295|D>>>25),D=R+(x^I&(C^x))+A[1]+3905402710&4294967295,R=I+(D<<12&4294967295|D>>>20),D=x+(C^R&(I^C))+A[2]+606105819&4294967295,x=R+(D<<17&4294967295|D>>>15),D=C+(I^x&(R^I))+A[3]+3250441966&4294967295,C=x+(D<<22&4294967295|D>>>10),D=I+(R^C&(x^R))+A[4]+4118548399&4294967295,I=C+(D<<7&4294967295|D>>>25),D=R+(x^I&(C^x))+A[5]+1200080426&4294967295,R=I+(D<<12&4294967295|D>>>20),D=x+(C^R&(I^C))+A[6]+2821735955&4294967295,x=R+(D<<17&4294967295|D>>>15),D=C+(I^x&(R^I))+A[7]+4249261313&4294967295,C=x+(D<<22&4294967295|D>>>10),D=I+(R^C&(x^R))+A[8]+1770035416&4294967295,I=C+(D<<7&4294967295|D>>>25),D=R+(x^I&(C^x))+A[9]+2336552879&4294967295,R=I+(D<<12&4294967295|D>>>20),D=x+(C^R&(I^C))+A[10]+4294925233&4294967295,x=R+(D<<17&4294967295|D>>>15),D=C+(I^x&(R^I))+A[11]+2304563134&4294967295,C=x+(D<<22&4294967295|D>>>10),D=I+(R^C&(x^R))+A[12]+1804603682&4294967295,I=C+(D<<7&4294967295|D>>>25),D=R+(x^I&(C^x))+A[13]+4254626195&4294967295,R=I+(D<<12&4294967295|D>>>20),D=x+(C^R&(I^C))+A[14]+2792965006&4294967295,x=R+(D<<17&4294967295|D>>>15),D=C+(I^x&(R^I))+A[15]+1236535329&4294967295,C=x+(D<<22&4294967295|D>>>10),D=I+(x^R&(C^x))+A[1]+4129170786&4294967295,I=C+(D<<5&4294967295|D>>>27),D=R+(C^x&(I^C))+A[6]+3225465664&4294967295,R=I+(D<<9&4294967295|D>>>23),D=x+(I^C&(R^I))+A[11]+643717713&4294967295,x=R+(D<<14&4294967295|D>>>18),D=C+(R^I&(x^R))+A[0]+3921069994&4294967295,C=x+(D<<20&4294967295|D>>>12),D=I+(x^R&(C^x))+A[5]+3593408605&4294967295,I=C+(D<<5&4294967295|D>>>27),D=R+(C^x&(I^C))+A[10]+38016083&4294967295,R=I+(D<<9&4294967295|D>>>23),D=x+(I^C&(R^I))+A[15]+3634488961&4294967295,x=R+(D<<14&4294967295|D>>>18),D=C+(R^I&(x^R))+A[4]+3889429448&4294967295,C=x+(D<<20&4294967295|D>>>12),D=I+(x^R&(C^x))+A[9]+568446438&4294967295,I=C+(D<<5&4294967295|D>>>27),D=R+(C^x&(I^C))+A[14]+3275163606&4294967295,R=I+(D<<9&4294967295|D>>>23),D=x+(I^C&(R^I))+A[3]+4107603335&4294967295,x=R+(D<<14&4294967295|D>>>18),D=C+(R^I&(x^R))+A[8]+1163531501&4294967295,C=x+(D<<20&4294967295|D>>>12),D=I+(x^R&(C^x))+A[13]+2850285829&4294967295,I=C+(D<<5&4294967295|D>>>27),D=R+(C^x&(I^C))+A[2]+4243563512&4294967295,R=I+(D<<9&4294967295|D>>>23),D=x+(I^C&(R^I))+A[7]+1735328473&4294967295,x=R+(D<<14&4294967295|D>>>18),D=C+(R^I&(x^R))+A[12]+2368359562&4294967295,C=x+(D<<20&4294967295|D>>>12),D=I+(C^x^R)+A[5]+4294588738&4294967295,I=C+(D<<4&4294967295|D>>>28),D=R+(I^C^x)+A[8]+2272392833&4294967295,R=I+(D<<11&4294967295|D>>>21),D=x+(R^I^C)+A[11]+1839030562&4294967295,x=R+(D<<16&4294967295|D>>>16),D=C+(x^R^I)+A[14]+4259657740&4294967295,C=x+(D<<23&4294967295|D>>>9),D=I+(C^x^R)+A[1]+2763975236&4294967295,I=C+(D<<4&4294967295|D>>>28),D=R+(I^C^x)+A[4]+1272893353&4294967295,R=I+(D<<11&4294967295|D>>>21),D=x+(R^I^C)+A[7]+4139469664&4294967295,x=R+(D<<16&4294967295|D>>>16),D=C+(x^R^I)+A[10]+3200236656&4294967295,C=x+(D<<23&4294967295|D>>>9),D=I+(C^x^R)+A[13]+681279174&4294967295,I=C+(D<<4&4294967295|D>>>28),D=R+(I^C^x)+A[0]+3936430074&4294967295,R=I+(D<<11&4294967295|D>>>21),D=x+(R^I^C)+A[3]+3572445317&4294967295,x=R+(D<<16&4294967295|D>>>16),D=C+(x^R^I)+A[6]+76029189&4294967295,C=x+(D<<23&4294967295|D>>>9),D=I+(C^x^R)+A[9]+3654602809&4294967295,I=C+(D<<4&4294967295|D>>>28),D=R+(I^C^x)+A[12]+3873151461&4294967295,R=I+(D<<11&4294967295|D>>>21),D=x+(R^I^C)+A[15]+530742520&4294967295,x=R+(D<<16&4294967295|D>>>16),D=C+(x^R^I)+A[2]+3299628645&4294967295,C=x+(D<<23&4294967295|D>>>9),D=I+(x^(C|~R))+A[0]+4096336452&4294967295,I=C+(D<<6&4294967295|D>>>26),D=R+(C^(I|~x))+A[7]+1126891415&4294967295,R=I+(D<<10&4294967295|D>>>22),D=x+(I^(R|~C))+A[14]+2878612391&4294967295,x=R+(D<<15&4294967295|D>>>17),D=C+(R^(x|~I))+A[5]+4237533241&4294967295,C=x+(D<<21&4294967295|D>>>11),D=I+(x^(C|~R))+A[12]+1700485571&4294967295,I=C+(D<<6&4294967295|D>>>26),D=R+(C^(I|~x))+A[3]+2399980690&4294967295,R=I+(D<<10&4294967295|D>>>22),D=x+(I^(R|~C))+A[10]+4293915773&4294967295,x=R+(D<<15&4294967295|D>>>17),D=C+(R^(x|~I))+A[1]+2240044497&4294967295,C=x+(D<<21&4294967295|D>>>11),D=I+(x^(C|~R))+A[8]+1873313359&4294967295,I=C+(D<<6&4294967295|D>>>26),D=R+(C^(I|~x))+A[15]+4264355552&4294967295,R=I+(D<<10&4294967295|D>>>22),D=x+(I^(R|~C))+A[6]+2734768916&4294967295,x=R+(D<<15&4294967295|D>>>17),D=C+(R^(x|~I))+A[13]+1309151649&4294967295,C=x+(D<<21&4294967295|D>>>11),D=I+(x^(C|~R))+A[4]+4149444226&4294967295,I=C+(D<<6&4294967295|D>>>26),D=R+(C^(I|~x))+A[11]+3174756917&4294967295,R=I+(D<<10&4294967295|D>>>22),D=x+(I^(R|~C))+A[2]+718787259&4294967295,x=R+(D<<15&4294967295|D>>>17),D=C+(R^(x|~I))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+x&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var C=I-this.blockSize,A=this.B,x=this.h,R=0;R<I;){if(x==0)for(;R<=C;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<I;)if(A[x++]=T.charCodeAt(R++),x==this.blockSize){i(this,A),x=0;break}}else for(;R<I;)if(A[x++]=T[R++],x==this.blockSize){i(this,A),x=0;break}}this.h=x,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var C=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=C&255,C/=256;for(this.u(T),T=Array(16),I=C=0;4>I;++I)for(var A=0;32>A;A+=8)T[C++]=this.g[I]>>>A&255;return T};function o(T,I){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=I(T)}function s(T,I){this.h=I;for(var C=[],A=!0,x=T.length-1;0<=x;x--){var R=T[x]|0;A&&R==I||(C[x]=R,A=!1)}this.g=C}var a={};function c(T){return-128<=T&&128>T?o(T,function(I){return new s([I|0],0>I?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return N(l(-T));for(var I=[],C=1,A=0;T>=C;A++)I[A]=T/C|0,C*=4294967296;return new s(I,0)}function h(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return N(h(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=l(Math.pow(I,8)),A=g,x=0;x<T.length;x+=8){var R=Math.min(8,T.length-x),D=parseInt(T.substring(x,x+R),I);8>R?(R=l(Math.pow(I,R)),A=A.j(R).add(l(D))):(A=A.j(C),A=A.add(l(D)))}return A}var g=c(0),w=c(1),E=c(16777216);t=s.prototype,t.m=function(){if(P(this))return-N(this).m();for(var T=0,I=1,C=0;C<this.g.length;C++){var A=this.i(C);T+=(0<=A?A:4294967296+A)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(P(this))return"-"+N(this).toString(T);for(var I=l(Math.pow(T,6)),C=this,A="";;){var x=X(C,I).g;C=H(C,x.j(I));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=x,S(C))return R+A;for(;6>R.length;)R="0"+R;A=R+A}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function P(T){return T.h==-1}t.l=function(T){return T=H(this,T),P(T)?-1:S(T)?0:1};function N(T){for(var I=T.g.length,C=[],A=0;A<I;A++)C[A]=~T.g[A];return new s(C,~T.h).add(w)}t.abs=function(){return P(this)?N(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),C=[],A=0,x=0;x<=I;x++){var R=A+(this.i(x)&65535)+(T.i(x)&65535),D=(R>>>16)+(this.i(x)>>>16)+(T.i(x)>>>16);A=D>>>16,R&=65535,D&=65535,C[x]=D<<16|R}return new s(C,C[C.length-1]&-2147483648?-1:0)};function H(T,I){return T.add(N(I))}t.j=function(T){if(S(this)||S(T))return g;if(P(this))return P(T)?N(this).j(N(T)):N(N(this).j(T));if(P(T))return N(this.j(N(T)));if(0>this.l(E)&&0>T.l(E))return l(this.m()*T.m());for(var I=this.g.length+T.g.length,C=[],A=0;A<2*I;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var x=0;x<T.g.length;x++){var R=this.i(A)>>>16,D=this.i(A)&65535,$e=T.i(x)>>>16,qr=T.i(x)&65535;C[2*A+2*x]+=D*qr,W(C,2*A+2*x),C[2*A+2*x+1]+=R*qr,W(C,2*A+2*x+1),C[2*A+2*x+1]+=D*$e,W(C,2*A+2*x+1),C[2*A+2*x+2]+=R*$e,W(C,2*A+2*x+2)}for(A=0;A<I;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=I;A<2*I;A++)C[A]=0;return new s(C,0)};function W(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function U(T,I){this.g=T,this.h=I}function X(T,I){if(S(I))throw Error("division by zero");if(S(T))return new U(g,g);if(P(T))return I=X(N(T),I),new U(N(I.g),N(I.h));if(P(I))return I=X(T,N(I)),new U(N(I.g),I.h);if(30<T.g.length){if(P(T)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var C=w,A=I;0>=A.l(T);)C=ie(C),A=ie(A);var x=oe(C,1),R=oe(A,1);for(A=oe(A,2),C=oe(C,2);!S(A);){var D=R.add(A);0>=D.l(T)&&(x=x.add(C),R=D),A=oe(A,1),C=oe(C,1)}return I=H(T,x.j(I)),new U(x,I)}for(x=g;0<=T.l(I);){for(C=Math.max(1,Math.floor(T.m()/I.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),R=l(C),D=R.j(I);P(D)||0<D.l(T);)C-=A,R=l(C),D=R.j(I);S(R)&&(R=w),x=x.add(R),T=H(T,D)}return new U(x,T)}t.A=function(T){return X(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),C=[],A=0;A<I;A++)C[A]=this.i(A)&T.i(A);return new s(C,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),C=[],A=0;A<I;A++)C[A]=this.i(A)|T.i(A);return new s(C,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),C=[],A=0;A<I;A++)C[A]=this.i(A)^T.i(A);return new s(C,this.h^T.h)};function ie(T){for(var I=T.g.length+1,C=[],A=0;A<I;A++)C[A]=T.i(A)<<1|T.i(A-1)>>>31;return new s(C,T.h)}function oe(T,I){var C=I>>5;I%=32;for(var A=T.g.length-C,x=[],R=0;R<A;R++)x[R]=0<I?T.i(R+C)>>>I|T.i(R+C+1)<<32-I:T.i(R+C);return new s(x,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,F_=Ox.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,io=Ox.Integer=s}).apply(typeof kx<"u"?kx:typeof self<"u"?self:typeof window<"u"?window:{});var Vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mi={};var V_,L_,sc,j_,Ml,Lp,B_,U_,$_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vp=="object"&&Vp];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var _=0;_<u.length-1;_++){var M=u[_];if(!(M in m))break e;m=m[M]}u=u[u.length-1],_=m[u],p=p(_),p!=_&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function o(u,p){u instanceof String&&(u+="");var m=0,_=!1,M={next:function(){if(!_&&m<u.length){var F=m++;return{value:p(F,u[F]),done:!1}}return _=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(u){return u||function(){return o(this,function(p,m){return m})}});var s=s||{},a=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,m){return u.call.apply(u.bind,arguments)}function g(u,p,m){if(!u)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,_),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function w(u,p,m){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,w.apply(null,arguments)}function E(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),u.apply(this,_)}}function S(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(_,M,F){for(var G=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)G[Be-2]=arguments[Be];return p.prototype[M].apply(_,G)}}function P(u){let p=u.length;if(0<p){let m=Array(p);for(let _=0;_<p;_++)m[_]=u[_];return m}return[]}function N(u,p){for(let m=1;m<arguments.length;m++){let _=arguments[m];if(c(_)){let M=u.length||0,F=_.length||0;u.length=M+F;for(let G=0;G<F;G++)u[M+G]=_[G]}else u.push(_)}}class H{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(u){return/^[\s\xa0]*$/.test(u)}function U(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function X(u){return X[" "](u),u}X[" "]=function(){};var ie=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function oe(u,p,m){for(let _ in u)p.call(m,u[_],_,u)}function T(u,p){for(let m in u)p.call(void 0,u[m],m,u)}function I(u){let p={};for(let m in u)p[m]=u[m];return p}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,p){let m,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(m in _)u[m]=_[m];for(let F=0;F<C.length;F++)m=C[F],Object.prototype.hasOwnProperty.call(_,m)&&(u[m]=_[m])}}function x(u){var p=1;u=u.split(":");let m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function R(u){a.setTimeout(()=>{throw u},0)}function D(){var u=Jc;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class $e{constructor(){this.h=this.g=null}add(p,m){let _=qr.get();_.set(p,m),this.h?this.h.next=_:this.g=_,this.h=_}}var qr=new H(()=>new wm,u=>u.reset());class wm{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Ao=!1,Jc=new $e,Xc=()=>{let u=a.Promise.resolve(void 0);le=()=>{u.then(_m)}};var _m=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(m){R(m)}var p=qr;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}Ao=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Nt(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var qs=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function Ti(u,p){if(Nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,_=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ie){e:{try{X(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:eu[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ti.aa.h.call(this)}}S(Ti,Nt);var eu={2:"touch",3:"pen",4:"mouse"};Ti.prototype.h=function(){Ti.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),zr=0;function Id(u,p,m,_,M){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!_,this.ha=M,this.key=++zr,this.da=this.fa=!1}function zs(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function So(u){this.src=u,this.g={},this.h=0}So.prototype.add=function(u,p,m,_,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var G=xo(u,p,_,M);return-1<G?(p=u[G],m||(p.fa=!1)):(p=new Id(p,this.src,F,!!_,M),p.fa=m,u.push(p)),p};function Ai(u,p){var m=p.type;if(m in u.g){var _=u.g[m],M=Array.prototype.indexOf.call(_,p,void 0),F;(F=0<=M)&&Array.prototype.splice.call(_,M,1),F&&(zs(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function xo(u,p,m,_){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==p&&F.capture==!!m&&F.ha==_)return M}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Mo={};function Vt(u,p,m,_,M){if(_&&_.once)return Fe(u,p,m,_,M);if(Array.isArray(p)){for(var F=0;F<p.length;F++)Vt(u,p[F],m,_,M);return null}return m=Mi(m),u&&u[vt]?u.K(p,m,l(_)?!!_.capture:!!_,M):Si(u,p,m,!1,_,M)}function Si(u,p,m,_,M,F){if(!p)throw Error("Invalid event type");var G=l(M)?!!M.capture:!!M,Be=Gs(u);if(Be||(u[Gr]=Be=new So(u)),m=Be.add(p,m,_,G,F),m.proxy)return m;if(_=Xt(),m.proxy=_,_.src=u,_.listener=m,u.addEventListener)qs||(M=G),M===void 0&&(M=!1),u.addEventListener(p.toString(),_,M);else if(u.attachEvent)u.attachEvent(nu(p.toString()),_);else if(u.addListener&&u.removeListener)u.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Xt(){function u(m){return p.call(u.src,u.listener,m)}let p=ru;return u}function Fe(u,p,m,_,M){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Fe(u,p[F],m,_,M);return null}return m=Mi(m),u&&u[vt]?u.L(p,m,l(_)?!!_.capture:!!_,M):Si(u,p,m,!0,_,M)}function xi(u,p,m,_,M){if(Array.isArray(p))for(var F=0;F<p.length;F++)xi(u,p[F],m,_,M);else _=l(_)?!!_.capture:!!_,m=Mi(m),u&&u[vt]?(u=u.i,p=String(p).toString(),p in u.g&&(F=u.g[p],m=xo(F,m,_,M),-1<m&&(zs(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete u.g[p],u.h--)))):u&&(u=Gs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=xo(p,m,_,M)),(m=-1<u?p[u]:null)&&tu(m))}function tu(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[vt])Ai(p.i,u);else{var m=u.type,_=u.proxy;p.removeEventListener?p.removeEventListener(m,_,u.capture):p.detachEvent?p.detachEvent(nu(m),_):p.addListener&&p.removeListener&&p.removeListener(_),(m=Gs(p))?(Ai(m,u),m.h==0&&(m.src=null,p[Gr]=null)):zs(u)}}}function nu(u){return u in Mo?Mo[u]:Mo[u]="on"+u}function ru(u,p){if(u.da)u=!0;else{p=new Ti(p,this);var m=u.listener,_=u.ha||u.src;u.fa&&tu(u),u=m.call(_,p)}return u}function Gs(u){return u=u[Gr],u instanceof So?u:null}var Ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mi(u){return typeof u=="function"?u:(u[Ro]||(u[Ro]=function(p){return u.handleEvent(p)}),u[Ro])}function He(){O.call(this),this.i=new So(this),this.M=this,this.F=null}S(He,O),He.prototype[vt]=!0,He.prototype.removeEventListener=function(u,p,m,_){xi(this,u,p,m,_)};function it(u,p){var m,_=u.F;if(_)for(m=[];_;_=_.F)m.push(_);if(u=u.M,_=p.type||p,typeof p=="string")p=new Nt(p,u);else if(p instanceof Nt)p.target=p.target||u;else{var M=p;p=new Nt(_,u),A(p,M)}if(M=!0,m)for(var F=m.length-1;0<=F;F--){var G=p.g=m[F];M=Nn(G,_,!0,p)&&M}if(G=p.g=u,M=Nn(G,_,!0,p)&&M,M=Nn(G,_,!1,p)&&M,m)for(F=0;F<m.length;F++)G=p.g=m[F],M=Nn(G,_,!1,p)&&M}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],_=0;_<m.length;_++)zs(m[_]);delete u.g[p],u.h--}}this.F=null},He.prototype.K=function(u,p,m,_){return this.i.add(String(u),p,!1,m,_)},He.prototype.L=function(u,p,m,_){return this.i.add(String(u),p,!0,m,_)};function Nn(u,p,m,_){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,F=0;F<p.length;++F){var G=p[F];if(G&&!G.da&&G.capture==m){var Be=G.listener,wt=G.ha||G.src;G.fa&&Ai(u.i,G),M=Be.call(wt,_)!==!1&&M}}return M&&!_.defaultPrevented}function Dd(u,p,m){if(typeof u=="function")m&&(u=w(u,m));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Wr(u){u.g=Dd(()=>{u.g=null,u.i&&(u.i=!1,Wr(u))},u.l);let p=u.h;u.h=null,u.m.apply(null,p)}class No extends O{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Wr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(u){O.call(this),this.h=u,this.g={}}S(Ri,O);var Po=[];function Ws(u){oe(u.g,function(p,m){this.g.hasOwnProperty(m)&&tu(p)},u),u.g={}}Ri.prototype.N=function(){Ri.aa.N.call(this),Ws(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var iu=a.JSON.stringify,ou=a.JSON.parse,su=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ni(){}Ni.prototype.h=null;function Cd(u){return u.h||(u.h=u.i())}function Ht(){}var en={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function au(){Nt.call(this,"d")}S(au,Nt);function qt(){Nt.call(this,"c")}S(qt,Nt);var Pn={},cu=null;function ko(){return cu=cu||new He}Pn.La="serverreachability";function Ae(u){Nt.call(this,Pn.La,u)}S(Ae,Nt);function zt(u){let p=ko();it(p,new Ae(p))}Pn.STAT_EVENT="statevent";function Gn(u,p){Nt.call(this,Pn.STAT_EVENT,u),this.stat=p}S(Gn,Nt);function et(u){let p=ko();it(p,new Gn(p,u))}Pn.Ma="timingevent";function dt(u,p){Nt.call(this,Pn.Ma,u),this.size=p}S(dt,Nt);function ot(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Kr(){this.g=!0}Kr.prototype.xa=function(){this.g=!1};function Td(u,p,m,_,M,F){u.info(function(){if(u.g)if(F)for(var G="",Be=F.split("&"),wt=0;wt<Be.length;wt++){var Re=Be[wt].split("=");if(1<Re.length){var _t=Re[0];Re=Re[1];var St=_t.split("_");G=2<=St.length&&St[1]=="type"?G+(_t+"="+Re+"&"):G+(_t+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+p+`
`+m+`
`+G})}function Oo(u,p,m,_,M,F,G){u.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+p+`
`+m+`
`+F+" "+G})}function ht(u,p,m,_){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ad(u,m)+(_?" "+_:"")})}function Em(u,p){u.info(function(){return"TIMEOUT: "+p})}Kr.prototype.info=function(){};function Ad(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var _=m[u];if(!(2>_.length)){var M=_[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return iu(m)}catch{return p}}var Fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ks={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uu;function Vo(){}S(Vo,Ni),Vo.prototype.g=function(){return new XMLHttpRequest},Vo.prototype.i=function(){return{}},uu=new Vo;function lr(u,p,m,_){this.j=u,this.i=p,this.l=m,this.R=_||1,this.U=new Ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sd}function Sd(){this.i=null,this.g="",this.h=!1}var dr={},lu={};function du(u,p,m){u.L=1,u.v=Ys(bn(p)),u.m=m,u.P=!0,xd(u,null)}function xd(u,p){u.F=Date.now(),Pi(u),u.A=bn(u.v);var m=u.A,_=u.R;Array.isArray(_)||(_=[String(_)]),$d(m.i,"t",_),u.C=0,m=u.j.J,u.h=new Sd,u.g=th(u.j,m?p:null,!u.m),0<u.O&&(u.M=new No(w(u.Y,u,u.g),u.O)),p=u.U,m=u.g,_=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Po[0]=M.toString()),M=Po);for(var F=0;F<M.length;F++){var G=Vt(m,M[F],_||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),zt(),Td(u.i,u.u,u.A,u.l,u.R,u.m)}lr.prototype.ca=function(u){u=u.target;let p=this.M;p&&kn(u)==3?p.j():this.Y(u)},lr.prototype.Y=function(u){try{if(u==this.g)e:{let St=kn(this.g);var p=this.g.Ba();let ei=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Wd(this.g)))){this.J||St!=4||p==7||(p==8||0>=ei?zt(3):zt(2)),hu(this);var m=this.g.Z();this.X=m;t:if(Md(this)){var _=Wd(this.g);u="";var M=_.length,F=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),En(this);var G="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(_[p],{stream:!(F&&p==M-1)});_.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=m==200,Oo(this.i,this.u,this.A,this.l,this.R,St,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,wt=this.g;if((Be=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Be)){var Re=Be;break t}}Re=null}if(m=Re)ht(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fu(this,m);else{this.o=!1,this.s=3,et(12),Qr(this),En(this);break e}}if(this.P){m=!0;let nn;for(;!this.J&&this.C<G.length;)if(nn=bm(this,G),nn==lu){St==4&&(this.s=4,et(14),m=!1),ht(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==dr){this.s=4,et(15),ht(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}else ht(this.i,this.l,nn,null),fu(this,nn);if(Md(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||G.length!=0||this.h.h||(this.s=1,et(16),m=!1),this.o=this.o&&m,!m)ht(this.i,this.l,G,"[Invalid Chunked Response]"),Qr(this),En(this);else if(0<G.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Xs(_t),_t.M=!0,et(11))}}else ht(this.i,this.l,G,null),fu(this,G);St==4&&Qr(this),this.o&&!this.J&&(St==4?Jd(this.j,this):(this.o=!1,Pi(this)))}else Om(this.g),m==400&&0<G.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Qr(this),En(this)}}}catch{}finally{}};function Md(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bm(u,p){var m=u.C,_=p.indexOf(`
`,m);return _==-1?lu:(m=Number(p.substring(m,_)),isNaN(m)?dr:(_+=1,_+m>p.length?lu:(p=p.slice(_,_+m),u.C=_+m,p)))}lr.prototype.cancel=function(){this.J=!0,Qr(this)};function Pi(u){u.S=Date.now()+u.I,Rd(u,u.I)}function Rd(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ot(w(u.ba,u),p)}function hu(u){u.B&&(a.clearTimeout(u.B),u.B=null)}lr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Em(this.i,this.A),this.L!=2&&(zt(),et(17)),Qr(this),this.s=2,En(this)):Rd(this,this.S-u)};function En(u){u.j.G==0||u.J||Jd(u.j,u)}function Qr(u){hu(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Ws(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function fu(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||pu(m.h,u))){if(!u.K&&pu(m.h,u)&&m.G==3){try{var _=m.Da.g.parse(p)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)ea(m),Js(m);else break e;Eu(m),et(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=ot(w(m.Za,m),6e3));if(1>=Pd(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else gr(m,11)}else if((u.K||m.g==u)&&ea(m),!W(p))for(M=m.Da.g.parse(p),p=0;p<M.length;p++){let Re=M[p];if(m.T=Re[0],Re=Re[1],m.G==2)if(Re[0]=="c"){m.K=Re[1],m.ia=Re[2];let _t=Re[3];_t!=null&&(m.la=_t,m.j.info("VER="+m.la));let St=Re[4];St!=null&&(m.Aa=St,m.j.info("SVER="+m.Aa));let ei=Re[5];ei!=null&&typeof ei=="number"&&0<ei&&(_=1.5*ei,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;let nn=u.g;if(nn){let ti=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var F=_.h;F.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(gu(F,F.h),F.h=null))}if(_.D){let bu=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;bu&&(_.ya=bu,ue(_.I,_.D,bu))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var G=u;if(_.qa=eh(_,_.J?_.ia:null,_.W),G.K){kd(_.h,G);var Be=G,wt=_.L;wt&&(Be.I=wt),Be.B&&(hu(Be),Pi(Be)),_.g=G}else Qn(_);0<m.i.length&&Kn(m)}else Re[0]!="stop"&&Re[0]!="close"||gr(m,7);else m.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?gr(m,7):_u(m):Re[0]!="noop"&&m.l&&m.l.ta(Re),m.v=0)}}zt(4)}catch{}}var Im=class{constructor(u,p){this.g=u,this.map=p}};function Qs(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nd(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pd(u){return u.h?1:u.g?u.g.size:0}function pu(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function gu(u,p){u.g?u.g.add(p):u.h=p}function kd(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Qs.prototype.cancel=function(){if(this.i=je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function je(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(let m of u.g.values())p=p.concat(m.D);return p}return P(u.i)}function Dm(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],m=u.length,_=0;_<m;_++)p.push(u[_]);return p}p=[],m=0;for(_ in u)p[m++]=u[_];return p}function Cm(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(let _ in u)p[m++]=_;return p}}}function Od(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=Cm(u),_=Dm(u),M=_.length,F=0;F<M;F++)p.call(void 0,_[F],m&&m[F],u)}var Fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tm(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var _=u[m].indexOf("="),M=null;if(0<=_){var F=u[m].substring(0,_);M=u[m].substring(_+1)}else F=u[m];p(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Yr){this.h=u.h,hr(this,u.j),this.o=u.o,this.g=u.g,Lo(this,u.s),this.l=u.l;var p=u.i,m=new ki;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),jo(this,m),this.m=u.m}else u&&(p=String(u).match(Fd))?(this.h=!1,hr(this,p[1]||"",!0),this.o=Bo(p[2]||""),this.g=Bo(p[3]||"",!0),Lo(this,p[4]),this.l=Bo(p[5]||"",!0),jo(this,p[6]||"",!0),this.m=Bo(p[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}Yr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Uo(p,Ld,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Uo(p,Ld,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Uo(m,m.charAt(0)=="/"?Sm:Am,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Uo(m,xm)),u.join("")};function bn(u){return new Yr(u)}function hr(u,p,m){u.j=m?Bo(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Lo(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function jo(u,p,m){p instanceof ki?(u.i=p,Mm(u.i,u.h)):(m||(p=Uo(p,jd)),u.i=new ki(p,u.h))}function ue(u,p,m){u.i.set(p,m)}function Ys(u){return ue(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Bo(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Uo(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,Vd),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vd(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ld=/[#\/\?@]/g,Am=/[#\?:]/g,Sm=/[#\?]/g,jd=/[#\?@]/g,xm=/#/g;function ki(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function fr(u){u.g||(u.g=new Map,u.h=0,u.i&&Tm(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=ki.prototype,t.add=function(u,p){fr(this),this.i=null,u=Oi(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function Bd(u,p){fr(u),p=Oi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ud(u,p){return fr(u),p=Oi(u,p),u.g.has(p)}t.forEach=function(u,p){fr(this),this.g.forEach(function(m,_){m.forEach(function(M){u.call(p,M,_,this)},this)},this)},t.na=function(){fr(this);let u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let _=0;_<p.length;_++){let M=u[_];for(let F=0;F<M.length;F++)m.push(p[_])}return m},t.V=function(u){fr(this);let p=[];if(typeof u=="string")Ud(this,u)&&(p=p.concat(this.g.get(Oi(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return fr(this),this.i=null,u=Oi(this,u),Ud(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function $d(u,p,m){Bd(u,p),0<m.length&&(u.i=null,u.g.set(Oi(u,p),P(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var _=p[m];let F=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var M=F;G[_]!==""&&(M+="="+encodeURIComponent(String(G[_]))),u.push(M)}}return this.i=u.join("&")};function Oi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Mm(u,p){p&&!u.j&&(fr(u),u.i=null,u.g.forEach(function(m,_){var M=_.toLowerCase();_!=M&&(Bd(this,_),$d(this,M,m))},u)),u.j=p}function Rm(u,p){let m=new Kr;if(a.Image){let _=new Image;_.onload=E(pr,m,"TestLoadImage: loaded",!0,p,_),_.onerror=E(pr,m,"TestLoadImage: error",!1,p,_),_.onabort=E(pr,m,"TestLoadImage: abort",!1,p,_),_.ontimeout=E(pr,m,"TestLoadImage: timeout",!1,p,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=u}else p(!1)}function Hd(u,p){let m=new Kr,_=new AbortController,M=setTimeout(()=>{_.abort(),pr(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:_.signal}).then(F=>{clearTimeout(M),F.ok?pr(m,"TestPingServer: ok",!0,p):pr(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),pr(m,"TestPingServer: error",!1,p)})}function pr(u,p,m,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(m)}catch{}}function qd(){this.g=new su}function Nm(u,p,m){let _=m||"";try{Od(u,function(M,F){let G=M;l(M)&&(G=iu(M)),p.push(_+F+"="+encodeURIComponent(G))})}catch(M){throw p.push(_+"type="+encodeURIComponent("_badmap")),M}}function $o(u){this.l=u.Ub||null,this.j=u.eb||!1}S($o,Ni),$o.prototype.g=function(){return new Wn(this.l,this.j)},$o.prototype.i=function(u){return function(){return u}}({});function Wn(u,p){He.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Wn,He),t=Wn.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Zr(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ho(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function mu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ho(this):Zr(this),this.readyState==3&&mu(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ho(this))},t.Qa=function(u){this.g&&(this.response=u,Ho(this))},t.ga=function(){this.g&&Ho(this)};function Ho(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zr(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function Zr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yu(u){let p="";return oe(u,function(m,_){p+=_,p+=":",p+=m,p+=`\r
`}),p}function vu(u,p,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=yu(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):ue(u,p,m))}function Ze(u){He.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ze,He);var Pm=/^https?$/i,km=["POST","PUT"];t=Ze.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uu.g(),this.v=this.o?Cd(this.o):Cd(uu),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){zd(this,F);return}if(u=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)m.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let F of _.keys())m.set(F,_.get(F));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(km,p,void 0))||_||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,G]of m)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wu(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){zd(this,F)}};function zd(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Gd(u),Zs(u)}function Gd(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,it(this,"complete"),it(this,"abort"),Zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zs(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jr(this):this.bb())},t.bb=function(){Jr(this)};function Jr(u){if(u.h&&typeof s<"u"&&(!u.v[1]||kn(u)!=4||u.Z()!=2)){if(u.u&&kn(u)==4)Dd(u.Ea,0,u);else if(it(u,"readystatechange"),kn(u)==4){u.h=!1;try{let G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var _;if(_=G===0){var M=String(u.D).match(Fd)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),_=!Pm.test(M?M.toLowerCase():"")}m=_}if(m)it(u,"complete"),it(u,"success");else{u.m=6;try{var F=2<kn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Gd(u)}}finally{Zs(u)}}}}function Zs(u,p){if(u.g){wu(u);let m=u.g,_=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||it(u,"ready");try{m.onreadystatechange=_}catch{}}}function wu(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ou(p)}};function Wd(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Om(u){let p={};u=(u.g&&2<=kn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<u.length;_++){if(W(u[_]))continue;var m=x(u[_]);let M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let F=p[M]||[];p[M]=F,F.push(m)}T(p,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qo(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function Kd(u){this.Aa=0,this.i=[],this.j=new Kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qo("baseRetryDelayMs",5e3,u),this.cb=qo("retryDelaySeedMs",1e4,u),this.Wa=qo("forwardChannelMaxRetries",2,u),this.wa=qo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Qs(u&&u.concurrentRequestLimit),this.Da=new qd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kd.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,_){et(0),this.W=u,this.H=p||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=eh(this,null,this.W),Kn(this)};function _u(u){if(Qd(u),u.G==3){var p=u.U++,m=bn(u.I);if(ue(m,"SID",u.K),ue(m,"RID",p),ue(m,"TYPE","terminate"),Fi(u,m),p=new lr(u,u.j,p),p.L=2,p.v=Ys(bn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=th(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Pi(p)}Xr(u)}function Js(u){u.g&&(Xs(u),u.g.cancel(),u.g=null)}function Qd(u){Js(u),u.u&&(a.clearTimeout(u.u),u.u=null),ea(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Kn(u){if(!Nd(u.h)&&!u.s){u.s=!0;var p=u.Ga;le||Xc(),Ao||(le(),Ao=!0),Jc.add(p,u),u.B=0}}function Fm(u,p){return Pd(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ot(w(u.Ga,u,p),Xd(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let M=new lr(this,this.j,u),F=this.o;if(this.S&&(F?(F=I(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(p+=_,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=Zd(this,M,p),m=bn(this.I),ue(m,"RID",u),ue(m,"CVER",22),this.D&&ue(m,"X-HTTP-Session-Id",this.D),Fi(this,m),F&&(this.O?p="headers="+encodeURIComponent(String(yu(F)))+"&"+p:this.m&&vu(m,this.m,F)),gu(this.h,M),this.Ua&&ue(m,"TYPE","init"),this.P?(ue(m,"$req",p),ue(m,"SID","null"),M.T=!0,du(M,m,null)):du(M,m,p),this.G=2}}else this.G==3&&(u?Yd(this,u):this.i.length==0||Nd(this.h)||Yd(this))};function Yd(u,p){var m;p?m=p.l:m=u.U++;let _=bn(u.I);ue(_,"SID",u.K),ue(_,"RID",m),ue(_,"AID",u.T),Fi(u,_),u.m&&u.o&&vu(_,u.m,u.o),m=new lr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Zd(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),gu(u.h,m),du(m,_,p)}function Fi(u,p){u.H&&oe(u.H,function(m,_){ue(p,_,m)}),u.l&&Od({},function(m,_){ue(p,_,m)})}function Zd(u,p,m){m=Math.min(u.i.length,m);var _=u.l?w(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){let G=["count="+m];F==-1?0<m?(F=M[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Be=!0;for(let wt=0;wt<m;wt++){let Re=M[wt].g,_t=M[wt].map;if(Re-=F,0>Re)F=Math.max(0,M[wt].g-100),Be=!1;else try{Nm(_t,G,"req"+Re+"_")}catch{_&&_(_t)}}if(Be){_=G.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,_}function Qn(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;le||Xc(),Ao||(le(),Ao=!0),Jc.add(p,u),u.v=0}}function Eu(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ot(w(u.Fa,u),Xd(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Vi(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ot(w(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Js(this),Vi(this))};function Xs(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Vi(u){u.g=new lr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=bn(u.qa);ue(p,"RID","rpc"),ue(p,"SID",u.K),ue(p,"AID",u.T),ue(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ue(p,"TO",u.ja),ue(p,"TYPE","xmlhttp"),Fi(u,p),u.m&&u.o&&vu(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Ys(bn(p)),m.m=null,m.P=!0,xd(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Js(this),Eu(this),et(19))};function ea(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Jd(u,p){var m=null;if(u.g==p){ea(u),Xs(u),u.g=null;var _=2}else if(pu(u.h,p))m=p.D,kd(u.h,p),_=1;else return;if(u.G!=0){if(p.o)if(_==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;_=ko(),it(_,new dt(_,m)),Kn(u)}else Qn(u);else if(M=p.s,M==3||M==0&&0<p.X||!(_==1&&Fm(u,p)||_==2&&Eu(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),M){case 1:gr(u,5);break;case 4:gr(u,10);break;case 3:gr(u,6);break;default:gr(u,2)}}}function Xd(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function gr(u,p){if(u.j.info("Error code "+p),p==2){var m=w(u.fb,u),_=u.Xa;let M=!_;_=new Yr(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hr(_,"https"),Ys(_),M?Rm(_.toString(),m):Hd(_.toString(),m)}else et(2);u.G=0,u.l&&u.l.sa(p),Xr(u),Qd(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Xr(u){if(u.G=0,u.ka=[],u.l){let p=je(u.h);(p.length!=0||u.i.length!=0)&&(N(u.ka,p),N(u.ka,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.ra()}}function eh(u,p,m){var _=m instanceof Yr?bn(m):new Yr(m);if(_.g!="")p&&(_.g=p+"."+_.g),Lo(_,_.s);else{var M=a.location;_=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var F=new Yr(null);_&&hr(F,_),p&&(F.g=p),M&&Lo(F,M),m&&(F.l=m),_=F}return m=u.D,p=u.ya,m&&p&&ue(_,m,p),ue(_,"VER",u.la),Fi(u,_),_}function th(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ze(new $o({eb:m})):new Ze(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nh(){}t=nh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ta(){}ta.prototype.g=function(u,p){return new tn(u,p)};function tn(u,p){He.call(this),this.g=new Kd(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!W(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!W(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Li(this)}S(tn,He),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){_u(this.g)},tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=iu(u),u=m);p.i.push(new Im(p.Ya++,u)),p.G==3&&Kn(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,_u(this.g),delete this.g,tn.aa.N.call(this)};function rh(u){au.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(let m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}S(rh,au);function ih(){qt.call(this),this.status=1}S(ih,qt);function Li(u){this.g=u}S(Li,nh),Li.prototype.ua=function(){it(this.g,"a")},Li.prototype.ta=function(u){it(this.g,new rh(u))},Li.prototype.sa=function(u){it(this.g,new ih)},Li.prototype.ra=function(){it(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,$_=mi.createWebChannelTransport=function(){return new ta},U_=mi.getStatEventTarget=function(){return ko()},B_=mi.Event=Pn,Lp=mi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,Ml=mi.ErrorCode=Fo,Ks.COMPLETE="complete",j_=mi.EventType=Ks,Ht.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",He.prototype.listen=He.prototype.K,sc=mi.WebChannel=Ht,L_=mi.FetchXmlHttpFactory=$o,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,V_=mi.XhrIo=Ze}).apply(typeof Vp<"u"?Vp:typeof self<"u"?self:typeof window<"u"?window:{});var Fx="@firebase/firestore";var Ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");var Vc="10.12.3";var ho=new lh("@firebase/firestore");function dc(){return ho.logLevel}function FM(t){ho.setLogLevel(t)}function $(t,...e){if(ho.logLevel<=yr.DEBUG){let n=e.map(zb);ho.debug(`Firestore (${Vc}): ${t}`,...n)}}function gt(t,...e){if(ho.logLevel<=yr.ERROR){let n=e.map(zb);ho.error(`Firestore (${Vc}): ${t}`,...n)}}function Hn(t,...e){if(ho.logLevel<=yr.WARN){let n=e.map(zb);ho.warn(`Firestore (${Vc}): ${t}`,...n)}}function zb(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${Vc}) INTERNAL ASSERTION FAILED: `+t;throw gt(e),new Error(e)}function re(t,e){t||ee()}function VM(t,e){t||ee()}function Z(t,e){return t}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends R0{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Tt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Qp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},W_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}},K_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Q_=class{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tt,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>L(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string"),new Qp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return re(e===null||typeof e=="string"),new Ct(e)}},Y_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Z_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Y_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},J_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},X_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(re(typeof n.token=="string"),this.R=n.token,new J_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function D4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Yp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=D4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function pe(t,e){return t<e?-1:t>e?1:0}function _c(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function LM(t){return t+"\0"}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends Zp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},C4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mt=class t extends Zp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return C4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new B(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new B(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Q=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var Ec=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function eE(t){return t.fields.find(e=>e.kind===2)}function ws(t){return t.fields.filter(e=>e.kind!==2)}Ec.UNKNOWN_ID=-1;var yc=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var $l=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,qn.min())}};function jM(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new qn(i,Q.empty(),e)}function BM(t){return new qn(t.readTime,t.key,-1)}var qn=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ae.min(),Q.empty(),-1)}static max(){return new t(ae.max(),Q.empty(),-1)}};function Gb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}var UM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function bo(t){return L(this,null,function*(){if(t.code!==V.FAILED_PRECONDITION||t.message!==UM)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var Xp=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Tt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Cs(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Wb(r.target.error);this.V.reject(new Cs(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Cs(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||($("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new nE(n)}},fo=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Du())===12.2&&gt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $("SimpleDb","Removing database:",e),_s(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!uh())return!1;if(t.C())return!0;let e=Du(),n=t.S(e),r=0<n&&n<10,i=$M(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return L(this,null,function*(){return this.db||($("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new Cs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new B(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new B(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Cs(e,s))},i.onupgradeneeded=o=>{$("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{$("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return L(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=Xp.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),k.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if($("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function $M(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var tE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return _s(this.B.delete())}},Cs=class extends B{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Io(t){return t.name==="IndexedDbTransactionError"}var nE=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?($("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):($("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_s(r)}add(e){return $("SimpleDb","ADD",this.store.name,e,e),_s(this.store.add(e))}get(e){return _s(this.store.get(e)).next(n=>(n===void 0&&(n=null),$("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return $("SimpleDb","DELETE",this.store.name,e),_s(this.store.delete(e))}count(){return $("SimpleDb","COUNT",this.store.name),_s(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new k((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new k((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){$("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new k((r,i)=>{n.onerror=o=>{let s=Wb(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){let r=[];return new k((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new tE(a),l=n(a.primaryKey,a.value,c);if(l instanceof k){let h=l.catch(g=>(c.done(),k.reject(g)));r.push(h)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>k.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function _s(t){return new k((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Wb(r.target.error);n(i)}})}var Vx=!1;function Wb(t){let e=fo.S(Du());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vx||(Vx=!0,setTimeout(()=>{throw r},0)),r}}return t}var rE=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){$("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>L(this,null,function*(){this.task=null;try{$("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){Io(n)?$("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield bo(n)}yield this.X(6e4)}))}},iE=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return L(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,o=!0;return k.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return $("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>($("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{let s=BM(o);Gb(s,r)>0&&(r=s)}),new qn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Mn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ld(t){return t==null}function Hl(t){return t===0&&1/t==-1/0}function HM(t){return typeof t=="number"&&Number.isInteger(t)&&!Hl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function un(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lx(e)),e=T4(t.get(n),e);return Lx(e)}function T4(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Lx(t){return t+""}function kr(t){let e=t.length;if(re(e>=2),e===2)return re(t.charAt(0)===""&&t.charAt(1)===""),ke.emptyPath();let n=e-2,r=[],i="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&ee(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:ee()}o=s+2}return new ke(r)}var jx=["userId","batchId"];function Hp(t,e){return[t,un(e)]}function qM(t,e,n){return[t,un(e),n]}var A4={},S4=["prefixPath","collectionGroup","readTime","documentId"],x4=["prefixPath","collectionGroup","documentId"],M4=["collectionGroup","readTime","prefixPath","documentId"],R4=["canonicalId","targetId"],N4=["targetId","path"],P4=["path","targetId"],k4=["collectionId","parent"],O4=["indexId","uid"],F4=["uid","sequenceNumber"],V4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],L4=["indexId","uid","orderedDocumentKey"],j4=["userId","collectionPath","documentId"],B4=["userId","collectionPath","largestBatchId"],U4=["userId","collectionGroup","largestBatchId"],zM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$4=[...zM,"documentOverlays"],GM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],WM=GM,KM=[...WM,"indexConfiguration","indexState","indexEntries"],H4=KM;var ql=class extends Jp{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function Ft(t,e){let n=Z(t);return fo.F(n._e,e)}function Bx(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ye=class t{constructor(e,n){this.comparator=e,this.root=n||Fr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}},mc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1;Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Fr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ge=class t{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eg(this.data.getIterator())}getIteratorFrom(e){return new eg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},eg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function ac(t){return t.hasNext()?t.getNext():void 0}var Rn=class t{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ge(mt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var tg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function YM(){return typeof atob<"u"}var Ot=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tg("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ot.EMPTY_BYTE_STRING=new Ot("");var q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(re(!!t),typeof t=="string"){let e=0,n=q4.exec(t);if(re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}function zg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Kb(t){let e=t.mapValue.fields.__previous_value__;return zg(e)?Kb(e):e}function zl(t){let e=wi(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var oE=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},go=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qp={nullValue:"NULL_VALUE"};function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:ZM(t)?9007199254740991:10:ee()}function jr(t,e){if(t===e)return!0;let n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zl(t).isEqual(zl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=wi(i.timestampValue),a=wi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return po(i.bytesValue).isEqual(po(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ut(i.geoPointValue.latitude)===ut(o.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ut(i.integerValue)===ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ut(i.doubleValue),a=ut(o.doubleValue);return s===a?Hl(s)===Hl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return _c(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Bx(s)!==Bx(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!jr(s[c],a[c])))return!1;return!0}(t,e);default:return ee()}}function Gl(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function mo(t,e){if(t===e)return 0;let n=Ts(t),r=Ts(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ut(o.integerValue||o.doubleValue),c=ut(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Ux(t.timestampValue,e.timestampValue);case 4:return Ux(zl(t),zl(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(o,s){let a=po(o),c=po(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=pe(a[l],c[l]);if(h!==0)return h}return pe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=pe(ut(o.latitude),ut(s.latitude));return a!==0?a:pe(ut(o.longitude),ut(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let h=mo(a[l],c[l]);if(h)return h}return pe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===uo.mapValue&&s===uo.mapValue)return 0;if(o===uo.mapValue)return 1;if(s===uo.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let g=0;g<c.length&&g<h.length;++g){let w=pe(c[g],h[g]);if(w!==0)return w;let E=mo(a[c[g]],l[h[g]]);if(E!==0)return E}return pe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function Ux(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);let n=wi(t),r=wi(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function bc(t){return sE(t)}function sE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=sE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${sE(n.fields[s])}`;return i+"}"}(t.mapValue):ee()}function As(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function aE(t){return!!t&&"integerValue"in t}function Wl(t){return!!t&&"arrayValue"in t}function $x(t){return!!t&&"nullValue"in t}function Hx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zp(t){return!!t&&"mapValue"in t}function Vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vl(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function z4(t){return"nullValue"in t?qp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?As(go.empty(),Q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ee()}function G4(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?As(go.empty(),Q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?uo:ee()}function qx(t,e){let n=mo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function zx(t,e){let n=mo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Jt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Vl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());zp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Vl(this.value))}};function JM(t){let e=[];return Vs(t.fields,(n,r)=>{let i=new mt([n]);if(zp(r)){let o=JM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Rn(e)}var At=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Br=class{constructor(e,n){this.position=e,this.inclusive=n}};function Gx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),n.key):r=mo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}var Ss=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function W4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ng=class{},Se=class t extends ng{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lE(e,n,r):n==="array-contains"?new fE(e,r):n==="in"?new rg(e,r):n==="not-in"?new pE(e,r):n==="array-contains-any"?new gE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dE(e,r):new hE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mo(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ue=class t extends ng{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Ic(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ic(t){return t.op==="and"}function cE(t){return t.op==="or"}function Qb(t){return XM(t)&&Ic(t)}function XM(t){for(let e of t.filters)if(e instanceof Ue)return!1;return!0}function uE(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+bc(t.value);if(Qb(t))return t.filters.map(e=>uE(e)).join(",");{let e=t.filters.map(n=>uE(n)).join(",");return`${t.op}(${e})`}}function eR(t,e){return t instanceof Se?function(r,i){return i instanceof Se&&r.op===i.op&&r.field.isEqual(i.field)&&jr(r.value,i.value)}(t,e):t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&eR(s,i.filters[a]),!0):!1}(t,e):void ee()}function tR(t,e){let n=t.filters.concat(e);return Ue.create(n,t.op)}function nR(t){return t instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${bc(n.value)}`}(t):t instanceof Ue?function(n){return n.op.toString()+" {"+n.getFilters().map(nR).join(" ,")+"}"}(t):"Filter"}var lE=class extends Se{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){let n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}},dE=class extends Se{constructor(e,n){super(e,"in",n),this.keys=rR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},hE=class extends Se{constructor(e,n){super(e,"not-in",n),this.keys=rR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function rR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}var fE=class extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Wl(n)&&Gl(n.arrayValue,this.value)}},rg=class extends Se{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}},pE=class extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Gl(this.value.arrayValue,n)}},gE=class extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Wl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}};var mE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function yE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new mE(t,e,n,r,i,o,s)}function xs(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bc(r)).join(",")),e.ue=n}return e.ue}function dd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!W4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wx(t.startAt,e.startAt)&&Wx(t.endAt,e.endAt)}function ig(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function og(t,e){return t.filters.filter(n=>n instanceof Se&&n.field.isEqual(e))}function Kx(t,e,n){let r=qp,i=!0;for(let o of og(t,e)){let s=qp,a=!0;switch(o.op){case"<":case"<=":s=z4(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=qp}qx({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];qx({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function Qx(t,e,n){let r=uo,i=!0;for(let o of og(t,e)){let s=uo,a=!0;switch(o.op){case">=":case">":s=G4(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=uo}zx({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];zx({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}var or=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function iR(t,e,n,r,i,o,s,a){return new or(t,e,n,r,i,o,s,a)}function Lc(t){return new or(t)}function Yx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yb(t){return t.collectionGroup!==null}function vc(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ge(mt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ss(o,r))}),n.has(mt.keyField().canonicalString())||e.ce.push(new Ss(mt.keyField(),r))}return e.ce}function ln(t){let e=Z(t);return e.le||(e.le=K4(e,vc(t))),e.le}function K4(t,e){if(t.limitType==="F")return yE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ss(i.field,o)});let n=t.endAt?new Br(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Br(t.startAt.position,t.startAt.inclusive):null;return yE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vE(t,e){let n=t.filters.concat([e]);return new or(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sg(t,e,n){return new or(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hd(t,e){return dd(ln(t),ln(e))&&t.limitType===e.limitType}function oR(t){return`${xs(ln(t))}|lt:${t.limitType}`}function hc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nR(i)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bc(i)).join(",")),`Target(${r})`}(ln(t))}; limitType=${t.limitType})`}function fd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of vc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=Gx(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,vc(r),i)||r.endAt&&!function(s,a,c){let l=Gx(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,vc(r),i))}(t,e)}function sR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aR(t){return(e,n)=>{let r=!1;for(let i of vc(t)){let o=Q4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q4(t,e,n){let r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?mo(c,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var Ur=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return QM(this.inner)}size(){return this.innerSize}};var Y4=new Ye(Q.comparator);function _n(){return Y4}var cR=new Ye(Q.comparator);function Ol(...t){let e=cR;for(let n of t)e=e.insert(n.key,n);return e}function uR(t){let e=cR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Or(){return Ll()}function lR(){return Ll()}function Ll(){return new Ur(t=>t.toString(),(t,e)=>t.isEqual(e))}var Z4=new Ye(Q.comparator),J4=new Ge(Q.comparator);function ge(...t){let e=J4;for(let n of t)e=e.add(n);return e}var X4=new Ge(pe);function Zb(){return X4}function dR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hl(e)?"-0":e}}function hR(t){return{integerValue:""+t}}function fR(t,e){return HM(e)?hR(e):dR(t,e)}var Dc=class{constructor(){this._=void 0}};function eH(t,e,n){return t instanceof yo?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zg(o)&&(o=Kb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof _i?gR(t,e):t instanceof Ei?mR(t,e):function(i,o){let s=pR(i,o),a=Zx(s)+Zx(i.Pe);return aE(s)&&aE(i.Pe)?hR(a):dR(i.serializer,a)}(t,e)}function tH(t,e,n){return t instanceof _i?gR(t,e):t instanceof Ei?mR(t,e):n}function pR(t,e){return t instanceof vo?function(r){return aE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var yo=class extends Dc{},_i=class extends Dc{constructor(e){super(),this.elements=e}};function gR(t,e){let n=yR(e);for(let r of t.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ei=class extends Dc{constructor(e){super(),this.elements=e}};function mR(t,e){let n=yR(e);for(let r of t.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}var vo=class extends Dc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Zx(t){return ut(t.integerValue||t.doubleValue)}function yR(t){return Wl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ms=class{constructor(e,n){this.field=e,this.transform=n}};function nH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _i&&i instanceof _i||r instanceof Ei&&i instanceof Ei?_c(r.elements,i.elements,jr):r instanceof vo&&i instanceof vo?jr(r.Pe,i.Pe):r instanceof yo&&i instanceof yo}(t.transform,e.transform)}var wE=class{constructor(e,n){this.version=e,this.transformResults=n}},lt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Cc=class{};function vR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _o(t.key,lt.none()):new wo(t.key,t.data,lt.none());{let n=t.data,r=Jt.empty(),i=new Ge(mt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new sr(t.key,r,new Rn(i.toArray()),lt.none())}}function rH(t,e,n){t instanceof wo?function(i,o,s){let a=i.value.clone(),c=Xx(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof sr?function(i,o,s){if(!Gp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Xx(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(wR(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function jl(t,e,n,r){return t instanceof wo?function(o,s,a,c){if(!Gp(o.precondition,s))return a;let l=o.value.clone(),h=eM(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof sr?function(o,s,a,c){if(!Gp(o.precondition,s))return a;let l=eM(o.fieldTransforms,c,s),h=s.data;return h.setAll(wR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,s,a){return Gp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function iH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=pR(r.transform,i||null);o!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,o))}return n||null}function Jx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_c(r,i,(o,s)=>nH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var wo=class extends Cc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},sr=class extends Cc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function wR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Xx(t,e,n){let r=new Map;re(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,tH(s,a,n[i]))}return r}function eM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,eH(o,s,e))}return r}var _o=class extends Cc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Kl=class extends Cc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ql=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&rH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=lR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=vR(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(n,r)=>Jx(n,r))&&_c(this.baseMutations,e.baseMutations,(n,r)=>Jx(n,r))}},_E=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){re(e.mutations.length===r.length);let i=function(){return Z4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Yl=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var EE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var It,Pe;function _R(t){switch(t){default:return ee();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function ER(t){if(t===void 0)return gt("GRPC error has no .code"),V.UNKNOWN;switch(t){case It.OK:return V.OK;case It.CANCELLED:return V.CANCELLED;case It.UNKNOWN:return V.UNKNOWN;case It.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case It.INTERNAL:return V.INTERNAL;case It.UNAVAILABLE:return V.UNAVAILABLE;case It.UNAUTHENTICATED:return V.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case It.NOT_FOUND:return V.NOT_FOUND;case It.ALREADY_EXISTS:return V.ALREADY_EXISTS;case It.PERMISSION_DENIED:return V.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case It.ABORTED:return V.ABORTED;case It.OUT_OF_RANGE:return V.OUT_OF_RANGE;case It.UNIMPLEMENTED:return V.UNIMPLEMENTED;case It.DATA_LOSS:return V.DATA_LOSS;default:return ee()}}(Pe=It||(It={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var tM=null;function bR(){return new TextEncoder}var oH=new io([4294967295,4294967295],0);function nM(t){let e=bR().encode(t),n=new F_;return n.update(e),new Uint8Array(n.digest())}function rM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new io([n,r],0),new io([i,o],0)]}var bE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ds(`Invalid padding: ${n}`);if(r<0)throw new Ds(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ds(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ds(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=io.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(io.fromNumber(r)));return i.compare(oH)===1&&(i=new io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=nM(e),[r,i]=rM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=nM(e),[r,i]=rM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ds=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Zl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ae.min(),i,new Ye(pe),_n(),ge())}},Jl=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var wc=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},ag=class{constructor(e,n){this.targetId=e,this.me=n}},cg=class{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ug=class{constructor(){this.fe=0,this.ge=oM(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Jl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=oM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},IE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=_n(),this.qe=iM(),this.Qe=new Ye(pe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(ig(o))if(r===0){let s=new Q(o.path);this.Ue(n,s,At.newNoDocument(s,ae.min()))}else re(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}tM?.et(function(h,g,w,E,S){var P,N,H,W,U,X;let ie={localCacheCount:h,existenceFilterCount:g.count,databaseId:w.database,projectId:w.projectId},oe=g.unchangedNames;return oe&&(ie.bloomFilter={applied:S===0,hashCount:(P=oe?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(W=(H=(N=oe?.bits)===null||N===void 0?void 0:N.bitmap)===null||H===void 0?void 0:H.length)!==null&&W!==void 0?W:0,padding:(X=(U=oe?.bits)===null||U===void 0?void 0:U.padding)!==null&&X!==void 0?X:0,mightContain:T=>{var I;return(I=E?.mightContain(T))!==null&&I!==void 0&&I}}),ie}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=po(r).toUint8Array()}catch(c){if(c instanceof tg)return Hn("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new bE(s,i,o)}catch(c){return Hn(c instanceof Ds?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&ig(a.target)){let c=new Q(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,At.newNoDocument(c,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=ge();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Zl(e,n,this.Qe,this.ke,r);return this.ke=_n(),this.qe=iM(),this.Qe=new Ye(pe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ug,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ge(pe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ug),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function iM(){return new Ye(Q.comparator)}function oM(){return new Ye(Q.comparator)}var sH={asc:"ASCENDING",desc:"DESCENDING"},aH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cH={and:"AND",or:"OR"},DE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function CE(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function Tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uH(t,e){return Tc(t,e.toTimestamp())}function yt(t){return re(!!t),ae.fromTimestamp(function(n){let r=wi(n);return new rt(r.seconds,r.nanos)}(t))}function Jb(t,e){return TE(t,e).canonicalString()}function TE(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DR(t){let e=ke.fromString(t);return re(kR(e)),e}function Xl(t,e){return Jb(t.databaseId,e.path)}function Vr(t,e){let n=DR(e);if(n.get(1)!==t.databaseId.projectId)throw new B(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(AR(n))}function CR(t,e){return Jb(t.databaseId,e)}function TR(t){let e=DR(t);return e.length===4?ke.emptyPath():AR(e)}function AE(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AR(t){return re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sM(t,e,n){return{name:Xl(t,e),fields:n.value.mapValue.fields}}function SR(t,e,n){let r=Vr(t,e.name),i=yt(e.updateTime),o=e.createTime?yt(e.createTime):ae.min(),s=new Jt({mapValue:{fields:e.fields}}),a=At.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function lH(t,e){return"found"in e?function(r,i){re(!!i.found),i.found.name,i.found.updateTime;let o=Vr(r,i.found.name),s=yt(i.found.updateTime),a=i.found.createTime?yt(i.found.createTime):ae.min(),c=new Jt({mapValue:{fields:i.found.fields}});return At.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){re(!!i.missing),re(!!i.readTime);let o=Vr(r,i.missing),s=yt(i.readTime);return At.newNoDocument(o,s)}(t,e):ee()}function dH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(re(h===void 0||typeof h=="string"),Ot.fromBase64String(h||"")):(re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ot.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?V.UNKNOWN:ER(l.code);return new B(h,l.message||"")}(s);n=new cg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Vr(t,r.document.name),o=yt(r.document.updateTime),s=r.document.createTime?yt(r.document.createTime):ae.min(),a=new Jt({mapValue:{fields:r.document.fields}}),c=At.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new wc(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Vr(t,r.document),o=r.readTime?yt(r.readTime):ae.min(),s=At.newNoDocument(i,o),a=r.removedTargetIds||[];n=new wc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Vr(t,r.document),o=r.removedTargetIds||[];n=new wc([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new EE(i,o),a=r.targetId;n=new ag(a,s)}}return n}function ed(t,e){let n;if(e instanceof wo)n={update:sM(t,e.key,e.value)};else if(e instanceof _o)n={delete:Xl(t,e.key)};else if(e instanceof sr)n={update:sM(t,e.key,e.data),updateMask:yH(e.fieldMask)};else{if(!(e instanceof Kl))return ee();n={verify:Xl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof yo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _i)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ei)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vo)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(t,e.precondition)),n}function SE(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?lt.updateTime(yt(o.updateTime)):o.exists!==void 0?lt.exists(o.exists):lt.none()}(e.currentDocument):lt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;if("setToServerValue"in a)re(a.setToServerValue==="REQUEST_TIME"),c=new yo;else if("appendMissingElements"in a){let h=a.appendMissingElements.values||[];c=new _i(h)}else if("removeAllFromArray"in a){let h=a.removeAllFromArray.values||[];c=new Ei(h)}else"increment"in a?c=new vo(s,a.increment):ee();let l=mt.fromServerFormat(a.fieldPath);return new Ms(l,c)}(t,i)):[];if(e.update){e.update.name;let i=Vr(t,e.update.name),o=new Jt({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let l=c.fieldPaths||[];return new Rn(l.map(h=>mt.fromServerFormat(h)))}(e.updateMask);return new sr(i,o,s,n,r)}return new wo(i,o,n,r)}if(e.delete){let i=Vr(t,e.delete);return new _o(i,n)}if(e.verify){let i=Vr(t,e.verify);return new Kl(i,n)}return ee()}function hH(t,e){return t&&t.length>0?(re(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?yt(i.updateTime):yt(o);return s.isEqual(ae.min())&&(s=yt(o)),new wE(s,i.transformResults||[])}(n,e))):[]}function xR(t,e){return{documents:[CR(t,e.path)]}}function MR(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CR(t,i);let o=function(l){if(l.length!==0)return PR(Ue.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(w){return{field:fc(w.field),direction:pH(w.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=CE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function RR(t){let e=TR(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){re(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(g){let w=NR(g);return w instanceof Ue&&Qb(w)?w.getFilters():[w]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(w=>function(S){return new Ss(pc(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let a=null;n.limit&&(a=function(g){let w;return w=typeof g=="object"?g.value:g,ld(w)?null:w}(n.limit));let c=null;n.startAt&&(c=function(g){let w=!!g.before,E=g.values||[];return new Br(E,w)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let w=!g.before,E=g.values||[];return new Br(E,w)}(n.endAt)),iR(e,i,s,o,a,"F",c,l)}function fH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=pc(n.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=pc(n.unaryFilter.field);return Se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=pc(n.unaryFilter.field);return Se.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=pc(n.unaryFilter.field);return Se.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Se.create(pc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ue.create(n.compositeFilter.filters.map(r=>NR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function pH(t){return sH[t]}function gH(t){return aH[t]}function mH(t){return cH[t]}function fc(t){return{fieldPath:t.canonicalString()}}function pc(t){return mt.fromServerFormat(t.fieldPath)}function PR(t){return t instanceof Se?function(n){if(n.op==="=="){if(Hx(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NAN"}};if($x(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hx(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NAN"}};if($x(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(n.field),op:gH(n.op),value:n.value}}}(t):t instanceof Ue?function(n){let r=n.getFilters().map(i=>PR(i));return r.length===1?r[0]:{compositeFilter:{op:mH(n.op),filters:r}}}(t):ee()}function yH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ac=class t{constructor(e,n,r,i,o=ae.min(),s=ae.min(),a=Ot.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var lg=class{constructor(e){this.ct=e}};function vH(t,e){let n;if(e.document)n=SR(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=Q.fromSegments(e.noDocument.path),i=Ns(e.noDocument.readTime);n=At.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee();{let r=Q.fromSegments(e.unknownDocument.path),i=Ns(e.unknownDocument.version);n=At.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let o=new rt(i[0],i[1]);return ae.fromTimestamp(o)}(e.readTime)),n}function aM(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:dg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Xl(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Tc(o,s.version.toTimestamp()),createTime:Tc(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Rs(e.version)};else{if(!e.isUnknownDocument())return ee();r.unknownDocument={path:n.path.toArray(),version:Rs(e.version)}}return r}function dg(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rs(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ns(t){let e=new rt(t.seconds,t.nanoseconds);return ae.fromTimestamp(e)}function Es(t,e){let n=(e.baseMutations||[]).map(o=>SE(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>SE(t.ct,o)),i=rt.fromMillis(e.localWriteTimeMs);return new Ql(e.batchId,i,n,r)}function Fl(t){let e=Ns(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ns(t.lastLimboFreeSnapshotVersion):ae.min(),r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return re(o.documents.length===1),ln(Lc(TR(o.documents[0])))}(t.query):function(o){return ln(RR(o))}(t.query),new Ac(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ot.fromBase64String(t.resumeToken))}function OR(t,e){let n=Rs(e.snapshotVersion),r=Rs(e.lastLimboFreeSnapshotVersion),i;i=ig(e.target)?xR(t.ct,e.target):MR(t.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xs(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Xb(t){let e=RR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sg(e,e.limit,"L"):e}function H_(t,e){return new Yl(e.largestBatchId,SE(t.ct,e.overlayMutation))}function cM(t,e){let n=e.path.lastSegment();return[t,un(e.path.popLast()),n]}function uM(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Rs(r.readTime),documentKey:un(r.documentKey.path),largestBatchId:r.largestBatchId}}var xE=class{getBundleMetadata(e,n){return lM(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Ns(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return lM(e).put(function(i){return{bundleId:i.id,createTime:Rs(yt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return dM(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:Xb(o.bundledQuery),readTime:Ns(o.readTime)}}(r)})}saveNamedQuery(e,n){return dM(e).put(function(i){return{name:i.name,readTime:Rs(yt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function lM(t){return Ft(t,"bundles")}function dM(t){return Ft(t,"namedQueries")}var hg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return Rl(e).get(cM(this.userId,n)).next(r=>r?H_(this.serializer,r):null)}getOverlays(e,n){let r=Or();return k.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((o,s)=>{let a=new Yl(n,s);i.push(this.ht(e,a))}),k.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(s=>i.add(un(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Rl(e).j("collectionPathOverlayIndex",a))}),k.waitFor(o)}getOverlaysForCollection(e,n,r){let i=Or(),o=un(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Rl(e).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=H_(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let o=Or(),s,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Rl(e).J({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{let g=H_(this.serializer,l);o.size()<i||g.largestBatchId===s?(o.set(g.getKey(),g),s=g.largestBatchId):h.done()}).next(()=>o)}ht(e,n){return Rl(e).put(function(i,o,s){let[a,c,l]=cM(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ed(i.ct,s.mutation)}}(this.serializer,this.userId,n))}};function Rl(t){return Ft(t,"documentOverlays")}var yi=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ut(e.integerValue));else if("doubleValue"in e){let r=ut(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Hl(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=wi(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(po(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?ZM(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ee()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Q.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};yi.bt=new yi;function wH(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function hM(t){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=wH(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}var ME=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{let i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{let i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){let n=this.Bt(e),r=hM(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){let n=this.Bt(e),r=hM(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},RE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},NE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},bs=class{constructor(){this.Gt=new ME,this.zt=new RE(this.Gt),this.jt=new NE(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Is=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function oo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=fM(t.arrayValue,e.arrayValue),n!==0?n:(n=fM(t.directionalValue,e.directionalValue),n!==0?n:Q.comparator(t.documentKey,e.documentKey)))}function fM(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var fg=class{constructor(e){this.Yt=new Ge((n,r)=>mt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(re(e.collectionGroup===this.collectionId),this.en)return!1;let n=eE(e);if(n!==void 0&&!this.nn(n))return!1;let r=ws(e),i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.rn(a,c)||!this.sn(this.Zt[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new Ge(mt.comparator),n=[];for(let r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new yc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new yc(r.field,0))}for(let r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new yc(r.field,r.dir==="asc"?0:1)));return new Ec(Ec.UNKNOWN_ID,this.collectionId,n,$l.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function FR(t){var e,n;if(re(t instanceof Se||t instanceof Ue),t instanceof Se){if(t instanceof rg){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Se.create(t.field,"==",o)))||[];return Ue.create(i,"or")}return t}let r=t.filters.map(i=>FR(i));return Ue.create(r,t.op)}function _H(t){if(t.getFilters().length===0)return[];let e=OE(FR(t));return re(VR(e)),PE(e)||kE(e)?[e]:e.getFilters()}function PE(t){return t instanceof Se}function kE(t){return t instanceof Ue&&Qb(t)}function VR(t){return PE(t)||kE(t)||function(n){if(n instanceof Ue&&cE(n)){for(let r of n.getFilters())if(!PE(r)&&!kE(r))return!1;return!0}return!1}(t)}function OE(t){if(re(t instanceof Se||t instanceof Ue),t instanceof Se)return t;if(t.filters.length===1)return OE(t.filters[0]);let e=t.filters.map(r=>OE(r)),n=Ue.create(e,t.op);return n=pg(n),VR(n)?n:(re(n instanceof Ue),re(Ic(n)),re(n.filters.length>1),n.filters.reduce((r,i)=>eI(r,i)))}function eI(t,e){let n;return re(t instanceof Se||t instanceof Ue),re(e instanceof Se||e instanceof Ue),n=t instanceof Se?e instanceof Se?function(i,o){return Ue.create([i,o],"and")}(t,e):pM(t,e):e instanceof Se?pM(e,t):function(i,o){if(re(i.filters.length>0&&o.filters.length>0),Ic(i)&&Ic(o))return tR(i,o.getFilters());let s=cE(i)?i:o,a=cE(i)?o:i,c=s.filters.map(l=>eI(l,a));return Ue.create(c,"or")}(t,e),pg(n)}function pM(t,e){if(Ic(e))return tR(e,t.getFilters());{let n=e.filters.map(r=>eI(t,r));return Ue.create(n,"or")}}function pg(t){if(re(t instanceof Se||t instanceof Ue),t instanceof Se)return t;let e=t.getFilters();if(e.length===1)return pg(e[0]);if(XM(t))return t;let n=e.map(i=>pg(i)),r=[];return n.forEach(i=>{i instanceof Se?r.push(i):i instanceof Ue&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ue.create(r,t.op)}var FE=class{constructor(){this._n=new td}addToCollectionParentIndex(e,n){return this._n.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(qn.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(qn.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},td=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(ke.comparator)).toArray()}};var jp=new Uint8Array(0),VE=class{constructor(e,n){this.databaseId=n,this.an=new td,this.un=new Ur(r=>xs(r),(r,i)=>dd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let o={collectionId:r,parent:un(i)};return gM(e).put(o)}return k.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[LM(n),""],!1,!0);return gM(e).U(i).next(o=>{for(let s of o){if(s.collectionId!==n)break;r.push(kr(s.parent))}return r})}addFieldIndex(e,n){let r=Nl(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let o=r.add(i);if(n.indexState){let s=uc(e);return o.next(a=>{s.put(uM(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let r=Nl(e),i=uc(e),o=cc(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=Nl(e),r=cc(e),i=uc(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return k.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new fg(r).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let r=cc(e),i=!0,o=new Map;return k.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=ge(),a=[];return k.forEach(o,(c,l)=>{$("IndexedDbIndexManager",`Using index ${function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map(X=>`${X.fieldPath}:${X.kind}`).join(",")}`}(c)} to execute ${xs(n)}`);let h=function(U,X){let ie=eE(X);if(ie===void 0)return null;for(let oe of og(U,ie.fieldPath))switch(oe.op){case"array-contains-any":return oe.value.arrayValue.values||[];case"array-contains":return[oe.value]}return null}(l,c),g=function(U,X){let ie=new Map;for(let oe of ws(X))for(let T of og(U,oe.fieldPath))switch(T.op){case"==":case"in":ie.set(oe.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return ie.set(oe.fieldPath.canonicalString(),T.value),Array.from(ie.values())}return null}(l,c),w=function(U,X){let ie=[],oe=!0;for(let T of ws(X)){let I=T.kind===0?Kx(U,T.fieldPath,U.startAt):Qx(U,T.fieldPath,U.startAt);ie.push(I.value),oe&&(oe=I.inclusive)}return new Br(ie,oe)}(l,c),E=function(U,X){let ie=[],oe=!0;for(let T of ws(X)){let I=T.kind===0?Qx(U,T.fieldPath,U.endAt):Kx(U,T.fieldPath,U.endAt);ie.push(I.value),oe&&(oe=I.inclusive)}return new Br(ie,oe)}(l,c),S=this.hn(c,l,w),P=this.hn(c,l,E),N=this.Pn(c,l,g),H=this.In(c.indexId,h,S,w.inclusive,P,E.inclusive,N);return k.forEach(H,W=>r.G(W,n.limit).next(U=>{U.forEach(X=>{let ie=Q.fromSegments(X.documentKey);s.has(ie)||(s=s.add(ie),a.push(ie))})}))}).next(()=>a)}return k.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=_H(Ue.create(e.filters,"and")).map(r=>yE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){let c=(n!=null?n.length:1)*Math.max(r.length,o.length),l=c/(n!=null?n.length:1),h=[];for(let g=0;g<c;++g){let w=n?this.Tn(n[g/l]):jp,E=this.En(e,w,r[g%l],i),S=this.dn(e,w,o[g%l],s),P=a.map(N=>this.En(e,w,N,!0));h.push(...this.createRange(E,S,P))}return h}En(e,n,r,i){let o=new Is(e,Q.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){let o=new Is(e,Q.empty(),n,r);return i?o.Jt():o}ln(e,n){let r=new fg(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2,i=this.cn(n);return k.forEach(i,o=>this.ln(e,o).next(s=>{s?r!==0&&s.fields.length<function(c){let l=new Ge(mt.comparator),h=!1;for(let g of c.filters)for(let w of g.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?h=!0:l=l.add(w.field));for(let g of c.orderBy)g.field.isKeyField()||(l=l.add(g.field));return l.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){let r=new bs;for(let i of ws(e)){let o=n.data.field(i.fieldPath);if(o==null)return null;let s=r.Ht(i.kind);yi.bt.Pt(o,s)}return r.Wt()}Tn(e){let n=new bs;return yi.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let r=new bs;return yi.bt.Pt(As(this.databaseId,n),r.Ht(function(o){let s=ws(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new bs);let o=0;for(let s of ws(e)){let a=r[o++];for(let c of i)if(this.Vn(n,s.fieldPath)&&Wl(a))i=this.mn(i,s,a);else{let l=c.Ht(s.kind);yi.bt.Pt(a,l)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new bs;c.seed(a.Wt()),yi.bt.Pt(s,c.Ht(n.kind)),o.push(c)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof Se&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=Nl(e),i=uc(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{let s=[];return k.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(h,g){let w=g?new $l(g.sequenceNumber,new qn(Ns(g.readTime),new Q(kr(g.documentKey)),g.largestBatchId)):$l.empty(),E=h.fields.map(([S,P])=>new yc(mt.fromServerFormat(S),P));return new Ec(h.indexId,h.collectionGroup,E,w)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:pe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=Nl(e),o=uc(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>k.forEach(a,c=>o.put(uM(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){let r=new Map;return k.forEach(n,(i,o)=>{let s=r.get(i.collectionGroup);return(s?k.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),k.forEach(a,c=>this.pn(e,i,c).next(l=>{let h=this.yn(o,c);return l.isEqual(h)?k.resolve():this.wn(e,o,c,l,h)}))))})}Sn(e,n,r,i){return cc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return cc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){let i=cc(e),o=new Ge(oo);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new Is(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new Ge(oo),i=this.An(n,e);if(i==null)return r;let o=eE(n);if(o!=null){let s=e.data.field(o.fieldPath);if(Wl(s))for(let a of s.arrayValue.values||[])r=r.add(new Is(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Is(n.indexId,e.key,jp,i));return r}wn(e,n,r,i,o){$("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,l,h,g,w){let E=c.getIterator(),S=l.getIterator(),P=ac(E),N=ac(S);for(;P||N;){let H=!1,W=!1;if(P&&N){let U=h(P,N);U<0?W=!0:U>0&&(H=!0)}else P!=null?W=!0:H=!0;H?(g(N),N=ac(S)):W?(w(P),P=ac(E)):(P=ac(E),N=ac(S))}}(i,o,oo,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),k.waitFor(s)}gn(e){let n=1;return uc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>oo(s,a)).filter((s,a,c)=>!a||oo(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=oo(s,e),c=oo(s,n);if(a===0)i[0]=e.Jt();else if(a>0&&c<0)i.push(s),i.push(s.Jt());else if(c>0)break}i.push(n);let o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,jp,[]],c=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,jp,[]];o.push(IDBKeyRange.bound(a,c))}return o}Dn(e,n){return oo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(mM)}getMinOffset(e,n){return k.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||ee())).next(mM)}};function gM(t){return Ft(t,"collectionParents")}function cc(t){return Ft(t,"indexEntries")}function Nl(t){return Ft(t,"indexConfiguration")}function uc(t){return Ft(t,"indexState")}function mM(t){re(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;Gb(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new qn(e.readTime,e.documentKey,n)}var yM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$n=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function LR(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.J({range:s},(h,g,w)=>(a++,w.delete()));o.push(c.next(()=>{re(a===1)}));let l=[];for(let h of n.mutations){let g=qM(e,h.key.path,n.batchId);o.push(i.delete(g)),l.push(h.key)}return k.waitFor(o).next(()=>l)}function gg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ee();e=t.noDocument}return JSON.stringify(e).length}$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(41943040,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);var mg=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){re(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return so(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let o=gc(e),s=so(e);return s.add({}).next(a=>{re(typeof a=="number");let c=new Ql(a,n,r,i),l=function(E,S,P){let N=P.baseMutations.map(W=>ed(E.ct,W)),H=P.mutations.map(W=>ed(E.ct,W));return{userId:S,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:N,mutations:H}}(this.serializer,this.userId,c),h=[],g=new Ge((w,E)=>pe(w.canonicalString(),E.canonicalString()));for(let w of i){let E=qM(this.userId,w.key.path,a);g=g.add(w.key.path.popLast()),h.push(s.put(l)),h.push(o.put(E,A4))}return g.forEach(w=>{h.push(this.indexManager.addToCollectionParentIndex(e,w))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),k.waitFor(h).next(()=>c)})}lookupMutationBatch(e,n){return so(e).get(n).next(r=>r?(re(r.userId===this.userId),Es(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?k.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return so(e).J({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(re(a.batchId>=r),o=Es(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return so(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return so(e).U("userMutationsIndex",n).next(r=>r.map(i=>Es(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=Hp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return gc(e).J({range:i},(s,a,c)=>{let[l,h,g]=s,w=kr(h);if(l===this.userId&&n.path.isEqual(w))return so(e).get(g).next(E=>{if(!E)throw ee();re(E.userId===this.userId),o.push(Es(this.serializer,E))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(pe),i=[];return n.forEach(o=>{let s=Hp(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=gc(e).J({range:a},(l,h,g)=>{let[w,E,S]=l,P=kr(E);w===this.userId&&o.path.isEqual(P)?r=r.add(S):g.done()});i.push(c)}),k.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=Hp(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ge(pe);return gc(e).J({range:s},(c,l,h)=>{let[g,w,E]=c,S=kr(w);g===this.userId&&r.isPrefixOf(S)?S.length===i&&(a=a.add(E)):h.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let r=[],i=[];return n.forEach(o=>{i.push(so(e).get(o).next(s=>{if(s===null)throw ee();re(s.userId===this.userId),r.push(Es(this.serializer,s))}))}),k.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return LR(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),k.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return k.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return gc(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=kr(o[1]);i.push(c)}else a.done()}).next(()=>{re(i.length===0)})})}containsKey(e,n){return jR(e,this.userId,n)}xn(e){return BR(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function jR(t,e,n){let r=Hp(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return gc(t).J({range:o,H:!0},(a,c,l)=>{let[h,g,w]=a;h===e&&g===i&&(s=!0),l.done()}).next(()=>s)}function so(t){return Ft(t,"mutations")}function gc(t){return Ft(t,"documentMutations")}function BR(t){return Ft(t,"mutationQueues")}var Sc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var LE=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new Sc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ae.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>lc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(re(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0,o=[];return lc(e).J((s,a)=>{let c=Fl(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>k.waitFor(o)).next(()=>i)}forEachTarget(e,n){return lc(e).J((r,i)=>{let o=Fl(i);n(o)})}Bn(e){return vM(e).get("targetGlobalKey").next(n=>(re(n!==null),n))}kn(e,n){return vM(e).put("targetGlobalKey",n)}qn(e,n){return lc(e).put(OR(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=xs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return lc(e).J({range:i,index:"queryTargetsIndex"},(s,a,c)=>{let l=Fl(a);dd(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){let i=[],o=ao(e);return n.forEach(s=>{let a=un(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),k.waitFor(i)}removeMatchingKeys(e,n,r){let i=ao(e);return k.forEach(n,o=>{let s=un(o.path);return k.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){let r=ao(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ao(e),o=ge();return i.J({range:r,H:!0},(s,a,c)=>{let l=kr(s[1]),h=new Q(l);o=o.add(h)}).next(()=>o)}containsKey(e,n){let r=un(n.path),i=IDBKeyRange.bound([r],[LM(r)],!1,!0),o=0;return ao(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}ot(e,n){return lc(e).get(n).next(r=>r?Fl(r):null)}};function lc(t){return Ft(t,"targets")}function vM(t){return Ft(t,"targetGlobal")}function ao(t){return Ft(t,"targetDocuments")}function wM([t,e],[n,r]){let i=pe(t,n);return i===0?pe(e,r):i}var jE=class{constructor(e){this.Kn=e,this.buffer=new Ge(wM),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();wM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},BE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){$("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>L(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield bo(n)}yield this.zn(3e5)}))}},UE=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return k.resolve(Mn.oe);let r=new jE(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(yM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yM):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),dc()<=yr.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${g} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function EH(t,e){return new UE(t,e)}var $E=class{constructor(e,n){this.db=e,this.garbageCollector=EH(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Bp(e,r)}removeReference(e,n,r){return Bp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Bp(e,n)}er(e,n){return function(i,o){let s=!1;return BR(i).Y(a=>jR(i,a,o).next(c=>(c&&(s=!0),k.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Xn(e,(s,a)=>{if(a<=n){let c=this.er(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ae.min()),ao(e).delete(function(g){return[0,un(g.path)]}(s))))});i.push(c)}}).next(()=>k.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Bp(e,n)}Xn(e,n){let r=ao(e),i,o=Mn.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==Mn.oe&&n(new Q(kr(i)),o),o=l,i=c):o=Mn.oe}).next(()=>{o!==Mn.oe&&n(new Q(kr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Bp(t,e){return ao(t).put(function(r,i){return{targetId:0,path:un(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var yg=class{constructor(){this.changes=new Ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var HE=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return vs(e).put(r)}removeEntry(e,n,r){return vs(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],dg(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=At.newInvalidDocument(n);return vs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Pl(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:At.newInvalidDocument(n)};return vs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Pl(n))},(i,o)=>{r={document:this.nr(n,o),size:gg(o)}}).next(()=>r)}getEntries(e,n){let r=_n();return this.ir(e,n,(i,o)=>{let s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=_n(),i=new Ye(Q.comparator);return this.ir(e,n,(o,s)=>{let a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,gg(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return k.resolve();let i=new Ge(bM);n.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(Pl(i.first()),Pl(i.last())),s=i.getIterator(),a=s.getNext();return vs(e).J({index:"documentKeyIndex",range:o},(c,l,h)=>{let g=Q.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&bM(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.$(Pl(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),dg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vs(e).U(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=_n();for(let g of l){let w=this.nr(Q.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);w.isFoundDocument()&&(fd(n,w)||i.has(w.key))&&(h=h.insert(w.key,w))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=_n(),s=EM(n,r),a=EM(n,qn.max());return vs(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{let g=this.nr(Q.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(g.key,g),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new qE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return _M(e).get("remoteDocumentGlobalKey").next(n=>(re(!!n),n))}tr(e,n){return _M(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let r=vH(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ae.min())))return r}return At.newInvalidDocument(e)}};function UR(t){return new HE(t)}var qE=class extends yg{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Ur(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new Ge((o,s)=>pe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=aM(this.ar.serializer,s);i=i.add(o.path.popLast());let l=gg(c);r+=l-a.size,n.push(this.ar.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=aM(this.ar.serializer,s.convertToNoDocument(ae.min()));n.push(this.ar.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),k.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function _M(t){return Ft(t,"remoteDocumentGlobal")}function vs(t){return Ft(t,"remoteDocumentsV14")}function Pl(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function EM(t,e){let n=e.documentKey.path.toArray();return[t,dg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bM(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=pe(n[o],r[o]),i)return i;return i=pe(n.length,r.length),i||(i=pe(n[n.length-2],r[r.length-2]),i||pe(n[n.length-1],r[r.length-1]))}var zE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var vg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jl(r.mutation,i,Rn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=Or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ol();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=_n(),s=Ll(),a=function(){return Ll()}();return n.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof sr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),jl(h.mutation,l,h.mutation.getFieldMask(),rt.now())):s.set(l.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var g;return a.set(l,new zE(h,(g=s.get(l))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ll(),i=new Ye((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let h=r.get(c)||Rn.empty();h=a.applyToLocalView(l,h),r.set(c,h);let g=(i.get(a.batchId)||ge()).add(c);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,g=lR();h.forEach(w=>{if(!o.has(w)){let E=vR(n.get(w),r.get(w));E!==null&&g.set(w,E),o=o.add(w)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):k.resolve(Or()),a=-1,c=o;return s.next(l=>k.forEach(l,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(w=>{c=c.insert(h,w)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ge())).next(h=>({batchId:a,changes:uR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ol();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,c=>{let l=function(g,w){return new or(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((g,w)=>{s=s.insert(g,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,At.newInvalidDocument(h)))});let a=Ol();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&jl(h.mutation,l,Rn.empty(),rt.now()),fd(n,l)&&(a=a.insert(c,l))}),a})}};var GE=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return k.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yt(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Xb(i.bundledQuery),readTime:yt(i.readTime)}}(n)),k.resolve()}};var WE=class{constructor(){this.overlays=new Ye(Q.comparator),this.hr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Or();return k.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),k.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){let i=Or(),o=n.length+1,s=new Q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ye((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Or(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Or(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Yl(n,r));let o=this.hr.get(n);o===void 0&&(o=ge(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var nd=class{constructor(){this.Pr=new Ge(Dt.Ir),this.Tr=new Ge(Dt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Dt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Dt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new Q(new ke([])),r=new Dt(n,e),i=new Dt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new Q(new ke([])),r=new Dt(n,e),i=new Dt(n,e+1),o=ge();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Dt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Dt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Q.comparator(e.key,n.key)||pe(e.pr,n.pr)}static Er(e,n){return pe(e.pr,n.pr)||Q.comparator(e.key,n.key)}};var KE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ge(Dt.Ir)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ql(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new Dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,n){return k.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(pe);return n.forEach(i=>{let o=new Dt(i,0),s=new Dt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),k.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Q.isDocumentKey(o)||(o=o.child(""));let s=new Dt(new Q(o),0),a=new Ge(pe);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},s),k.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){re(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return k.forEach(n.mutations,i=>{let o=new Dt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Dt(n,0),i=this.wr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var QE=class{constructor(e){this.vr=e,this.docs=function(){return new Ye(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=_n();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():At.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=_n(),s=n.path,a=new Q(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Gb(BM(h),r)<=0||(i.has(h.key)||fd(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ee()}Fr(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YE(this)}getSize(e){return k.resolve(this.size)}},YE=class extends yg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var ZE=class{constructor(e){this.persistence=e,this.Mr=new Ur(n=>xs(n),dd),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Or=0,this.Nr=new nd,this.targetCount=0,this.Lr=Sc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),k.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Sc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.qn(n),k.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),k.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Nr.containsKey(n))}};var wg=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Mn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ZE(this),this.indexManager=new FE,this.remoteDocumentCache=function(i){return new QE(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new lg(n),this.$r=new GE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new KE(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new JE(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return k.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},JE=class extends Jp{constructor(e){super(),this.currentSequenceNumber=e}},_g=class t{constructor(e){this.persistence=e,this.zr=new nd,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw ee()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),k.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Jr,r=>{let i=Q.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return k.or([()=>k.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var XE=class{constructor(e){this.serializer=e}O(e,n,r,i){let o=new Xp("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jx,{unique:!0}),c.createObjectStore("documentMutations")}(e),IM(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=k.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),IM(e)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ae.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").U().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jx,{unique:!0});let g=l.store("mutations"),w=h.map(E=>g.put(E));return k.waitFor(w)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:j4});l.createIndex("collectionPathOverlayIndex",B4,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",U4,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:S4});l.createIndex("documentKeyIndex",x4),l.createIndex("collectionGroupIndex",M4)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:O4}).createIndex("sequenceNumberIndex",F4,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:V4}).createIndex("documentKeyIndex",L4,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),s}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=gg(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>k.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>k.forEach(a,c=>{re(c.userId===o.userId);let l=Es(this.serializer,c);return LR(e,o.userId,l).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.J((s,a)=>{let c=new ke(s),l=function(g){return[0,un(g)]}(c);o.push(n.get(l).next(h=>h?k.resolve():(g=>n.put({targetId:0,path:un(g),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>k.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:k4});let r=n.store("collectionParents"),i=new td,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:un(c)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new ke(s);return o(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,c],l)=>{let h=kr(a);return o(h.popLast())}))}ri(e){let n=e.store("targets");return n.J((r,i)=>{let o=Fl(i),s=OR(this.serializer,o);return n.put(s)})}ii(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(g){return g.document?new Q(ke.fromString(g.document.name).popFirst(5)):g.noDocument?Q.fromSegments(g.noDocument.path):g.unknownDocument?Q.fromSegments(g.unknownDocument.path):ee()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(l))}).next(()=>k.waitFor(i))}si(e,n){let r=n.store("mutations"),i=UR(this.serializer),o=new wg(_g.Hr,this.serializer.ct);return r.U().next(s=>{let a=new Map;return s.forEach(c=>{var l;let h=(l=a.get(c.userId))!==null&&l!==void 0?l:ge();Es(this.serializer,c).keys().forEach(g=>h=h.add(g)),a.set(c.userId,h)}),k.forEach(a,(c,l)=>{let h=new Ct(l),g=hg.lt(this.serializer,h),w=o.getIndexManager(h),E=mg.lt(h,this.serializer,w,o.referenceDelegate);return new vg(i,E,g,w).recalculateAndSaveOverlaysForDocumentKeys(new ql(n,Mn.oe),c).next()})})}};function IM(t){t.createObjectStore("targetDocuments",{keyPath:N4}).createIndex("documentTargetsIndex",P4,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",R4,{unique:!0}),t.createObjectStore("targetGlobal")}var q_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eb=class t{constructor(e,n,r,i,o,s,a,c,l,h,g=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=l,this.ai=h,this.ui=g,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=w=>Promise.resolve(),!t.D())throw new B(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $E(this,i),this.Ti=n+"main",this.serializer=new lg(c),this.Ei=new fo(this.Ti,this.ui,new XE(this.serializer)),this.Qr=new LE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=UR(this.serializer),this.$r=new xE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,h===!1&&gt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new B(V.FAILED_PRECONDITION,q_);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Mn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>L(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>L(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>L(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Up(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Io(e))return $("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return kl(e).get("owner").next(n=>k.resolve(this.Si(n)))}bi(e){return Up(e).delete(this.clientId)}Di(){return L(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=Ft(n,"clientMetadata");return r.U().next(i=>{let o=this.vi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return k.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?k.resolve(!0):kl(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new B(V.FAILED_PRECONDITION,q_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Up(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&$("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return L(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new ql(e,Mn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Up(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return mg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new VE(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return hg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){$("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",o=function(c){return c===16?H4:c===15?KM:c===14?WM:c===13?GM:c===12?$4:c===11?zM:void ee()}(this.ui),s;return this.Ei.runTransaction(e,i,o,a=>(s=new ql(a,this.kr?this.kr.next():Mn.oe),n==="readwrite-primary"?this.gi(s).next(c=>!!c||this.pi(s)).next(c=>{if(!c)throw gt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new B(V.FAILED_PRECONDITION,UM);return r(s)}).next(c=>this.wi(s).next(()=>c)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return kl(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new B(V.FAILED_PRECONDITION,q_)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kl(e).put("owner",n)}static D(){return fo.D()}yi(e){let n=kl(e);return n.get("owner").next(r=>this.Si(r)?($("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):k.resolve())}Ci(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(gt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;Um()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return $("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){gt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function kl(t){return Ft(t,"owner")}function Up(t){return Ft(t,"clientMetadata")}function tI(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var tb=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ge(),i=ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var nb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Eg=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Um()?8:$M(Du())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new nb;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(dc()<=yr.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),k.resolve()):(dc()<=yr.DEBUG&&$("QueryEngine","Query:",hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(dc()<=yr.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ln(n))):k.resolve())}ji(e,n){if(Yx(n))return k.resolve(null);let r=ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sg(n,null,"F"),r=ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,s,c.readTime)?this.ji(e,sg(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,r,i){return Yx(n)||i.isEqual(ae.min())?k.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?k.resolve(null):(dc()<=yr.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.es(e,s,n,jM(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ge(aR(e));return n.forEach((i,o)=>{fd(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return dc()<=yr.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",hc(n)),this.zi.getDocumentsMatchingQuery(e,n,qn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var rb=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ye(pe),this.rs=new Ur(o=>xs(o),dd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function $R(t,e,n,r){return new rb(t,e,n,r)}function HR(t,e){return L(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})}function bH(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let g=l.batch,w=g.keys(),E=k.resolve();return w.forEach(S=>{E=E.next(()=>h.getEntry(c,S)).next(P=>{let N=l.docVersions.get(S);re(N!==null),P.version.compareTo(N)<0&&(g.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(c,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qR(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function IH(t,e){let n=Z(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((h,g)=>{let w=i.get(g);if(!w)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,g)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Ot.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(g,E),function(P,N,H){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,E,h)&&a.push(n.Qr.updateTargetData(o,E))});let c=_n(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(zR(o,s,e.documentUpdates).next(h=>{c=h.cs,l=h.ls})),!r.isEqual(ae.min())){let h=n.Qr.getLastRemoteSnapshotVersion(o).next(g=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ns=i,o))}function zR(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=_n();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:s,ls:i}})}function DH(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xc(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Ac(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Mc(t,e,n){return L(this,null,function*(){let r=Z(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Io(s))throw s;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function bg(t,e,n){let r=Z(t),i=ae.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let g=Z(c),w=g.rs.get(h);return w!==void 0?k.resolve(g.ns.get(w)):g.Qr.getTargetData(l,h)}(r,s,ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?o:ge())).next(a=>(KR(r,sR(e),a),{documents:a,hs:o})))}function GR(t,e){let n=Z(t),r=Z(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function WR(t,e){let n=Z(t),r=n.ss.get(e)||ae.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,jM(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(KR(n,e,i),i))}function KR(t,e,n){let r=t.ss.get(e)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function CH(t,e,n,r){return L(this,null,function*(){let i=Z(t),o=ge(),s=_n();for(let l of n){let h=e.Ps(l.metadata.name);l.document&&(o=o.add(h));let g=e.Is(l);g.setReadTime(e.Ts(l.metadata.readTime)),s=s.insert(h,g)}let a=i.os.newChangeBuffer({trackRemovals:!0}),c=yield xc(i,function(h){return ln(Lc(ke.fromString(`__bundle__/docs/${h}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>zR(l,a,s).next(h=>(a.apply(l),h)).next(h=>i.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.Qr.addMatchingKeys(l,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,h.cs,h.ls)).next(()=>h.cs)))})}function TH(r,i){return L(this,arguments,function*(t,e,n=ge()){let o=yield xc(t,ln(Xb(e.bundledQuery))),s=Z(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=yt(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.$r.saveNamedQuery(a,e);let l=o.withResumeToken(Ot.EMPTY_BYTE_STRING,c);return s.ns=s.ns.insert(l.targetId,l),s.Qr.updateTargetData(a,l).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.$r.saveNamedQuery(a,e))})})}function DM(t,e){return`firestore_clients_${t}_${e}`}function CM(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function z_(t,e){return`firestore_targets_${t}_${e}`}var Ig=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new B(i.error.code,i.error.message))),s?new t(e,n,i.state,o):(gt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Bl=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){let r=JSON.parse(n),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new B(r.error.code,r.error.message))),o?new t(e,r.state,i):(gt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Dg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Zb();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=HM(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(gt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},ib=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(gt("SharedClientState",`Failed to parse online state: ${e}`),null)}},rd=class{constructor(){this.activeTargetIds=Zb()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Ul=class{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ye(pe),this.started=!1,this.ys=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=DM(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new rd),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return L(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Vs)continue;let i=this.getItem(DM(this.persistenceKey,r));if(i){let o=Dg.Es(r,i);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let r=this.xs(n);r&&this.Os(r)}for(let r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(z_(this.persistenceKey,e));if(r){let i=Bl.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(z_(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return $("SharedClientState","READ",e,n),n}setItem(e,n){$("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){$("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if($("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void gt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>L(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let r=this.$s(n.key);return this.Us(r,null)}{let r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){let r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){let r=function(o){let s=Mn.oe;if(o!=null)try{let a=JSON.parse(o);re(typeof a=="number"),s=a}catch(a){gt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==Mn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){let r=this.Js(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){let i=new Ig(this.currentUser,e,n,r),o=CM(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){let n=CM(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){let i=z_(this.persistenceKey,e),o=new Bl(e,n,r);this.setItem(i,o.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let r=this.$s(e);return Dg.Es(r,n)}Gs(e,n){let r=this.Ds.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Ig.Es(new Ct(o),i,n)}js(e,n){let r=this.Cs.exec(e),i=Number(r[1]);return Bl.Es(i,n)}xs(e){return ib.Es(e)}Js(e){return JSON.parse(e)}zs(e){return L(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);$("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=Zb();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Cg=class{constructor(){this.no=new rd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new rd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ob=class{io(e){}shutdown(){}};var Tg=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $p=null;function G_(){return $p===null?$p=function(){return 268435456+Math.round(2147483648*Math.random())}():$p++,"0x"+$p.toString(16)}var AH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var sb=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Zt="WebChannelConnection",ab=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){let a=G_(),c=this.vo(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,o,s),this.Mo(n,c,l,i).then(h=>($("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Hn("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){let i=AH[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let o=G_();return new Promise((s,a)=>{let c=new V_;c.setWithCredentials(!0),c.listenOnce(j_.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ml.NO_ERROR:let h=c.getResponseJson();$(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Ml.TIMEOUT:$(Zt,`RPC '${e}' ${o} timed out`),a(new B(V.DEADLINE_EXCEEDED,"Request time out"));break;case Ml.HTTP_ERROR:let g=c.getStatus();if($(Zt,`RPC '${e}' ${o} failed with status:`,g,"response text:",c.getResponseText()),g>0){let w=c.getResponseJson();Array.isArray(w)&&(w=w[0]);let E=w?.error;if(E&&E.status&&E.message){let S=function(N){let H=N.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(H)>=0?H:V.UNKNOWN}(E.status);a(new B(S,E.message))}else a(new B(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new B(V.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{$(Zt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);$(Zt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=G_(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$_(),a=U_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new L_({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let h=o.join("");$(Zt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let g=s.createWebChannel(h,c),w=!1,E=!1,S=new sb({lo:N=>{E?$(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(w||($(Zt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),w=!0),$(Zt,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},ho:()=>g.close()}),P=(N,H,W)=>{N.listen(H,U=>{try{W(U)}catch(X){setTimeout(()=>{throw X},0)}})};return P(g,sc.EventType.OPEN,()=>{E||($(Zt,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),P(g,sc.EventType.CLOSE,()=>{E||(E=!0,$(Zt,`RPC '${e}' stream ${i} transport closed`),S.po())}),P(g,sc.EventType.ERROR,N=>{E||(E=!0,Hn(Zt,`RPC '${e}' stream ${i} transport errored:`,N),S.po(new B(V.UNAVAILABLE,"The operation could not be completed")))}),P(g,sc.EventType.MESSAGE,N=>{var H;if(!E){let W=N.data[0];re(!!W);let U=W,X=U.error||((H=U[0])===null||H===void 0?void 0:H.error);if(X){$(Zt,`RPC '${e}' stream ${i} received error:`,X);let ie=X.status,oe=function(C){let A=It[C];if(A!==void 0)return ER(A)}(ie),T=X.message;oe===void 0&&(oe=V.INTERNAL,T="Unknown error status: "+ie+" with message "+X.message),E=!0,S.po(new B(oe,T)),g.close()}else $(Zt,`RPC '${e}' stream ${i} received:`,W),S.yo(W)}}),P(a,B_.STAT_EVENT,N=>{N.stat===Lp.PROXY?$(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Lp.NOPROXY&&$(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}};function QR(){return typeof window<"u"?window:null}function Wp(){return typeof document<"u"?document:null}function pd(t){return new DE(t,!0)}var id=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Ag=class{constructor(e,n,r,i,o,s,a,c){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new id(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return L(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return L(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return L(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(gt(n.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new B(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>L(this,null,function*(){this.state=0,this.start()}))}c_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},cb=class extends Ag{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=dH(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?yt(s.readTime):ae.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=AE(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=ig(c)?{documents:xR(o,c)}:{query:MR(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=IR(o,s.resumeToken);let l=CE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=Tc(o,s.snapshotVersion.toTimestamp());let l=CE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=fH(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=AE(this.serializer),n.removeTarget=e,this.i_(n)}},ub=class extends Ag{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=hH(e.writeResults,e.commitTime),r=yt(e.commitTime);return this.listener.A_(r,n)}return re(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=AE(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>ed(this.serializer,r))};this.i_(n)}};var lb=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new B(V.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,TE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(V.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,TE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(V.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},db=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(gt(n),this.y_=!1):$("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var hb=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(()=>L(this,null,function*(){Do(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(c){return L(this,null,function*(){let l=Z(c);l.M_.add(4),yield jc(l),l.N_.set("Unknown"),l.M_.delete(4),yield gd(l)})}(this))}))}),this.N_=new db(r,i)}};function gd(t){return L(this,null,function*(){if(Do(t))for(let e of t.x_)yield e(!0)})}function jc(t){return L(this,null,function*(){for(let e of t.x_)yield e(!1)})}function Gg(t,e){let n=Z(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),iI(n)?rI(n):Uc(n).Xo()&&nI(n,e))}function Rc(t,e){let n=Z(t),r=Uc(n);n.F_.delete(e),r.Xo()&&YR(n,e),n.F_.size===0&&(r.Xo()?r.n_():Do(n)&&n.N_.set("Unknown"))}function nI(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uc(t).P_(e)}function YR(t,e){t.L_.xe(e),Uc(t).I_(e)}function rI(t){t.L_=new IE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Uc(t).start(),t.N_.w_()}function iI(t){return Do(t)&&!Uc(t).Zo()&&t.F_.size>0}function Do(t){return Z(t).M_.size===0}function ZR(t){t.L_=void 0}function SH(t){return L(this,null,function*(){t.N_.set("Online")})}function xH(t){return L(this,null,function*(){t.F_.forEach((e,n)=>{nI(t,e)})})}function MH(t,e){return L(this,null,function*(){ZR(t),iI(t)?(t.N_.D_(e),rI(t)):t.N_.set("Unknown")})}function RH(t,e,n){return L(this,null,function*(){if(t.N_.set("Online"),e instanceof cg&&e.state===2&&e.cause)try{yield function(i,o){return L(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sg(t,r)}else if(e instanceof wc?t.L_.Ke(e):e instanceof ag?t.L_.He(e):t.L_.We(e),!n.isEqual(ae.min()))try{let r=yield qR(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.F_.get(l);h&&o.F_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.F_.get(c);if(!h)return;o.F_.set(c,h.withResumeToken(Ot.EMPTY_BYTE_STRING,h.snapshotVersion)),YR(o,c);let g=new Ac(h.target,c,l,h.sequenceNumber);nI(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){$("RemoteStore","Failed to raise snapshot:",r),yield Sg(t,r)}})}function Sg(t,e,n){return L(this,null,function*(){if(!Io(e))throw e;t.M_.add(1),yield jc(t),t.N_.set("Offline"),n||(n=()=>qR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>L(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield gd(t)}))})}function JR(t,e){return e().catch(n=>Sg(t,n,e))}function Bc(t){return L(this,null,function*(){let e=Z(t),n=Eo(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;NH(e);)try{let i=yield DH(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,PH(e,i)}catch(i){yield Sg(e,i)}XR(e)&&eN(e)})}function NH(t){return Do(t)&&t.v_.length<10}function PH(t,e){t.v_.push(e);let n=Eo(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function XR(t){return Do(t)&&!Eo(t).Zo()&&t.v_.length>0}function eN(t){Eo(t).start()}function kH(t){return L(this,null,function*(){Eo(t).V_()})}function OH(t){return L(this,null,function*(){let e=Eo(t);for(let n of t.v_)e.d_(n.mutations)})}function FH(t,e,n){return L(this,null,function*(){let r=t.v_.shift(),i=_E.from(r,e,n);yield JR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Bc(t)})}function VH(t,e){return L(this,null,function*(){e&&Eo(t).E_&&(yield function(r,i){return L(this,null,function*(){if(function(s){return _R(s)&&s!==V.ABORTED}(i.code)){let o=r.v_.shift();Eo(r).t_(),yield JR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Bc(r)}})}(t,e)),XR(t)&&eN(t)})}function TM(t,e){return L(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let r=Do(n);n.M_.add(3),yield jc(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield gd(n)})}function fb(t,e){return L(this,null,function*(){let n=Z(t);e?(n.M_.delete(2),yield gd(n)):e||(n.M_.add(2),yield jc(n),n.N_.set("Unknown"))})}function Uc(t){return t.B_||(t.B_=function(n,r,i){let o=Z(n);return o.f_(),new cb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:SH.bind(null,t),To:xH.bind(null,t),Ao:MH.bind(null,t),h_:RH.bind(null,t)}),t.x_.push(e=>L(this,null,function*(){e?(t.B_.t_(),iI(t)?rI(t):t.N_.set("Unknown")):(yield t.B_.stop(),ZR(t))}))),t.B_}function Eo(t){return t.k_||(t.k_=function(n,r,i){let o=Z(n);return o.f_(),new ub(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:kH.bind(null,t),Ao:VH.bind(null,t),R_:OH.bind(null,t),A_:FH.bind(null,t)}),t.x_.push(e=>L(this,null,function*(){e?(t.k_.t_(),yield Bc(t)):(yield t.k_.stop(),t.v_.length>0&&($("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var pb=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $c(t,e){if(gt("AsyncQueue",`${e}: ${t}`),Io(t))return new B(V.UNAVAILABLE,`${e}: ${t}`);throw t}var xg=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Ol(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Mg=class{constructor(){this.q_=new Ye(Q.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ee():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},Nc=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,xg.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var gb=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},mb=class{constructor(){this.queries=new Ur(e=>oR(e),hd),this.onlineState="Unknown",this.z_=new Set}};function oI(t,e){return L(this,null,function*(){let n=Z(t),r=3,i=e.query,o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new gb,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield n.onListen(i,!0);break;case 1:o.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=$c(s,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&aI(n)})}function sI(t,e){return L(this,null,function*(){let n=Z(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function LH(t,e){let n=Z(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&aI(n)}function jH(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let o of i.U_)o.onError(n);r.queries.delete(e)}function aI(t){t.z_.forEach(e=>{e.next()})}var yb,AM;(AM=yb||(yb={})).J_="default",AM.Cache="cache";var od=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Nc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==yb.Cache}};var vb=class{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}};var Rg=class{constructor(e){this.serializer=e}Ps(e){return Vr(this.serializer,e)}Is(e){return e.metadata.exists?SR(this.serializer,e.document,!1):At.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return yt(e)}},wb=class{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tN(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;let r=ke.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){let n=new Map,r=new Rg(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.Ps(i.metadata.name);for(let s of i.metadata.queries){let a=(n.get(s)||ge()).add(o);n.set(s,a)}}return n}complete(){return L(this,null,function*(){let e=yield CH(this.localStore,new Rg(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(let r of this.queries)yield TH(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}})}};function tN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Ng=class{constructor(e){this.key=e}},Pg=class{constructor(e){this.key=e}},kg=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ge(),this.mutatedKeys=ge(),this.Ia=aR(e),this.Ta=new xg(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new Mg,i=n?n.Ta:this.Ta,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{let w=i.get(h),E=fd(this.query,g)?g:null,S=!!w&&this.mutatedKeys.has(w.key),P=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),N=!1;w&&E?w.data.isEqual(E.data)?S!==P&&(r.track({type:3,doc:E}),N=!0):this.Ra(w,E)||(r.track({type:2,doc:E}),N=!0,(c&&this.Ia(E,c)>0||l&&this.Ia(E,l)<0)&&(a=!0)):!w&&E?(r.track({type:0,doc:E}),N=!0):w&&!E&&(r.track({type:1,doc:w}),N=!0,(c||l)&&(a=!0)),N&&(E?(s=s.add(E),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((h,g)=>function(E,S){let P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return P(E)-P(S)}(h.type,g.type)||this.Ia(h.doc,g.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,l=c!==this.ha;return this.ha=c,s.length!==0||l?{snapshot:new Nc(this.query,e.Ta,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Mg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=ge(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Pg(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Ng(r))}),n}pa(e){this.la=e.hs,this.Pa=ge();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Nc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},_b=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Eb=class{constructor(e){this.key=e,this.wa=!1}},bb=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Ur(a=>oR(a),hd),this.Da=new Map,this.Ca=new Set,this.va=new Ye(Q.comparator),this.Fa=new Map,this.Ma=new nd,this.xa={},this.Oa=new Map,this.Na=Sc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function BH(t,e,n=!0){return L(this,null,function*(){let r=Wg(t),i,o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield nN(r,e,n,!0),i})}function UH(t,e){return L(this,null,function*(){let n=Wg(t);yield nN(n,e,!0,!1)})}function nN(t,e,n,r){return L(this,null,function*(){let i=yield xc(t.localStore,ln(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield cI(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Gg(t.remoteStore,i),a})}function cI(t,e,n,r,i){return L(this,null,function*(){t.Ba=(g,w,E)=>function(P,N,H,W){return L(this,null,function*(){let U=N.view.da(H);U.Xi&&(U=yield bg(P.localStore,N.query,!1).then(({documents:T})=>N.view.da(T,U)));let X=W&&W.targetChanges.get(N.targetId),ie=W&&W.targetMismatches.get(N.targetId)!=null,oe=N.view.applyChanges(U,P.isPrimaryClient,X,ie);return Ib(P,N.targetId,oe.fa),oe.snapshot})}(t,g,w,E);let o=yield bg(t.localStore,e,!0),s=new kg(e,o.hs),a=s.da(o.documents),c=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);Ib(t,n,l.fa);let h=new _b(e,n,s);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function $H(t,e,n){return L(this,null,function*(){let r=Z(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!hd(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Mc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rc(r.remoteStore,i.targetId),Pc(r,i.targetId)}).catch(bo))):(Pc(r,i.targetId),yield Mc(r.localStore,i.targetId,!0))})}function HH(t,e){return L(this,null,function*(){let n=Z(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rc(n.remoteStore,r.targetId))})}function qH(t,e,n){return L(this,null,function*(){let r=hI(t);try{let i=yield function(s,a){let c=Z(s),l=rt.now(),h=a.reduce((E,S)=>E.add(S.key),ge()),g,w;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=_n(),P=ge();return c.os.getEntries(E,h).next(N=>{S=N,S.forEach((H,W)=>{W.isValidDocument()||(P=P.add(H))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,S)).next(N=>{g=N;let H=[];for(let W of a){let U=iH(W,g.get(W.key).overlayedDocument);U!=null&&H.push(new sr(W.key,U,JM(U.value.mapValue),lt.exists(!0)))}return c.mutationQueue.addMutationBatch(E,l,H,a)}).next(N=>{w=N;let H=N.applyToLocalDocumentSet(g,P);return c.documentOverlayCache.saveOverlays(E,N.batchId,H)})}).then(()=>({batchId:w.batchId,changes:uR(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.xa[s.currentUser.toKey()];l||(l=new Ye(pe)),l=l.insert(a,c),s.xa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Di(r,i.changes),yield Bc(r.remoteStore)}catch(i){let o=$c(i,"Failed to persist write");n.reject(o)}})}function rN(t,e){return L(this,null,function*(){let n=Z(t);try{let r=yield IH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Fa.get(o);s&&(re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?re(s.wa):i.removedDocuments.size>0&&(re(s.wa),s.wa=!1))}),yield Di(n,r,e)}catch(r){yield bo(r)}})}function SM(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=Z(s);c.onlineState=a;let l=!1;c.queries.forEach((h,g)=>{for(let w of g.U_)w.j_(a)&&(l=!0)}),l&&aI(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zH(t,e,n){return L(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Ye(Q.comparator);s=s.insert(o,At.newNoDocument(o,ae.min()));let a=ge().add(o),c=new Zl(ae.min(),new Map,new Ye(pe),s,a);yield rN(r,c),r.va=r.va.remove(o),r.Fa.delete(e),dI(r)}else yield Mc(r.localStore,e,!1).then(()=>Pc(r,e,n)).catch(bo)})}function GH(t,e){return L(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield bH(n.localStore,e);lI(n,r,null),uI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Di(n,i)}catch(i){yield bo(i)}})}function WH(t,e,n){return L(this,null,function*(){let r=Z(t);try{let i=yield function(s,a){let c=Z(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(g=>(re(g!==null),h=g.keys(),c.mutationQueue.removeMutationBatch(l,g))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);lI(r,e,n),uI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Di(r,i)}catch(i){yield bo(i)}})}function KH(t,e){return L(this,null,function*(){let n=Z(t);Do(n.remoteStore)||$("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=Z(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();let i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){let i=$c(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function uI(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function lI(t,e,n){let r=Z(t),i=r.xa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Pc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||iN(t,r)})}function iN(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(Rc(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),dI(t))}function Ib(t,e,n){for(let r of n)r instanceof Ng?(t.Ma.addReference(r.key,e),QH(t,r)):r instanceof Pg?($("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||iN(t,r.key)):ee()}function QH(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||($("SyncEngine","New document in limbo: "+n),t.Ca.add(r),dI(t))}function dI(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new Q(ke.fromString(e)),r=t.Na.next();t.Fa.set(r,new Eb(n)),t.va=t.va.insert(n,r),Gg(t.remoteStore,new Ac(ln(Lc(n.path)),r,"TargetPurposeLimboResolution",Mn.oe))}}function Di(t,e,n){return L(this,null,function*(){let r=Z(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{s.push(r.Ba(c,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(h=n?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(l){i.push(l);let g=tb.Ki(c.targetId,l);o.push(g)}}))}),yield Promise.all(s),r.Sa.h_(i),yield function(c,l){return L(this,null,function*(){let h=Z(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>k.forEach(l,w=>k.forEach(w.qi,E=>h.persistence.referenceDelegate.addReference(g,w.targetId,E)).next(()=>k.forEach(w.Qi,E=>h.persistence.referenceDelegate.removeReference(g,w.targetId,E)))))}catch(g){if(!Io(g))throw g;$("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let w=g.targetId;if(!g.fromCache){let E=h.ns.get(w),S=E.snapshotVersion,P=E.withLastLimboFreeSnapshotVersion(S);h.ns=h.ns.insert(w,P)}}})}(r.localStore,o))})}function YH(t,e){return L(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let r=yield HR(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(c=>{c.reject(new B(V.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Di(n,r.us)}})}function ZH(t,e){let n=Z(t),r=n.Fa.get(e);if(r&&r.wa)return ge().add(r.key);{let i=ge(),o=n.Da.get(e);if(!o)return i;for(let s of o){let a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function JH(t,e){return L(this,null,function*(){let n=Z(t),r=yield bg(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&Ib(n,e.targetId,i.fa),i})}function XH(t,e){return L(this,null,function*(){let n=Z(t);return WR(n.localStore,e).then(r=>Di(n,r))})}function e5(t,e,n,r){return L(this,null,function*(){let i=Z(t),o=yield function(a,c){let l=Z(a),h=Z(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.vn(g,c).next(w=>w?l.localDocuments.getDocuments(g,w):k.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?yield Bc(i.remoteStore):n==="acknowledged"||n==="rejected"?(lI(i,e,r||null),uI(i,e),function(a,c){Z(Z(a).mutationQueue).Mn(c)}(i.localStore,e)):ee(),yield Di(i,o)):$("SyncEngine","Cannot apply mutation batch with id: "+e)})}function t5(t,e){return L(this,null,function*(){let n=Z(t);if(Wg(n),hI(n),e===!0&&n.La!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield xM(n,r.toArray());n.La=!0,yield fb(n.remoteStore,!0);for(let o of i)Gg(n.remoteStore,o)}else if(e===!1&&n.La!==!1){let r=[],i=Promise.resolve();n.Da.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Pc(n,s),Mc(n.localStore,s,!0))),Rc(n.remoteStore,s)}),yield i,yield xM(n,r),function(s){let a=Z(s);a.Fa.forEach((c,l)=>{Rc(a.remoteStore,l)}),a.Ma.mr(),a.Fa=new Map,a.va=new Ye(Q.comparator)}(n),n.La=!1,yield fb(n.remoteStore,!1)}})}function xM(t,e,n){return L(this,null,function*(){let r=Z(t),i=[],o=[];for(let s of e){let a,c=r.Da.get(s);if(c&&c.length!==0){a=yield xc(r.localStore,ln(c[0]));for(let l of c){let h=r.ba.get(l),g=yield JH(r,h);g.snapshot&&o.push(g.snapshot)}}else{let l=yield GR(r.localStore,s);a=yield xc(r.localStore,l),yield cI(r,oN(l),s,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(o),i})}function oN(t){return iR(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function n5(t){return function(n){return Z(Z(n).persistence).Bi()}(Z(t).localStore)}function r5(t,e,n,r){return L(this,null,function*(){let i=Z(t);if(i.La)return void $("SyncEngine","Ignoring unexpected query state notification.");let o=i.Da.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield WR(i.localStore,sR(o[0])),a=Zl.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ot.EMPTY_BYTE_STRING);yield Di(i,s,a);break}case"rejected":yield Mc(i.localStore,e,!0),Pc(i,e,r);break;default:ee()}})}function i5(t,e,n){return L(this,null,function*(){let r=Wg(t);if(r.La){for(let i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){$("SyncEngine","Adding an already active target "+i);continue}let o=yield GR(r.localStore,i),s=yield xc(r.localStore,o);yield cI(r,oN(o),s.targetId,!1,s.resumeToken),Gg(r.remoteStore,s)}for(let i of n)r.Da.has(i)&&(yield Mc(r.localStore,i,!1).then(()=>{Rc(r.remoteStore,i),Pc(r,i)}).catch(bo))}})}function Wg(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zH.bind(null,e),e.Sa.h_=LH.bind(null,e.eventManager),e.Sa.ka=jH.bind(null,e.eventManager),e}function hI(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WH.bind(null,e),e}function o5(t,e,n){let r=Z(t);(function(o,s,a){return L(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(E,S){let P=Z(E),N=yt(S.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",H=>P.$r.getBundleMetadata(H,S.id)).then(H=>!!H&&H.createTime.compareTo(N)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(E){return{taskState:"Success",documentsLoaded:E.totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(tN(c));let l=new wb(c,o.localStore,s.serializer),h=yield s.qa();for(;h;){let w=yield l._a(h);w&&a._updateProgress(w),h=yield s.qa()}let g=yield l.complete();return yield Di(o,g.ca,void 0),yield function(E,S){let P=Z(E);return P.persistence.runTransaction("Save bundle","readwrite",N=>P.$r.saveBundleMetadata(N,S))}(o.localStore,c),a._completeWith(g.progress),Promise.resolve(g.ua)}catch(c){return Hn("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var sd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return L(this,null,function*(){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $R(this.persistence,new Eg,e.initialUser,this.serializer)}createPersistence(e){return new wg(_g.Hr,this.serializer)}createSharedClientState(e){return new Cg}terminate(){return L(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Og=class t extends sd{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return L(this,null,function*(){yield jm(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield hI(this.Qa.syncEngine),yield Bc(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return $R(this.persistence,new Eg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new BE(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new iE(n,this.persistence);return new rE(e.asyncQueue,r)}createPersistence(e){let n=tI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new eb(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,QR(),Wp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Cg}},Db=class t extends Og{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return L(this,null,function*(){yield jm(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof Ul&&(this.sharedClientState.syncEngine={Zs:e5.bind(null,n),Xs:r5.bind(null,n),eo:i5.bind(null,n),Bi:n5.bind(null,n),Ys:XH.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(r=>L(this,null,function*(){yield t5(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=QR();if(!Ul.D(n))throw new B(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=tI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ul(n,e.asyncQueue,r,e.clientId,e.initialUser)}},ad=class{initialize(e,n){return L(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YH.bind(null,this.syncEngine),yield fb(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new mb}()}createDatastore(e){let n=pd(e.databaseInfo.databaseId),r=function(o){return new ab(o)}(e.databaseInfo);return function(o,s,a,c){return new lb(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new hb(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>SM(this.syncEngine,n,0),function(){return Tg.D()?new Tg:new ob}())}createSyncEngine(e,n){return function(i,o,s,a,c,l,h){let g=new bb(i,o,s,a,c,l);return h&&(g.La=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return L(this,null,function*(){var e;yield function(r){return L(this,null,function*(){let i=Z(r);$("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield jc(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function MM(t,e=10240){let n=0;return{read(){return L(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return L(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var kc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Cb=class{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Tt,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){return L(this,null,function*(){return this.metadata.promise})}qa(){return L(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return L(this,null,function*(){let e=yield this.za();if(e===null)return null;let n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);let i=yield this.Ha(r);return new vb(JSON.parse(i),e.length+r)})}Ja(){return this.buffer.findIndex(e=>e===123)}za(){return L(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ha(e){return L(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){return L(this,null,function*(){let e=yield this.Ua.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var Tb=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return L(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new B(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(i,o){return L(this,null,function*(){let s=Z(i),a={documents:o.map(g=>Xl(s.serializer,g))},c=yield s.xo("BatchGetDocuments",s.serializer.databaseId,ke.emptyPath(),a,o.length),l=new Map;c.forEach(g=>{let w=lH(s.serializer,g);l.set(w.key.toString(),w)});let h=[];return o.forEach(g=>{let w=l.get(g.toString());re(!!w),h.push(w)}),h})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new _o(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return L(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=Q.fromPath(r);this.mutations.push(new Kl(i,this.precondition(i)))}),yield function(r,i){return L(this,null,function*(){let o=Z(r),s={writes:i.map(a=>ed(o.serializer,a))};yield o.Co("Commit",o.serializer.databaseId,ke.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ee();n=ae.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new B(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ae.min())?lt.exists(!1):lt.updateTime(n):lt.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ae.min()))throw new B(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lt.updateTime(n)}return lt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var Ab=class{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Za=r.maxAttempts,this.Yo=new id(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(()=>L(this,null,function*(){let e=new Tb(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})}))}tu(e){try{let n=this.updateFunction(e);return!ld(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!_R(n)}return!1}};var Sb=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=Yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>L(this,null,function*(){$("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>($("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>L(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=$c(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Kp(t,e){return L(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>L(this,null,function*(){r.isEqual(i)||(yield HR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function xb(t,e){return L(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield fI(t);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>TM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>TM(e.remoteStore,i)),t._onlineComponents=e})}function sN(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function fI(t){return L(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Kp(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!sN(n))throw n;Hn("Error using user provided cache. Falling back to memory cache: "+n),yield Kp(t,new sd)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield Kp(t,new sd);return t._offlineComponents})}function Kg(t){return L(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield xb(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield xb(t,new ad))),t._onlineComponents})}function aN(t){return fI(t).then(e=>e.persistence)}function pI(t){return fI(t).then(e=>e.localStore)}function cN(t){return Kg(t).then(e=>e.remoteStore)}function gI(t){return Kg(t).then(e=>e.syncEngine)}function s5(t){return Kg(t).then(e=>e.datastore)}function Oc(t){return L(this,null,function*(){let e=yield Kg(t),n=e.eventManager;return n.onListen=BH.bind(null,e.syncEngine),n.onUnlisten=$H.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HH.bind(null,e.syncEngine),n})}function a5(t){return t.asyncQueue.enqueue(()=>L(this,null,function*(){let e=yield aN(t),n=yield cN(t);return e.setNetworkEnabled(!0),function(i){let o=Z(i);return o.M_.delete(0),gd(o)}(n)}))}function c5(t){return t.asyncQueue.enqueue(()=>L(this,null,function*(){let e=yield aN(t),n=yield cN(t);return e.setNetworkEnabled(!1),function(i){return L(this,null,function*(){let o=Z(i);o.M_.add(0),yield jc(o),o.N_.set("Offline")})}(n)}))}function u5(t,e){let n=new Tt;return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(i,o,s){return L(this,null,function*(){try{let a=yield function(l,h){let g=Z(l);return g.persistence.runTransaction("read document","readonly",w=>g.localDocuments.getDocument(w,h))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new B(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=$c(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield pI(t),e,n)})),n.promise}function uN(t,e,n={}){let r=new Tt;return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(o,s,a,c,l){let h=new kc({next:w=>{s.enqueueAndForget(()=>sI(o,g));let E=w.docs.has(a);!E&&w.fromCache?l.reject(new B(V.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&c&&c.source==="server"?l.reject(new B(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(w)},error:w=>l.reject(w)}),g=new od(Lc(a.path),h,{includeMetadataChanges:!0,ra:!0});return oI(o,g)}(yield Oc(t),t.asyncQueue,e,n,r)})),r.promise}function l5(t,e){let n=new Tt;return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(i,o,s){return L(this,null,function*(){try{let a=yield bg(i,o,!0),c=new kg(o,a.hs),l=c.da(a.documents),h=c.applyChanges(l,!1);s.resolve(h.snapshot)}catch(a){let c=$c(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield pI(t),e,n)})),n.promise}function lN(t,e,n={}){let r=new Tt;return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(o,s,a,c,l){let h=new kc({next:w=>{s.enqueueAndForget(()=>sI(o,g)),w.fromCache&&c.source==="server"?l.reject(new B(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(w)},error:w=>l.reject(w)}),g=new od(a,h,{includeMetadataChanges:!0,ra:!0});return oI(o,g)}(yield Oc(t),t.asyncQueue,e,n,r)})),r.promise}function d5(t,e){let n=new kc(e);return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(i,o){Z(i).z_.add(o),o.next()}(yield Oc(t),n)})),()=>{n.$a(),t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(i,o){Z(i).z_.delete(o)}(yield Oc(t),n)}))}}function h5(t,e,n,r){let i=function(s,a){let c;return c=typeof s=="string"?bR().encode(s):s,function(h,g){return new Cb(h,g)}(function(h,g){if(h instanceof Uint8Array)return MM(h,g);if(h instanceof ArrayBuffer)return MM(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,pd(e));t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){o5(yield gI(t),i,r)}))}function f5(t,e){return t.asyncQueue.enqueue(()=>L(this,null,function*(){return function(r,i){let o=Z(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield pI(t),e)}))}function dN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var RM=new Map;function mI(t,e,n){if(!n)throw new B(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yI(t,e,n,r){if(e===!0&&r===!0)throw new B(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NM(t){if(!Q.isDocumentKey(t))throw new B(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PM(t){if(Q.isDocumentKey(t))throw new B(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function Oe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Qg(t);throw new B(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hN(t,e){if(e<=0)throw new B(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Fg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ps=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W_;switch(r.type){case"firstParty":return new Z_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=RM.get(n);r&&($("ComponentProvider","Removing Datastore"),RM.delete(n),r.terminate())}(this),Promise.resolve()}};function fN(t,e,n,r={}){var i;let o=(t=Oe(t,Ps))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Hn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ct.MOCK_USER;else{a=M0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new B(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ct(l)}t._authCredentials=new K_(new Qp(a,c))}}var $t=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ke=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Lr=class t extends $t{constructor(e,n,r){super(e,n,Lc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new Q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function vI(t,e,...n){if(t=tt(t),mI("collection","path",e),t instanceof Ps){let r=ke.fromString(e,...n);return PM(r),new Lr(t,null,r)}{if(!(t instanceof Ke||t instanceof Lr))throw new B(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return PM(r),new Lr(t.firestore,null,r)}}function pN(t,e){if(t=Oe(t,Ps),mI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new B(V.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $t(t,null,function(r){return new or(ke.emptyPath(),r)}(e))}function md(t,e,...n){if(t=tt(t),arguments.length===1&&(e=Yp.newId()),mI("doc","path",e),t instanceof Ps){let r=ke.fromString(e,...n);return NM(r),new Ke(t,null,new Q(r))}{if(!(t instanceof Ke||t instanceof Lr))throw new B(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return NM(r),new Ke(t.firestore,t instanceof Lr?t.converter:null,new Q(r))}}function wI(t,e){return t=tt(t),e=tt(e),(t instanceof Ke||t instanceof Lr)&&(e instanceof Ke||e instanceof Lr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function _I(t,e){return t=tt(t),e=tt(e),t instanceof $t&&e instanceof $t&&t.firestore===e.firestore&&hd(t._query,e._query)&&t.converter===e.converter}var Mb=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new id(this,"async_queue_retry"),this.hu=()=>{let n=Wp();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Wp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Tt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return L(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Io(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw gt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=pb.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&ee()}verifyOperationInProgress(){}du(){return L(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function Rb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Nb=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Tt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var gN=-1,Xe=class extends Ps{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Mb}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mN(this),this._firestoreClient.terminate()}};function Rt(t){return t._firestoreClient||mN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mN(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,h){return new oE(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dN(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Sb(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function yN(t,e){TN(t=Oe(t,Xe));let n=Rt(t);if(n._uninitializedComponentsProvider)throw new B(V.FAILED_PRECONDITION,"SDK cache is already specified.");Hn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new ad;return wN(n,i,new Og(i,r.cacheSizeBytes,e?.forceOwnership))}function vN(t){TN(t=Oe(t,Xe));let e=Rt(t);if(e._uninitializedComponentsProvider)throw new B(V.FAILED_PRECONDITION,"SDK cache is already specified.");Hn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new ad;return wN(e,r,new Db(r,n.cacheSizeBytes))}function wN(t,e,n){let r=new Tt;return t.asyncQueue.enqueue(()=>L(this,null,function*(){try{yield Kp(t,n),yield xb(t,e),r.resolve()}catch(i){let o=i;if(!sN(o))throw o;Hn("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function _N(t){if(t._initialized&&!t._terminated)throw new B(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Tt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>L(this,null,function*(){try{yield function(r){return L(this,null,function*(){if(!fo.D())return Promise.resolve();let i=r+"main";yield fo.delete(i)})}(tI(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function EN(t){return function(n){let r=new Tt;return n.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return KH(yield gI(n),r)})),r.promise}(Rt(t=Oe(t,Xe)))}function bN(t){return a5(Rt(t=Oe(t,Xe)))}function IN(t){return c5(Rt(t=Oe(t,Xe)))}function DN(t,e){let n=Rt(t=Oe(t,Xe)),r=new Nb;return h5(n,t._databaseId,e,r),r}function CN(t,e){return f5(Rt(t=Oe(t,Xe)),e).then(n=>n?new $t(t,null,n.query):null)}function TN(t){if(t._initialized||t._terminated)throw new B(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $r=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ot.fromBase64String(e))}catch(n){throw new B(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ar=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var bi=class{constructor(e){this._methodName=e}};var ks=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}};var p5=/^__.*__$/,Pb=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new wo(e,this.data,n,this.fieldTransforms)}},Vg=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function AN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var Lg=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return jg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(AN(this.fu)&&p5.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},kb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pd(e)}Fu(e,n,r,i=!1){return new Lg({fu:e,methodName:n,vu:r,path:mt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ls(t){let e=t._freezeSettings(),n=pd(t._databaseId);return new kb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Yg(t,e,n,r,i,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);II("Data must be an object, but it was:",s,r);let a=MN(r,s),c,l;if(o.merge)c=new Rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let g of o.mergeFields){let w=jb(e,g,n);if(!s.contains(w))throw new B(V.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);NN(h,w)||h.push(w)}c=new Rn(h),l=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,l=s.fieldTransforms;return new Pb(new Jt(a),c,l)}var cd=class t extends bi{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function SN(t,e,n){return new Lg({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Ob=class t extends bi{_toFieldTransform(e){return new Ms(e.path,new yo)}isEqual(e){return e instanceof t}},Fb=class t extends bi{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=SN(this,e,!0),r=this.Mu.map(o=>js(o,n)),i=new _i(r);return new Ms(e.path,i)}isEqual(e){return e instanceof t&&$m(this.Mu,e.Mu)}},Vb=class t extends bi{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=SN(this,e,!0),r=this.Mu.map(o=>js(o,n)),i=new Ei(r);return new Ms(e.path,i)}isEqual(e){return e instanceof t&&$m(this.Mu,e.Mu)}},Lb=class t extends bi{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){let n=new vo(e.serializer,fR(e.serializer,this.xu));return new Ms(e.path,n)}isEqual(e){return e instanceof t&&this.xu===e.xu}};function EI(t,e,n,r){let i=t.Fu(1,e,n);II("Data must be an object, but it was:",i,r);let o=[],s=Jt.empty();Vs(r,(c,l)=>{let h=DI(e,c,n);l=tt(l);let g=i.Su(h);if(l instanceof cd)o.push(h);else{let w=js(l,g);w!=null&&(o.push(h),s.set(h,w))}});let a=new Rn(o);return new Vg(s,a,i.fieldTransforms)}function bI(t,e,n,r,i,o){let s=t.Fu(1,e,n),a=[jb(e,r,n)],c=[i];if(o.length%2!=0)throw new B(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)a.push(jb(e,o[w])),c.push(o[w+1]);let l=[],h=Jt.empty();for(let w=a.length-1;w>=0;--w)if(!NN(l,a[w])){let E=a[w],S=c[w];S=tt(S);let P=s.Su(E);if(S instanceof cd)l.push(E);else{let N=js(S,P);N!=null&&(l.push(E),h.set(E,N))}}let g=new Rn(l);return new Vg(h,g,s.fieldTransforms)}function xN(t,e,n,r=!1){return js(n,t.Fu(r?4:3,e))}function js(t,e){if(RN(t=tt(t)))return II("Unsupported field value:",e,t),MN(t,e);if(t instanceof bi)return function(r,i){if(!AN(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=js(a,i.bu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=rt.fromDate(r);return{timestampValue:Tc(i.serializer,o)}}if(r instanceof rt){let o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tc(i.serializer,o)}}if(r instanceof ks)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $r)return{bytesValue:IR(i.serializer,r._byteString)};if(r instanceof Ke){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Qg(r)}`)}(t,e)}function MN(t,e){let n={};return QM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(t,(r,i)=>{let o=js(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function RN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof ks||t instanceof $r||t instanceof Ke||t instanceof bi)}function II(t,e,n){if(!RN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Qg(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function jb(t,e,n){if((e=tt(e))instanceof ar)return e._internalPath;if(typeof e=="string")return DI(t,e);throw jg("Field path arguments must be of type string or ",t,!1,void 0,n)}var g5=new RegExp("[~\\*/\\[\\]]");function DI(t,e,n){if(e.search(g5)>=0)throw jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ar(...e.split("."))._internalPath}catch{throw jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jg(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new B(V.INVALID_ARGUMENT,a+t+c)}function NN(t,e){return t.some(n=>n.isEqual(e))}var Os=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Bb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Zg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Bb=class extends Os{data(){return super.data()}};function Zg(t,e){return typeof e=="string"?DI(t,e):e instanceof ar?e._internalPath:e._delegate._internalPath}function PN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ud=class{},Fs=class extends ud{};function Ci(t,e,...n){let r=[];e instanceof ud&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof Ub).length,a=o.filter(c=>c instanceof Bg).length;if(s>1||s>0&&a>0)throw new B(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Bg=class t extends Fs{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return HN(e._query,n),new $t(e.firestore,e.converter,vE(e._query,n))}_parse(e){let n=Ls(e.firestore);return function(o,s,a,c,l,h,g){let w;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new B(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){OM(g,h);let E=[];for(let S of g)E.push(kM(c,o,S));w={arrayValue:{values:E}}}else w=kM(c,o,g)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||OM(g,h),w=xN(a,s,g,h==="in"||h==="not-in");return Se.create(l,h,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function kN(t,e,n){let r=e,i=Zg("where",t);return Bg._create(i,r,n)}var Ub=class t extends ud{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ue.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)HN(s,c),s=vE(s,c)}(e._query,n),new $t(e.firestore,e.converter,vE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var $b=class t extends Fs{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new B(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ss(o,s)}(e._query,this._field,this._direction);return new $t(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new or(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function ON(t,e="asc"){let n=e,r=Zg("orderBy",t);return $b._create(r,n)}var Ug=class t extends Fs{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new $t(e.firestore,e.converter,sg(e._query,this._limit,this._limitType))}};function FN(t){return hN("limit",t),Ug._create("limit",t,"F")}function VN(t){return hN("limitToLast",t),Ug._create("limitToLast",t,"L")}var $g=class t extends Fs{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=$N(e,this.type,this._docOrFields,this._inclusive);return new $t(e.firestore,e.converter,function(i,o){return new or(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}};function LN(...t){return $g._create("startAt",t,!0)}function jN(...t){return $g._create("startAfter",t,!1)}var Hg=class t extends Fs{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=$N(e,this.type,this._docOrFields,this._inclusive);return new $t(e.firestore,e.converter,function(i,o){return new or(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}};function BN(...t){return Hg._create("endBefore",t,!1)}function UN(...t){return Hg._create("endAt",t,!0)}function $N(t,e,n,r){if(n[0]=tt(n[0]),n[0]instanceof Os)return function(o,s,a,c,l){if(!c)throw new B(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let g of vc(o))if(g.field.isKeyField())h.push(As(s,c.key));else{let w=c.data.field(g.field);if(zg(w))throw new B(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){let E=g.field.canonicalString();throw new B(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}h.push(w)}return new Br(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=Ls(t.firestore);return function(s,a,c,l,h,g){let w=s.explicitOrderBy;if(h.length>w.length)throw new B(V.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let E=[];for(let S=0;S<h.length;S++){let P=h[S];if(w[S].field.isKeyField()){if(typeof P!="string")throw new B(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof P}`);if(!Yb(s)&&P.indexOf("/")!==-1)throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${P}' contains a slash.`);let N=s.path.child(ke.fromString(P));if(!Q.isDocumentKey(N))throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${N}' is not because it contains an odd number of segments.`);let H=new Q(N);E.push(As(a,H))}else{let N=xN(c,l,P);E.push(N)}}return new Br(E,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function kM(t,e,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new B(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yb(e)&&n.indexOf("/")!==-1)throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!Q.isDocumentKey(r))throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return As(t,new Q(r))}if(n instanceof Ke)return As(t,n._key);throw new B(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qg(n)}.`)}function OM(t,e){if(!Array.isArray(t)||t.length===0)throw new B(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HN(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Fc=class{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Vs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ks(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Kb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){let n=wi(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);re(kR(r));let i=new go(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(n)||gt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Jg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Hb=class extends Fc{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}};var vi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},zn=class extends Os{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Zg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},lo=class extends zn{data(e={}){return super.data(e)}},cr=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lo(this._firestore,this._userDataWriter,r.key,r,new vi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new lo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new lo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:m5(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function m5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function CI(t,e){return t instanceof zn&&e instanceof zn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof cr&&e instanceof cr&&t._firestore===e._firestore&&_I(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function qN(t){t=Oe(t,Ke);let e=Oe(t.firestore,Xe);return uN(Rt(e),t._key).then(n=>xI(e,t,n))}var Ii=class extends Fc{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}};function zN(t){t=Oe(t,Ke);let e=Oe(t.firestore,Xe),n=Rt(e),r=new Ii(e);return u5(n,t._key).then(i=>new zn(e,r,t._key,i,new vi(i!==null&&i.hasLocalMutations,!0),t.converter))}function GN(t){t=Oe(t,Ke);let e=Oe(t.firestore,Xe);return uN(Rt(e),t._key,{source:"server"}).then(n=>xI(e,t,n))}function WN(t){t=Oe(t,$t);let e=Oe(t.firestore,Xe),n=Rt(e),r=new Ii(e);return PN(t._query),lN(n,t._query).then(i=>new cr(e,r,t,i))}function KN(t){t=Oe(t,$t);let e=Oe(t.firestore,Xe),n=Rt(e),r=new Ii(e);return l5(n,t._query).then(i=>new cr(e,r,t,i))}function QN(t){t=Oe(t,$t);let e=Oe(t.firestore,Xe),n=Rt(e),r=new Ii(e);return lN(n,t._query,{source:"server"}).then(i=>new cr(e,r,t,i))}function TI(t,e,n){t=Oe(t,Ke);let r=Oe(t.firestore,Xe),i=Jg(t.converter,e,n);return Hc(r,[Yg(Ls(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,lt.none())])}function AI(t,e,n,...r){t=Oe(t,Ke);let i=Oe(t.firestore,Xe),o=Ls(i),s;return s=typeof(e=tt(e))=="string"||e instanceof ar?bI(o,"updateDoc",t._key,e,n,r):EI(o,"updateDoc",t._key,e),Hc(i,[s.toMutation(t._key,lt.exists(!0))])}function YN(t){return Hc(Oe(t.firestore,Xe),[new _o(t._key,lt.none())])}function ZN(t,e){let n=Oe(t.firestore,Xe),r=md(t),i=Jg(t.converter,e);return Hc(n,[Yg(Ls(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,lt.exists(!1))]).then(()=>r)}function SI(t,...e){var n,r,i;t=tt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Rb(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Rb(e[s])){let g=e[s];e[s]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,l,h;if(t instanceof Ke)l=Oe(t.firestore,Xe),h=Lc(t._key.path),c={next:g=>{e[s]&&e[s](xI(l,t,g))},error:e[s+1],complete:e[s+2]};else{let g=Oe(t,$t);l=Oe(g.firestore,Xe),h=g._query;let w=new Ii(l);c={next:E=>{e[s]&&e[s](new cr(l,w,g,E))},error:e[s+1],complete:e[s+2]},PN(t._query)}return function(w,E,S,P){let N=new kc(P),H=new od(E,N,S);return w.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return oI(yield Oc(w),H)})),()=>{N.$a(),w.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return sI(yield Oc(w),H)}))}}(Rt(l),h,a,c)}function JN(t,e){return d5(Rt(t=Oe(t,Xe)),Rb(e)?e:{next:e})}function Hc(t,e){return function(r,i){let o=new Tt;return r.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return qH(yield gI(r),i,o)})),o.promise}(Rt(t),e)}function xI(t,e,n){let r=n.docs.get(e._key),i=new Ii(t);return new zn(t,i,e._key,r,new vi(n.hasPendingWrites,n.fromCache),e.converter)}var y5={maxAttempts:5};var qg=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ls(e)}set(e,n,r){this._verifyNotCommitted();let i=co(e,this._firestore),o=Jg(i.converter,n,r),s=Yg(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,lt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let o=co(e,this._firestore),s;return s=typeof(n=tt(n))=="string"||n instanceof ar?bI(this._dataReader,"WriteBatch.update",o._key,n,r,i):EI(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,lt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=co(e,this._firestore);return this._mutations=this._mutations.concat(new _o(n._key,lt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function co(t,e){if((t=tt(t)).firestore!==e)throw new B(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var qb=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ls(n)}get(n){let r=co(n,this._firestore),i=new Hb(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return ee();let s=o[0];if(s.isFoundDocument())return new Os(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Os(this._firestore,i,r._key,null,r.converter);throw ee()})}set(n,r,i){let o=co(n,this._firestore),s=Jg(o.converter,r,i),a=Yg(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){let s=co(n,this._firestore),a;return a=typeof(r=tt(r))=="string"||r instanceof ar?bI(this._dataReader,"Transaction.update",s._key,r,i,o):EI(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){let r=co(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=co(e,this._firestore),r=new Ii(this._firestore);return super.get(e).then(i=>new zn(this._firestore,r,n._key,i._document,new vi(!1,!1),n.converter))}};function XN(t,e,n){t=Oe(t,Xe);let r=Object.assign(Object.assign({},y5),n);return function(o){if(o.maxAttempts<1)throw new B(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let c=new Tt;return o.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){let l=yield s5(o);new Ab(o.asyncQueue,l,a,s,c).Xa()})),c.promise}(Rt(t),i=>e(new qb(t,i)),r)}function eP(){return new cd("deleteField")}function tP(){return new Ob("serverTimestamp")}function nP(...t){return new Fb("arrayUnion",t)}function rP(...t){return new Vb("arrayRemove",t)}function iP(t){return new Lb("increment",t)}(function(e,n=!0){(function(i){Vc=i})(P0),Cu(new Go("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Xe(new Q_(r.getProvider("auth-internal")),new X_(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ji(Fx,"4.6.4",e),ji(Fx,"4.6.4","esm2017")})();var v5="@firebase/firestore-compat",w5="0.3.33";function OI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new B("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function oP(){if(typeof Uint8Array>"u")throw new B("unimplemented","Uint8Arrays are not available in this environment.")}function sP(){if(!YM())throw new B("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Xg=class t{constructor(e){this._delegate=e}static fromBase64String(e){return sP(),new t($r.fromBase64String(e))}static fromUint8Array(e){return oP(),new t($r.fromUint8Array(e))}toBase64(){return sP(),this._delegate.toBase64()}toUint8Array(){return oP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function MI(t){return _5(t,["next","error","complete"])}function _5(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var RI=class{enableIndexedDbPersistence(e,n){return yN(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return vN(e._delegate)}clearIndexedDbPersistence(e){return _N(e._delegate)}},em=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof go||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Hn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){fN(this._delegate,e,n,r)}enableNetwork(){return bN(this._delegate)}disableNetwork(){return IN(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,yI("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return EN(this._delegate)}onSnapshotsInSync(e){return JN(this._delegate,e)}get app(){if(!this._appCompat)throw new B("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Gc(this,vI(this._delegate,e))}catch(n){throw dn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Hr(this,md(this._delegate,e))}catch(n){throw dn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hs(this,pN(this._delegate,e))}catch(n){throw dn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return XN(this._delegate,n=>e(new tm(this,n)))}batch(){return Rt(this._delegate),new nm(new qg(this._delegate,e=>Hc(this._delegate,e)))}loadBundle(e){return DN(this._delegate,e)}namedQuery(e){return CN(this._delegate,e).then(n=>n?new Hs(this,n):null)}},qc=class extends Fc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xg(new $r(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Hr.forKey(n,this.firestore,null)}};function E5(t){FM(t)}var tm=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new qc(e)}get(e){let n=Bs(e);return this._delegate.get(n).then(r=>new Us(this._firestore,new zn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=Bs(e);return r?(OI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=Bs(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=Bs(e);return this._delegate.delete(n),this}},nm=class{constructor(e){this._delegate=e}set(e,n,r){let i=Bs(e);return r?(OI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=Bs(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=Bs(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},zc=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new lo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $s(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new t(e,new qc(e),n),i.set(n,o)),o}};zc.INSTANCES=new WeakMap;var Hr=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new qc(e)}static forPath(e,n,r){if(e.length%2!==0)throw new B("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new Ke(n._delegate,r,new Q(e)))}static forKey(e,n,r){return new t(n,new Ke(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Gc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Gc(this.firestore,vI(this._delegate,e))}catch(n){throw dn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=tt(e),e instanceof Ke?wI(this._delegate,e):!1}set(e,n){n=OI("DocumentReference.set",n);try{return n?TI(this._delegate,e,n):TI(this._delegate,e)}catch(r){throw dn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?AI(this._delegate,e):AI(this._delegate,e,n,...r)}catch(i){throw dn(i,"updateDoc()","DocumentReference.update()")}}delete(){return YN(this._delegate)}onSnapshot(...e){let n=aP(e),r=cP(e,i=>new Us(this.firestore,new zn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return SI(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=zN(this._delegate):e?.source==="server"?n=GN(this._delegate):n=qN(this._delegate),n.then(r=>new Us(this.firestore,new zn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(zc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function dn(t,e,n){return t.message=t.message.replace(e,n),t}function aP(t){for(let e of t)if(typeof e=="object"&&!MI(e))return e;return{}}function cP(t,e){var n,r;let i;return MI(t[0])?i=t[0]:MI(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Us=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Hr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return CI(this._delegate,e._delegate)}},$s=class extends Us{data(e){let n=this._delegate.data(e);return this._delegate._converter||VM(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Hs=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new qc(e)}where(e,n,r){try{return new t(this.firestore,Ci(this._delegate,kN(e,n,r)))}catch(i){throw dn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,Ci(this._delegate,ON(e,n)))}catch(r){throw dn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,Ci(this._delegate,FN(e)))}catch(n){throw dn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,Ci(this._delegate,VN(e)))}catch(n){throw dn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,Ci(this._delegate,LN(...e)))}catch(n){throw dn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,Ci(this._delegate,jN(...e)))}catch(n){throw dn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,Ci(this._delegate,BN(...e)))}catch(n){throw dn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,Ci(this._delegate,UN(...e)))}catch(n){throw dn(n,"endAt()","Query.endAt()")}}isEqual(e){return _I(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=KN(this._delegate):e?.source==="server"?n=QN(this._delegate):n=WN(this._delegate),n.then(r=>new yd(this.firestore,new cr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=aP(e),r=cP(e,i=>new yd(this.firestore,new cr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return SI(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(zc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},NI=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new $s(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},yd=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $s(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new NI(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new $s(this._firestore,r))})}isEqual(e){return CI(this._delegate,e._delegate)}},Gc=class t extends Hs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Hr(this.firestore,e):null}doc(e){try{return e===void 0?new Hr(this.firestore,md(this._delegate)):new Hr(this.firestore,md(this._delegate,e))}catch(n){throw dn(n,"doc()","CollectionReference.doc()")}}add(e){return ZN(this._delegate,e).then(n=>new Hr(this.firestore,n))}isEqual(e){return wI(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(zc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Bs(t){return Oe(t,Ke)}var PI=class t{constructor(...e){this._delegate=new ar(...e)}static documentId(){return new t(mt.keyField().canonicalString())}isEqual(e){return e=tt(e),e instanceof ar?this._delegate._internalPath.isEqual(e._internalPath):!1}};var kI=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=tP();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=eP();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=nP(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=rP(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=iP(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var b5={Firestore:em,GeoPoint:ks,Timestamp:rt,Blob:Xg,Transaction:tm,WriteBatch:nm,DocumentReference:Hr,DocumentSnapshot:Us,Query:Hs,QueryDocumentSnapshot:$s,QuerySnapshot:yd,CollectionReference:Gc,FieldPath:PI,FieldValue:kI,setLogLevel:E5,CACHE_SIZE_UNLIMITED:gN};function I5(t,e){t.INTERNAL.registerComponent(new Go("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},b5)))}function D5(t){I5(t,(e,n)=>new em(e,n,new RI)),t.registerVersion(v5,w5)}D5(hn);function C5(t,e=xu){return new Ie(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function uP(t,e){return C5(t,e)}function T5(t,e){return uP(t,e).pipe(Zo(void 0),Ru(),ce(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function LI(t,e){return uP(t,e).pipe(ce(n=>({payload:n,type:"query"})))}var rm=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:o}=pP(r,n);return new om(i,o,this.afs)}snapshotChanges(){return T5(this.ref,this.afs.schedulers.outsideAngular).pipe(wn)}valueChanges(e={}){return this.snapshotChanges().pipe(ce(({payload:n})=>e.idField?xe(K({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return Ne(this.ref.get(e)).pipe(wn)}};function im(t,e){return LI(t,e).pipe(Zo(void 0),Ru(),ce(n=>{let[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let l=o.find(g=>g.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function lP(t,e,n){return im(t,n).pipe(Yo((r,i)=>A5(r,i.map(o=>o.payload),e),[]),fy(),ce(r=>r.map(i=>({type:i.type,payload:i}))))}function A5(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=S5(t,r))}),t}function FI(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function S5(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return FI(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return FI(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return FI(t,e.oldIndex,1);break}return t}function dP(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var om=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=im(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(ce(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(Zo(void 0),Ru(),Pt(([r,i])=>i.length>0||!r),ce(([,r])=>r),wn)}auditTrail(e){return this.stateChanges(e).pipe(Yo((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=dP(e);return lP(this.query,n,this.afs.schedulers.outsideAngular).pipe(wn)}valueChanges(e={}){return LI(this.query,this.afs.schedulers.outsideAngular).pipe(ce(n=>n.payload.docs.map(r=>e.idField?xe(K({},r.data()),{[e.idField]:r.id}):r.data())),wn)}get(e){return Ne(this.query.get(e)).pipe(wn)}add(e){return this.ref.add(e)}doc(e){return new rm(this.ref.doc(e),this.afs)}},VI=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?im(this.query,this.afs.schedulers.outsideAngular).pipe(wn):im(this.query,this.afs.schedulers.outsideAngular).pipe(ce(n=>n.filter(r=>e.indexOf(r.type)>-1)),Pt(n=>n.length>0),wn)}auditTrail(e){return this.stateChanges(e).pipe(Yo((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=dP(e);return lP(this.query,n,this.afs.schedulers.outsideAngular).pipe(wn)}valueChanges(e={}){return LI(this.query,this.afs.schedulers.outsideAngular).pipe(ce(r=>r.payload.docs.map(i=>e.idField?K({[e.idField]:i.id},i.data()):i.data())),wn)}get(e){return Ne(this.query.get(e)).pipe(wn)}},hP=new Y("angularfire2.enableFirestorePersistence"),fP=new Y("angularfire2.firestore.persistenceSettings"),x5=new Y("angularfire2.firestore.settings"),M5=new Y("angularfire2.firestore.use-emulator");function pP(t,e=n=>n){return{query:e(t),ref:t}}var jI=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,o,s,a,c,l,h,g,w,E,S,P,N,H,W){this.schedulers=c;let U=xl(n,a,r),X=h;g&&O_(U,a,w,S,P,N,E,H),[this.firestore,this.persistenceEnabled$]=Fp(`${U.name}.firestore`,"AngularFirestore",U.name,()=>{let ie=a.runOutsideAngular(()=>U.firestore());if(o&&ie.settings(o),X&&ie.useEmulator(...X),i&&!fi(s)){let oe=()=>{try{return Ne(ie.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(T){return typeof console<"u"&&console.warn(T),se(!1)}};return[ie,a.runOutsideAngular(oe)]}else return[ie,se(!1)]},[o,X,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:o,query:s}=pP(i,r),a=this.schedulers.ngZone.run(()=>o);return new om(a,s,this)}collectionGroup(n,r){let i=r||(s=>s),o=this.firestore.collectionGroup(n);return new VI(i(o),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new rm(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(z(ic),z(oc,8),z(hP,8),z(x5,8),z(Bt),z(Me),z(Pp),z(fP,8),z(M5,8),z(Px,8),z(x_,8),z(M_,8),z(R_,8),z(N_,8),z(P_,8),z(k_,8),z(ys,8))};static \u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),gP=(()=>{class t{constructor(){hn.registerVersion("angularfire",rc.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:hP,useValue:!0},{provide:fP,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Mt({type:t});static \u0275inj=xt({providers:[jI]})}return t})();var sm=(()=>{let e=class e{constructor(r){this.firestore=r}agregarEmpleado(r){return this.firestore.collection("empleados").add(r)}getEmpleados(){return this.firestore.collection("empleados",r=>r.orderBy("fechaCreacion","asc")).snapshotChanges()}deleteEmpleado(r){return this.firestore.collection("empleados").doc(r).delete()}getEmpleado(r){return this.firestore.collection("empleados").doc(r).snapshotChanges()}updateEmpleado(r,i){return this.firestore.collection("empleados").doc(r).update(i)}};e.\u0275fac=function(i){return new(i||e)(z(jI))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var N5=t=>["/editar-empleados/",t];function P5(t,e){if(t&1){let n=bA();Ce(0,"tr")(1,"td"),ze(2),Te(),Ce(3,"td"),ze(4),Te(),Ce(5,"td"),ze(6),Te(),Ce(7,"td"),ze(8),iw(9,"currency"),Te(),Ce(10,"td",9),Ut(11,"i",10),Ce(12,"i",11),vn("click",function(){let i=FC(n).$implicit,o=rw(2);return VC(o.eliminarEmpleado(i.id))}),Te()()()}if(t&2){let n=e.$implicit;cn(2),Ar(n.nombre),cn(2),Ar(n.apellido),cn(2),Ar(n.documento),cn(2),Ar(ow(9,5,n.salario)),cn(3),ui("routerLink",AA(7,N5,n.id))}}function k5(t,e){if(t&1&&(Ce(0,"table",7)(1,"thead")(2,"tr")(3,"th"),ze(4,"Nombre"),Te(),Ce(5,"th"),ze(6,"Apellido"),Te(),Ce(7,"th"),ze(8,"Documento"),Te(),Ce(9,"th"),ze(10,"Salario"),Te(),Ut(11,"th"),Te()(),Ce(12,"tbody"),Ba(13,P5,13,9,"tr",8),Ce(14,"tr")(15,"th"),ze(16,"Total:"),Te(),Ut(17,"td")(18,"td"),Ce(19,"th"),ze(20),iw(21,"currency"),Te(),Ut(22,"td"),Te()()()),t&2){let n=rw();cn(13),ui("ngForOf",n.empleados),cn(7),Ar(ow(21,2,n.TotalSalarios))}}var yP=(()=>{let e=class e{constructor(r){this._empleadosService=r,this.empleados=[],this.TotalSalarios=0}ngOnInit(){this.getEmpleados()}getEmpleados(){this.empleados=[],this._empleadosService.getEmpleados().subscribe(r=>{this.empleados=r.map(i=>K({id:i.payload.doc.id},i.payload.doc.data())),this.empleados.length===0?am.default.fire({title:"Lista Vac\xEDa",text:"No hay empleados para mostrar",icon:"warning",footer:'<a routerLink="/crear-empleado">Registrar Empleado</a>'}):(this.TotalSalarios=0,this.empleados.forEach(i=>{this.TotalSalarios+=i.salario}))})}eliminarEmpleado(r){this._empleadosService.deleteEmpleado(r).then(()=>{am.default.fire({title:"Empleado Eliminado",text:"Los datos han sido removidos de la base de datos",icon:"success"})}).catch(i=>{console.log(i),am.default.fire({icon:"error",title:"Oops...",text:"Ha ocurrido un error al eliminar los datos del empleado (x_x)",footer:'<a href="#">\xBFQue acaba de suceder?</a>'})})}};e.\u0275fac=function(i){return new(i||e)(ye(sm))},e.\u0275cmp=Ln({type:e,selectors:[["app-list-empleados"]],decls:9,vars:1,consts:[[1,"listaEmpleado"],[1,"contenido"],[1,"encabezado"],[1,"h3"],["routerLink","/crear-empleados",1,"btn","btn-dark","btn-lg"],[1,"containTable"],["class","list",4,"ngIf"],[1,"list"],[4,"ngFor","ngForOf"],[1,"options"],[1,"fa-regular","fa-pen-to-square","fa-lg","text-info","mr-2",3,"routerLink"],[1,"fa-solid","fa-trash","fa-lg","text-danger","mf-1",3,"click"]],template:function(i,o){i&1&&(Ce(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),ze(4,"Lista de Empleados"),Te(),Ce(5,"button",4),ze(6,"Agregar"),Te()(),Ce(7,"div",5),Ba(8,k5,23,4,"table",6),Te()()()),i&2&&(cn(8),ui("ngIf",o.empleados.length>0))},dependencies:[rS,op,nc,iS],styles:[".encabezado[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.options[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{cursor:pointer;margin:0 5px}.contenido[_ngcontent-%COMP%], .containTable[_ngcontent-%COMP%]{width:100%}.list[_ngcontent-%COMP%]{margin-top:1%;width:100%;table-layout:fixed;border-collapse:collapse;border:1px solid #04044076;border-radius:10px}thead[_ngcontent-%COMP%]{background-color:#262626;color:#fff}th[_ngcontent-%COMP%]{font-size:20px;padding:20px;font-weight:650;text-transform:uppercase}td[_ngcontent-%COMP%]{font-size:17px;padding:15px;font-weight:500;text-transform:uppercase}tr[_ngcontent-%COMP%]{border-bottom:1px solid #0404401e}tr[_ngcontent-%COMP%]:hover{background-color:#0404401e}.listaEmpleado[_ngcontent-%COMP%]{background:#f5f5f5;width:50%;height:100hv;margin:2.5% auto auto;padding:1%;border-radius:10px}@media screen and (max-width:800px){.listaEmpleado[_ngcontent-%COMP%]{width:98%}.list[_ngcontent-%COMP%]{width:auto}th[_ngcontent-%COMP%]{font-size:15px;padding:5px}td[_ngcontent-%COMP%]{font-size:12px;padding:3px}.containTable[_ngcontent-%COMP%]{overflow-x:auto}}"]});let t=e;return t})();var TP=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ye(hs),ye(Xi))},e.\u0275dir=Kt({type:e});let t=e;return t})(),AP=(()=>{let e=class e extends TP{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fa(e)))(o||e)}})(),e.\u0275dir=Kt({type:e,features:[ci]});let t=e;return t})(),zI=new Y("");var O5={provide:zI,useExisting:us(()=>ym),multi:!0};function F5(){let t=xr()?xr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var V5=new Y(""),ym=(()=>{let e=class e extends TP{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!F5())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ye(hs),ye(Xi),ye(V5,8))},e.\u0275dir=Kt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&vn("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Xu([O5]),ci]});let t=e;return t})();function Co(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function SP(t){return t!=null&&typeof t.length=="number"}var xP=new Y(""),MP=new Y(""),L5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ur=class{static min(e){return j5(e)}static max(e){return B5(e)}static required(e){return U5(e)}static requiredTrue(e){return $5(e)}static email(e){return H5(e)}static minLength(e){return q5(e)}static maxLength(e){return z5(e)}static pattern(e){return G5(e)}static nullValidator(e){return RP(e)}static compose(e){return VP(e)}static composeAsync(e){return jP(e)}};function j5(t){return e=>{if(Co(e.value)||Co(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function B5(t){return e=>{if(Co(e.value)||Co(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function U5(t){return Co(t.value)?{required:!0}:null}function $5(t){return t.value===!0?null:{required:!0}}function H5(t){return Co(t.value)||L5.test(t.value)?null:{email:!0}}function q5(t){return e=>Co(e.value)||!SP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function z5(t){return e=>SP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function G5(t){if(!t)return RP;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Co(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function RP(t){return null}function NP(t){return t!=null}function PP(t){return ps(t)?Ne(t):t}function kP(t){let e={};return t.forEach(n=>{e=n!=null?K(K({},e),n):e}),Object.keys(e).length===0?null:e}function OP(t,e){return e.map(n=>n(t))}function W5(t){return!t.validate}function FP(t){return t.map(e=>W5(e)?e:n=>e.validate(n))}function VP(t){if(!t)return null;let e=t.filter(NP);return e.length==0?null:function(n){return kP(OP(n,e))}}function LP(t){return t!=null?VP(FP(t)):null}function jP(t){if(!t)return null;let e=t.filter(NP);return e.length==0?null:function(n){let r=OP(n,e).map(PP);return ly(r).pipe(ce(kP))}}function BP(t){return t!=null?jP(FP(t)):null}function vP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function UP(t){return t._rawValidators}function $P(t){return t._rawAsyncValidators}function BI(t){return t?Array.isArray(t)?t:[t]:[]}function lm(t,e){return Array.isArray(t)?t.includes(e):t===e}function wP(t,e){let n=BI(e);return BI(t).forEach(i=>{lm(n,i)||n.push(i)}),n}function _P(t,e){return BI(e).filter(n=>!lm(t,n))}var dm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=BP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Qc=class extends dm{get formDirective(){return null}get path(){return null}},bd=class extends dm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},hm=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},K5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},BQ=xe(K({},K5),{"[class.ng-submitted]":"isSubmitted"}),HP=(()=>{let e=class e extends hm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ye(bd,2))},e.\u0275dir=Kt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Kf("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ci]});let t=e;return t})(),qP=(()=>{let e=class e extends hm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ye(Qc,10))},e.\u0275dir=Kt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Kf("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ci]});let t=e;return t})();var vd="VALID",cm="INVALID",Wc="PENDING",wd="DISABLED",To=class{},fm=class extends To{constructor(e,n){super(),this.value=e,this.source=n}},_d=class extends To{constructor(e,n){super(),this.pristine=e,this.source=n}},Ed=class extends To{constructor(e,n){super(),this.touched=e,this.source=n}},Kc=class extends To{constructor(e,n){super(),this.status=e,this.source=n}},UI=class extends To{constructor(e){super(),this.source=e}},$I=class extends To{constructor(e){super(),this.source=e}};function GI(t){return(vm(t)?t.validators:t)||null}function Q5(t){return Array.isArray(t)?LP(t):t||null}function WI(t,e){return(vm(e)?e.asyncValidators:t)||null}function Y5(t){return Array.isArray(t)?BP(t):t||null}function vm(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function zP(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new te(1e3,"");if(!r[n])throw new te(1001,"")}function GP(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new te(1002,"")})}var Yc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vd}get invalid(){return this.status===cm}get pending(){return this.status==Wc}get disabled(){return this.status===wd}get enabled(){return this.status!==wd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_P(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_P(e,this._rawAsyncValidators))}hasValidator(e){return lm(this._rawValidators,e)}hasAsyncValidator(e){return lm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(xe(K({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ed(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ed(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(xe(K({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new _d(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new _d(!0,r))}markAsPending(e={}){this.status=Wc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(xe(K({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=wd,this.errors=null,this._forEachChild(i=>{i.disable(xe(K({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fm(this.value,r)),this._events.next(new Kc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(xe(K({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=vd,this._forEachChild(r=>{r.enable(xe(K({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(xe(K({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vd||this.status===Wc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fm(this.value,n)),this._events.next(new Kc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(xe(K({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wd:vd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Wc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=PP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Kc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new bt,this.statusChanges=new bt}_calculateStatus(){return this._allControlsDisabled()?wd:this.errors?cm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wc)?Wc:this._anyControlsHaveStatus(cm)?cm:vd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new _d(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ed(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Q5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Y5(this._rawAsyncValidators)}},pm=class extends Yc{constructor(e,n,r){super(GI(n),WI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){GP(this,!0,e),Object.keys(e).forEach(r=>{zP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var HI=class extends pm{};var WP=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>KI}),KI="always";function Z5(t,e){return[...e.path,t]}function EP(t,e,n=KI){QI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),X5(t,e),tq(t,e),eq(t,e),J5(t,e)}function bP(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),mm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function gm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function J5(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function QI(t,e){let n=UP(t);e.validator!==null?t.setValidators(vP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=$P(t);e.asyncValidator!==null?t.setAsyncValidators(vP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();gm(e._rawValidators,i),gm(e._rawAsyncValidators,i)}function mm(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=UP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=$P(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return gm(e._rawValidators,r),gm(e._rawAsyncValidators,r),n}function X5(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&KP(t,e)})}function eq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&KP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function KP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function nq(t,e){t==null,QI(t,e)}function rq(t,e){return mm(t,e)}function iq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function oq(t){return Object.getPrototypeOf(t.constructor)===AP}function sq(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function aq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ym?n=o:oq(o)?r=o:i=o}),i||r||n||null}function cq(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function IP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var um=class extends Yc{constructor(e=null,n,r){super(GI(n),WI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(DP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var uq=t=>t instanceof um;var QP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Kt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),lq={provide:zI,useExisting:us(()=>YI),multi:!0},YI=(()=>{let e=class e extends AP{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fa(e)))(o||e)}})(),e.\u0275dir=Kt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&vn("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Xu([lq]),ci]});let t=e;return t})();var YP=new Y("");var dq={provide:Qc,useExisting:us(()=>ZI)},ZI=(()=>{let e=class e extends Qc{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new bt,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return EP(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){bP(r.control||null,r,!1),cq(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,sq(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new UI(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new $I(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(bP(i||null,r),uq(o)&&(EP(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);nq(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&rq(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QI(this.form,this),this._oldForm&&mm(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(ye(xP,10),ye(MP,10),ye(WP,8))},e.\u0275dir=Kt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&vn("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xu([dq]),ci,Yi]});let t=e;return t})();var hq={provide:bd,useExisting:us(()=>JI)},JI=(()=>{let e=class e extends bd{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new bt,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=aq(this,s)}ngOnChanges(r){this._added||this._setUpControl(),iq(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Z5(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(ye(Qc,13),ye(xP,10),ye(MP,10),ye(zI,10),ye(YP,8))},e.\u0275dir=Kt({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xu([hq]),ci,Yi]});let t=e;return t})();var fq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({});let t=e;return t})(),qI=class extends Yc{constructor(e,n,r){super(GI(n),WI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){GP(this,!1,e),e.forEach((r,i)=>{zP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function CP(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var ZP=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return CP(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new pm(o,s)}record(r,i=null){let o=this._reduceControls(r);return new HI(o,i)}control(r,i,o){let s={};return this.useNonNullable?(CP(i)?s=i:(s.validators=i,s.asyncValidators=o),new um(r,xe(K({},s),{nonNullable:!0}))):new um(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new qI(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof um)return r;if(r instanceof Yc)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var JP=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:YP,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:WP,useValue:r.callSetDisabledState??KI}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({imports:[fq]});let t=e;return t})();var Zc=C0(__());function gq(t,e){t&1&&(Ce(0,"div",14)(1,"span",15),ze(2,"Loading..."),Te()())}function mq(t,e){t&1&&(Ce(0,"span",16),ze(1,"Todos los campos son obligatorios"),Te())}var XI=(()=>{let e=class e{constructor(r,i,o,s){this.fb=r,this.empleadoService=i,this.router=o,this.aRoute=s,this.submitted=!1,this.loading=!1,this.title="Agregar Empleado",this.action="Registrar",this.createEmpleado=this.fb.group({nombre:["",[ur.required,ur.maxLength(20)]],apellido:["",[ur.required,ur.maxLength(20)]],documento:["",[ur.required,ur.pattern(/^\d{8}$|^\d{10}$/)]],salario:["",[ur.required,ur.min(250001)]]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.validarAccion()}validarAccion(){this.id!=null&&(this.title="Editar datos de Empleado",this.action="Modificar",this.loading=!0,this.empleadoService.getEmpleado(this.id).subscribe(r=>{this.loading=!1,this.createEmpleado.setValue({nombre:r.payload.data().nombre,apellido:r.payload.data().apellido,documento:r.payload.data().documento,salario:r.payload.data().salario})}))}ejecucion(){if(this.submitted=!0,this.createEmpleado.invalid){Zc.default.fire({title:"Informacion Invalida",text:"Verifique que la informacion sea correta y est\xE9 completa!",icon:"warning"});return}let r={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.id===null?this.agregarEmpleado(r):this.editarEmpleado(r,this.id)}agregarEmpleado(r){this.loading=!0,this.empleadoService.agregarEmpleado(r).then(()=>{Zc.default.fire({title:"Empleado Registrado",text:"El empleado ha sido registrado con exito!",icon:"success"}),this.router.navigate(["/list-empleados"])}).catch(i=>{Zc.default.fire({icon:"error",title:"Oops...",text:"Ha ocurrido un error al registrar el empleado (x_x)",footer:'<a href="#">\xBFQue acaba de suceder?</a>'}),this.loading=!1,console.log(i)})}editarEmpleado(r,i){this.loading=!0,this.empleadoService.updateEmpleado(i,r).then(()=>{Zc.default.fire({title:"Datos Actualizados",text:"los datos han sido actualizados con \xE9xito!",icon:"success"}),this.router.navigate(["/list-empleados"])}).catch(o=>{Zc.default.fire({icon:"error",title:"Oops...",text:"Ha ocurrido un error al actualizar los datos del empleado (x_x)",footer:'<a href="#">\xBFQue acaba de suceder?</a>'}),this.loading=!1,console.log(o)})}};e.\u0275fac=function(i){return new(i||e)(ye(ZP),ye(sm),ye(Nr),ye(gi))},e.\u0275cmp=Ln({type:e,selectors:[["app-crear-empleados"]],decls:21,vars:5,consts:[[1,"crearEmpleado"],[1,"contenedorFormulario"],["class","spinner-border text-success","role","status",4,"ngIf"],["class","spanError",4,"ngIf"],[1,"mt-4",3,"ngSubmit","formGroup"],[1,"campos"],["type","text","formControlName","nombre","placeholder","Nombre"],["type","text","formControlName","apellido","placeholder","Apellido"],[1,"campo"],["type","number","formControlName","documento","placeholder","Documento"],["type","number","formControlName","salario","placeholder","Salario"],[1,"botones"],["type","button","routerLink","/lista-empleados",1,"btn","btn-secondary","btn-lg"],["type","submit",1,"btn","btn-dark","btn-lg"],["role","status",1,"spinner-border","text-success"],[1,"visually-hidden"],[1,"spanError"]],template:function(i,o){i&1&&(Ce(0,"div",0)(1,"div",1)(2,"div")(3,"div")(4,"h3"),ze(5),Te(),Ba(6,gq,3,0,"div",2)(7,mq,2,0,"span",3),Ce(8,"form",4),vn("ngSubmit",function(){return o.ejecucion()}),Ce(9,"div",5),Ut(10,"input",6)(11,"input",7),Te(),Ce(12,"div",8),Ut(13,"input",9),Te(),Ce(14,"div",8),Ut(15,"input",10),Te(),Ce(16,"div",11)(17,"button",12),ze(18,"Volver"),Te(),Ce(19,"button",13),ze(20),Te()()()()()()()),i&2&&(cn(5),Ar(o.title),cn(),ui("ngIf",o.loading),cn(),ui("ngIf",o.submitted&&o.createEmpleado.invalid),cn(),ui("formGroup",o.createEmpleado),cn(12),Ar(o.action))},dependencies:[QP,ym,YI,HP,qP,ZI,JI,op,nc],styles:[".crearEmpleado[_ngcontent-%COMP%]{background:#f5f5f5;width:40%;height:100hv;margin:2.5% auto auto;padding:1%;border-radius:15px}.contendedorFormulario[_ngcontent-%COMP%]{width:95%;margin:auto;border-radius:10px}.botones[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;justify-content:center}.botones[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:0 10px}.spanError[_ngcontent-%COMP%]{background-color:red;color:#000;padding:2px 3px}.campos[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-evenly}.campos[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:49%}.campo[_ngcontent-%COMP%]{width:100%;margin:1% 0%}.campo[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;margin:auto}input[_ngcontent-%COMP%]{border:1px solid #727272;border-radius:3px;margin:auto;padding:5px 8px}@media screen and (max-width:800px){.crearEmpleado[_ngcontent-%COMP%]{width:95%}.campos[_ngcontent-%COMP%]{flex-direction:column;padding:0%}.campos[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:99%;margin:1%}.campo[_ngcontent-%COMP%]{margin-top:1%;margin-bottom:2%}.campo[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:99.5%;margin:auto}}"]});let t=e;return t})();var XP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ln({type:e,selectors:[["app-home"]],decls:3,vars:0,consts:[["data-aos","fade-up","data-aos-duration","800",1,"home"]],template:function(i,o){i&1&&(Ce(0,"div",0)(1,"h1"),ze(2,"Gesti\xF3n de informaci\xF3n de Empleados"),Te()())},styles:[".home[_ngcontent-%COMP%]{width:95%;margin:auto;height:650px;display:flex;align-items:center;color:#fff}.home[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:90px;width:65%;text-shadow:7px 4px 7px rgb(10,10,10)}@media screen and (max-width:800px){.home[_ngcontent-%COMP%]{width:98%}.home[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{width:100%;font-size:55px;text-shadow:7px 4px 7px rgb(10,10,10)}}"]});let t=e;return t})();var yq=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"lista-empleados",component:yP},{path:"home",component:XP},{path:"crear-empleados",component:XI},{path:"editar-empleados/:id",component:XI},{path:"**",redirectTo:"lista-empleados",pathMatch:"full"}],e1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({imports:[v_.forRoot(yq),v_]});let t=e;return t})();var t1=(()=>{let e=class e{constructor(){this.ubicacionPrincipal=0,this.semaforo=!0}ngOnInit(){}onWindowScroll(){let r=window.pageYOffset,i=document.getElementsByTagName("nav")[0];i&&(r<=this.ubicacionPrincipal?i.style.top="0px":i.style.top="-100px"),this.ubicacionPrincipal=r}toggleMenu(){let r=document.querySelector(".hamburguesa"),i=document.querySelector(".enlaces");this.semaforo?(r.style.color="#fff",this.semaforo=!1):(r.style.color="#fff",this.semaforo=!0),i.classList.toggle("menudos")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ln({type:e,selectors:[["app-navbar"]],hostBindings:function(i,o){i&1&&vn("scroll",function(){return o.onWindowScroll()},!1,ST)},decls:16,vars:0,consts:[[1,"NavBar"],[1,"titulo"],[1,"fa-solid","fa-database"],[1,"enlaces"],["routerLink","/home"],["routerLink","/crear-empleados"],["routerLink","/lista-empleados"],[1,"hamburguesa",3,"click"],[1,"fa-solid","fa-bars"]],template:function(i,o){i&1&&(Ce(0,"nav",0)(1,"div",1)(2,"h3"),ze(3,"Gestion de Empleados"),Te(),Ce(4,"p"),Ut(5,"i",2),ze(6,"Firebase"),Te()(),Ce(7,"div",3)(8,"a",4),ze(9,"Home"),Te(),Ce(10,"a",5),ze(11,"Registrar"),Te(),Ce(12,"a",6),ze(13,"Listado"),Te()(),Ce(14,"div",7),vn("click",function(){return o.toggleMenu()}),Ut(15,"i",8),Te()())},dependencies:[nc],styles:[".NavBar[_ngcontent-%COMP%]{padding:2px 20px;background-color:#153448;color:#f5f5f5;box-shadow:0 4px 8px #0003;border-bottom:1px solid transparent;height:85px;line-height:85px;font-size:35px;font-weight:100;display:flex;justify-content:space-evenly}.titulo[_ngcontent-%COMP%]{flex-basis:60%;display:flex;flex-direction:column;height:65px}.titulo[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:35px}.titulo[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:18px;line-height:18px}.titulo[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:5px}.enlaces[_ngcontent-%COMP%]{flex-basis:38%;margin:auto;display:flex;justify-content:space-evenly}.enlaces[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:25px;font-weight:300;width:100px;text-align:center}.enlaces[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#fff;color:#153448;text-decoration:underline solid #153448}.hamburguesa[_ngcontent-%COMP%]{width:80px;height:80px;text-align:center;display:none;z-index:100;cursor:pointer;color:#f5f5f5}.hamburguesa[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:25px;line-height:80px}@media screen and (max-width:800px){.NavBar[_ngcontent-%COMP%]{width:100%}.titulo[_ngcontent-%COMP%]{padding-top:1%;flex-basis:90%}.titulo[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-size:22px}.titulo[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:13px;line-height:13px}.titulo[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:4px}.hamburguesa[_ngcontent-%COMP%]{display:block}.hamburguesa[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:25px;line-height:75px}.enlaces[_ngcontent-%COMP%]{display:none;position:fixed;background:#153448;top:0;right:0;width:100%;height:100vh;align-items:center;flex-direction:column;justify-content:space-evenly;clip-path:polygon(100% 0%,100% 48%,100% 100%,100% 100%,100% 48%,100% 0%)}.menudos[_ngcontent-%COMP%]{display:flex;clip-path:polygon(41% 0%,100% 0%,100% 100%,41% 100%,23% 51%)}}"]});let t=e;return t})();var n1=(()=>{let e=class e{constructor(){this.title="empleados"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ln({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(i,o){i&1&&Ut(0,"app-navbar")(1,"router-outlet")},dependencies:[d_,t1]});let t=e;return t})();var r1={firebase:{apiKey:"AIzaSyBf-oPQLhmtX2TcE32C8O2-b37YuF2bxrQ",authDomain:"empleados-1dc32.firebaseapp.com",projectId:"empleados-1dc32",storageBucket:"empleados-1dc32.appspot.com",messagingSenderId:"676489750423",appId:"1:676489750423:web:6a60fe6cf070adb81fc6d2"},production:!1};var i1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e,bootstrap:[n1]}),e.\u0275inj=xt({providers:[TS()],imports:[JP,DS,e1,Nx.initializeApp(r1.firebase),gP]});let t=e;return t})();IS().bootstrapModule(i1,{ngZoneEventCoalescing:!0}).catch(t=>console.error(t));
